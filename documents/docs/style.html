<!DOCTYPE html>
<html>
<head>
<meta  content="text/html; charset=UTF-8"  http-equiv="content-type">
    
    <title>模版</title>
    <link  rel="stylesheet"  type="text/css"  href="../common.css">
    <script  src="http://bigfoot.ajaxjs.com/bigfoot/public/run_prettify.js"></script>
    <script  src="http://localhost:8080/grand/asset/bigfoot/js/dom.js"></script>
    <link rel="stylesheet" type="text/css" href="http://192.168.1.9/lessService/?picPath=http://localhost:8080/grand/asset/&MainDomain=&ns=C:/Users/temp/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/grand/asset/bigfoot/asset/less&lessFile=C:/Users/temp/workspace/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/grand/asset/bigfoot/asset/less/user.less&isdebug=true" />
    
  </head>
  <body>
    <h4>按钮 Button</h4>
    <p>
    	<button class="my-btn">确定</button> <button class="my-btn-2">确定</button> <button class="my-btn-3">确定</button>
    </p>
    <pre class="prettyprint">&lt;button class="my-btn"&gt;确定&lt;/button&gt;</pre>
    <h4>输入框 Input Field</h4>
    <p>
    	<input type="text" name="" value="Hello World!" class="my-inputField" />
    </p>
    <pre class="prettyprint">&lt;input type="text" name="" value="Hello World!" class="my-inputField" /&gt;</pre>
    <h4>文本框 Textarea</h4>
    <p>
    	<textarea rows="15" cols="20" class="my-inputField" name="intro">“北上广深同比涨幅高达20%，26个主要城市涨幅超10%，69个城市房价上涨……”2013年全国房价涨声一片，这与年初各地制定的房价控制目标相差甚远。 经济学者马光远[微博]表示，房价调控目标是政府对于百姓的“承诺”，没有完成目标而“爽约”，蒙混过关只会丧失公信力。</textarea>
    </p>
	<h4>下拉列表 DropdownList</h4>
    <p>
    <select name="catalog" class="select_1">
		<option value="1">公司新闻</option>
		<option value="2" selected="selected">行业动态</option>
		<option value="3">媒体报道</option>
	</select>
	</p>
    <pre class="prettyprint">&lt;select name="catalog" class="select_1"&gt;
	&lt;option value="1"&gt;公司新闻&lt;/option&gt;
	&lt;option value="2" selected="selected"&gt;行业动态&lt;/option&gt;
	&lt;option value="3"&gt;媒体报道&lt;/option&gt;
&lt;/select&gt;</pre>


	<h4>日历控件 Calendar</h4>
	<!-- 日历控件 -->
		<div class="CalendarHolder">
			<input class="aj-input" placeholder="" name="valid" type="text" noSelectedBeforeDate="true" />
		    <div class="icon">◲</div>
		    <div class="Calendar id_01">
		    	<div style="position:relative;padding-bottom: 40px;">
			        <div class="idCalendarPre">⬅</div>
			        <div class="idCalendarNext">➡</div>
			        <span class="idCalendarYear"></span>年
			        <span class="idCalendarMonth"></span>月
			        <table cellspacing="0">
			            <thead>
			                <tr>
			                    <td>日</td><td>一</td> <td>二</td><td>三</td><td>四</td><td>五</td><td>六</td>
			                </tr>
			            </thead>
			            <tbody></tbody>
			        </table>
			        
					<div class="btns">
				        <input type="button" value="上一年" class="idCalendarPreYear" />
				        <input type="button" value="当前月" class="idCalendarNow" />
				        <input type="button" value="下一年" class="idCalendarNextYear" />
					</div>
		    	</div>
		    </div>
		</div>
		<script src="http://localhost:8080/grand/asset/bigfoot/js/form/calendar.js"></script>
		
		<script>
			var calendar = Object.create(bf_calendar);
			calendar.el = document.querySelector('.Calendar.id_01');
			calendar.onSelect = function(date){
			    var input = this.el.parentNode.querySelector('input[type=text]');
			    // 时间要有限制，不能选择当前日期之前的时间
			    var noSelectedBeforeDate = input.getAttribute('noSelectedBeforeDate');
			
			    // 2012-07-08
			    // firefox中解析 new date(2012/12-23) 不兼容，提示invalid date 无效的日期
				// Chrome下可以直接将其格式化成日期格式，且时分秒默认为零
			    var arr = date.split('-'), now = new Date(arr[0], arr[1] - 1, arr[2], " ", " ", " ");
			    if (noSelectedBeforeDate == "true" && now < new Date){
			    	alert('不能选择当前日期之前的时间');
			    } else {
			    	input.value = date;
			    } 
			};
			calendar.init();
		</script>
		<!-- // 日历控件 -->
		
		<h4>文件上传 FileUpload</h4>
		
		<div class="upload-btns" style="width:100px;">
			<input id="input_file_molding" class="btn_file_molding" size="6" type="file"> 
			<label for="input_file_molding"> 
				<div>
					<div>✚</div>
					点击选择图片
				</div>
			</label>
		</div>
		
		<h4>表单提示及验证</h4>
		<p>简单提示框</p>
		<script>
		if(!this.FormData) {
			FormData = function(){}
		}
		;(function(){
			// 遍历每个函数
			function getList(formEl, fn) {
				var list = [];
				function add(el) {
					list.push(el);
				}
				var forEach = [].forEach;
				forEach.call(formEl.querySelectorAll('input[type=text]'), 	  add);
				forEach.call(formEl.querySelectorAll('input[type=password]'), add);
				
				list.forEach(fn);			
			}

			function createNoteEl(className, tipsNote, input) {
				var tipsNoteEl = document.createElement('div');
				tipsNoteEl.addCls(className);
				tipsNoteEl.innerHTML = '<div class="arrow"></div><span>' + tipsNote + '</span>';
				input.parentNode.appendChild(tipsNoteEl); // 添加兄弟节点
				
				return tipsNoteEl;
			}

			function onfocus(e) {
				var el = e.currentTarget;
				
				var tipsNote = el.getAttribute('data-note2');
				if (tipsNote) {
					var tipsNoteEl = el.parentNode.querySelector('.tipsNote2');
					tipsNoteEl.querySelector('span').innerHTML = tipsNote;
//					var xy = el.getBoundingClientRect();
//					tipsNoteEl.style.left = xy.right + 20 + 'px';
					tipsNoteEl.style.left = el.offsetLeft + el.offsetWidth + 20 + 'px';
					tipsNoteEl.style.top =el.offsetTop + el.offsetTop + 'px';
					tipsNoteEl.removeCls('hide').addCls('active');
				}
			}

			function onBlur(e) {
				var el = e.currentTarget;
				
				// 同一时间只有一个 float panel
				var tipsNote = document.querySelector('.tipsNote2.active');
				tipsNote && tipsNote.addCls('hide').removeCls('active');
				
				// check
				var iconEl = el.parentNode.querySelector('.icon');
				var xy = el.getBoundingClientRect();
				iconEl.style.left = xy.right + 5 + 'px';
				iconEl.style.top = xy.top + 6 + 'px';
				
				if(el.hasAttribute('required')) {
					if(el.value) {
						iconEl.removeCls('hide').removeCls('error').addCls('pass');
					} else {
						iconEl.removeCls('hide').removeCls('pass').addCls('error');
					}
				}
				
				if(el.hasAttribute('data-regexp')) {
					var validatorReg = {
						require : /.+/,
						username: /^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,
						email : /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,
						url : /^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/,
						integer : /^[-\+]?\d+$/,
						double : /^[-\+]?\d+(\.\d+)?$/,
						english : /^[A-Za-z]+$/,
						chinese : /^[\u0391-\uFFE5]+$/
					};
					var regexp = validatorReg[el.getAttribute('data-regexp')];
					if(!regexp)regexp = new RegExp(regexp); // 预设没有的，自定义
					if (regexp && regexp.test(el.value)) {
						iconEl.removeCls('hide').removeCls('error').addCls('pass');
					} else {
						iconEl.removeCls('hide').removeCls('pass').addCls('error');
					}
				}
			}
			
			function everyInput(input) {
				// 说明
				var tipsNote = input.getAttribute('data-note');
				var tipsEl = tipsNote && createNoteEl('tipsNote', tipsNote, input);
				
				//var data-note-direction = input.getAttribute('data-note-direction');
				//return;
				
				// float panel
				var tipsNote2 = input.getAttribute('data-note2');
				tipsNote2 && createNoteEl('tipsNote2', tipsNote2, input).addCls('hide');

				// 表单验证的状态图标
				var iconEl = document.createElement('div');
				iconEl.addCls('icon').addCls('hide');
				input.parentNode.appendChild(iconEl);
				input.onfocus = onfocus;
				input.onblur = onBlur;
			}
			
			FormData.initTips  = function(formEl) {
				getList(typeof formEl == 'string' ? document.querySelector(formEl) : formEl, everyInput);
			}
		})();
		</script>
		<form action="index.jsp" method="POST" style="width:450px;" class="aj form-1">
			<label>
				<span class="required-note">*</span>用户名：
				<input type="text" name="username" placeholder="用户名" 
					required 
					data-regexp="Username"
					data-note="用户名等于账号名；不能与现有的账号名相同；注册后不能修改；" 
					data-note2="用户名22等于账号名；不能与现有的账号名相同；<br >注册后不能修改；"
					data-note-direction="top"
				 />
			</label>
		</form>
		<script>
			FormData.initTips('.form-1');
		</script>
		<form action="index.jsp" method="POST" style="width:450px;" class="aj">
			<label>
				<span class="required-note">*</span>用户名：
				<input type="text" name="username" placeholder="用户名" 
					required 
					data-regexp="Username"
					data-note="用户名等于账号名；不能与现有的账号名相同；注册后不能修改；"
					data-note2="用户名22等于账号名；不能与现有的账号名相同；<br >注册后不能修改；"
				 />
			</label>
			<label>
				<span class="required-note">*</span>电子邮件：
				<input type="text" name="username" placeholder="请输入电子邮件" 
					data-regexp="email"
					data-note="邮件可用于登录和查找密码等；不能与现有的邮件相同；注册后可以修改；" 
					data-note2="推荐使用国内邮箱，如 QQ、163 等的邮箱" />
			</label>
			<label>
				<span class="required-note">*</span>登录密码 :
				<input type="password" name="password" />
			</label>
			<label>
				<span class="required-note">*</span>确认密码 :
				<input type="password" name="password" />
			</label>
			<!-- 验证码 -->
			<label class="captchaCode">
				<span class="required-note">*</span>验证码：
				<input type="text" data-regexp="integer" required /> 
			</label>
			<div>
				<label>
  	                	<input id="agree" class="agree" name="agree" checked="checked" style="width:20px;height:12px" type="checkbox" /> 
                   	我已仔细阅读并接受<a href="misc/registration-policy.jsp" target="_blank">注册条款</a>
				</label>
			</div>
			<div> 
				&nbsp;&nbsp;&nbsp;&nbsp;<input type="submit" value="注 册" /> &nbsp;&nbsp;&nbsp;&nbsp;<a href="?">现有账号登录</a>
			</div>
		</form>
		
		<div class="single_tips hide">
			<div class="arrow"></div>
			<span></span>
		</div>
			

</body></html>