<meta charset="UTF-8">
<title>全屏幕遮罩及 ESC 键盘事件响应</title>

<div class="mask"></div>

<style>
	.mask {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		z-index: 9999999;
		background-color: rgba(0, 0, 0, 0.5);
	}
</style>

<script>
	// 获取页面内容高度赋予 mask
	document.querySelector('.mask').style.height = document.body.scrollHeight + 'px';
	
		// 键盘事件
	function onEnterAndEsc(e){
       e = e || event;
        var keycode = e.which || e.keyCode;
        switch(keycode){  
            case 13: //enter   
            	// 如果 form 里有 action，按下回车自动提交
     			// ...
            break;
            case 339: //exit   
            case 340: //back    
            case 27:
            	var mask = document.querySelector('.mask');
            	mask.parentNode.removeChild(mask);
        } 
	}
		
	document.onkeydown = onEnterAndEsc;
</script>
