<!DOCTYPE html>
<html lang="zh-cn"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<!--<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />-->
	<title>page</title>
 
 
	<script>
	
	/*
@Author paper
@Date 2012-4-27

新版本的翻页控件：
1）可以自定义翻页里面的函数名称，这样调用更方便。
2）全新的UI设计，增加页码直达功能。
*/

var PPage = function(pid, curNum, maxNum, funcName, elevator) {
	// 直达页面UI是否出现 , 为true 时出现
	elevator = elevator || false;

	function getAHtml(num) {
		return '<a href="javascript:;" onclick="' + funcName + '(' + num + ');return false;">' + num + '</a>';
	}

	var page = typeof pid == "string" ? document.getElementById(pid) : pid,
			sPrev = '', sNext = '', sResult = '', sp = '', sn = '', sCur = '<em>' + curNum + '</em>', gd = '<span>...</span>',
			prevNum, nextNum, i, elevatorHtml = '';

	if (curNum == 1) {
		// sPrev='<span>«</span>';
		sPrev = '';
	} else {
		prevNum = curNum - 1;
		sPrev = '<a href="javascript:;" onclick="' + funcName + '(' + prevNum + ');return false;" title="上一页">«</a>';
	}

	if (curNum == maxNum) {
		// sNext='<span>»</span>';
		sNext = '';
	} else {
		nextNum = curNum + 1;
		sNext = '<a href="javascript:;" onclick="' + funcName + '(' + nextNum + ');return false;" title="下一页">»</a>';
	}

	if (maxNum <= 6) {
		for (i = 1; i < curNum; i++) sp += getAHtml(i);
		for (i = curNum + 1; i <= maxNum; i++) sn += getAHtml(i);

		sResult = sPrev + sp + sCur + sn + sNext;
	} else {
		if (curNum <= 4) {
			for (i = 1; i < curNum; i++) {
				sp += getAHtml(i);
			}

			for (i = curNum + 1; i <= 5; i++) {
				sn += getAHtml(i);
			}

			sNext = getAHtml(maxNum) + sNext;

			sResult = sPrev + sp + sCur + sn + gd + sNext;
		} else {
			sPrev = sPrev + getAHtml(1);

			if (curNum < maxNum - 3) {
				for (i = curNum - 2; i < curNum; i++) {
					sp += getAHtml(i);
				}

				for (i = curNum + 1; i <= curNum + 2; i++) {
					sn += getAHtml(i);
				}

				sNext = getAHtml(maxNum) + sNext;

				sResult = sPrev + gd + sp + sCur + sn + gd + sNext;
			} else {
				for (i = maxNum - 4; i < curNum; i++) {
					sp += getAHtml(i);
				}

				for (i = curNum + 1; i <= maxNum; i++) {
					sn += getAHtml(i);
				}

				sResult = sPrev + gd + sp + sCur + sn + sNext;
			}
		}
	}

	if (elevator === true) {
		var n1 = +new Date(), n2 = parseInt(Math.random() * 1000), pagetTextId = "j-page-num"
				+ n1 + n2, pageWarningId = "j-page-elevator-warning" + n1 + n2,

		timeout = "time" + n1 + n2, time = 2000,

		f = funcName.replace(/\./g, "_");

		window['PPage_elevator_' + f] = function(v, max) {
			v = +v;

			if (!v || typeof v !== "number" || v > max || v < 0) {
				var pageWarningElem = document.getElementById(pageWarningId);

				clearTimeout(timeout);

				pageWarningElem.style.display = "block";

				timeout = setTimeout(function() {
					pageWarningElem.style.display = "none";
				}, time);

				return;
			}

			eval(funcName + '(' + v + ')');
		};

		elevatorHtml = '<span class="page-elevator-wrap"><div id="'
				+ pageWarningId
				+ '" class="page-elevator-warning" style="display:none;"><span>最大页数 '
				+ maxNum
				+ '</span><b></b><i></i></div><input class="page-txt" type="text" id="'
				+ pagetTextId
				+ '" autocomplete="off" style="ime-mode:disabled" title="请输入页码，最大页数：'
				+ maxNum
				+ '" /><button class="page-btn" onclick="PPage_elevator_' + f
				+ '(document.getElementById(\'' + pagetTextId + '\').value,'
				+ maxNum + ');return false;">确定</button></span>';
	}

	page.innerHTML = sResult + elevatorHtml;
}
	</script>
	<style type="text/css">
	@charset "utf-8";
/*==================================================================
	翻页的公共样式
==================================================================*/
.page{
	clear:both;
}
.page *{
	vertical-align:middle;
}
.page a,.page span,.page em{
	margin-right:4px;
	padding:3px 8px 3px;
	border-radius:2px;
	color:#333;
	display:inline-block;
}
.page span{
	padding:5px 2px 4px;
}
@charset "utf-8";
html{color:#333;background:#FFF;}
html, body, div, span, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
abbr, address, cite, code,
del, dfn, em, img, ins, kbd, q, samp,
small, strong, sub, sup, var,
b, i,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, figcaption, figure,
footer, header, hgroup, menu, nav, section, summary,
time, mark, audio, video {
	margin:0;padding:0;
}
article,aside,canvas,details,figcaption,figure,
footer,header,hgroup,menu,nav,section,summary {
    display:block;
}
body,button,input,select,textarea{
	font:12px/1.5 arial,"宋体","Arial Narrow";
	-webkit-text-size-adjust:none;
}
h3, h4, h5, h6{font-size:100%;}
blockquote:before, blockquote:after,q:before, q:after {content:'';}
address, cite, dfn, em, var{font-style:normal;}
code, kbd, pre, samp, tt{font-family:"Consolas","Courier New", Courier, monospace;}
small{font-size:12px;}
em,strong{font-weight:bolder;}
ul, ol{list-style:none outside none}
abbr[title], acronym[title]{border-bottom:1px dotted;cursor:help;}
fieldset, img{border:0;}
button, input, select, textarea{font-size:100%;}
table{border-collapse:collapse;border-spacing:0;}
.no-ime{ime-mode:disabled;}

.page a{
	border:1px solid #B3B3B3;
	text-decoration:none;
	text-shadow:0 1px 0 #fff;
	background-color:#f1f1f1;
	background-image:-moz-linear-gradient(top, #fff, #e9e9e9);
	background-image:-webkit-linear-gradient(top, #fff, #e9e9e9);
}
.page a:hover{
	border:1px solid #1e506f;
}
.page em{
	font-weight:bold;
	border:1px solid #1e506f;
	color:#fff;
	text-shadow:0 1px 0 #000;
	background-color:#1e506f;
}
.page .page-elevator-wrap{
	position:relative;
	margin-left:40px;
	zoom:1;
}
.page .page-elevator-warning{
	position:absolute;
	z-index:10;
	top:-28px;
	_top:-23px;
	left:-22px;
	width:82px;
	line-height:1.2;
	margin:0;
	padding:3px 5px 5px;
	text-align:center;
	font-family:Tahoma;
	background-color:#fff;
	border-radius:2px;
	border:1px solid #B3B3B3;
	box-shadow:0 1px 3px #CFCFCF;
}
.page .page-elevator-warning span{
	padding:0;
	margin:0;
	color:#FA0000;
	+margin-bottom:-5px;
	_margin-bottom:0;
}
.page .page-elevator-warning b,
.page .page-elevator-warning i{
	position:absolute;
	height:0;
	width:0;
	overflow:hidden;
}
.page .page-elevator-warning b{
	border-top:5px solid #B3B3B3;
	border-left:5px dashed transparent;
	border-right:5px dashed transparent;
	bottom:-5px;
	left:40px;
}
.page .page-elevator-warning i{
	border-top:4px solid #fff;
	border-left:4px dashed transparent;
	border-right:4px dashed transparent;
	bottom:-3px;
    left:41px;
}
.page .page-txt{
	border:1px solid #B3B3B3;
	box-shadow:inset 0 1px 2px #ccc;
	width:35px;
	padding:3px 3px 0;
	height:21px;
	margin-right:4px;
}
.page .page-txt:focus{
	border-color:#1e506f;
}
.page .page-btn{
	border:1px solid #B3B3B3;
	text-shadow:0 1px 0 #fff;
	background-color:#e9e9e9;
	background-image:-moz-linear-gradient(top, #fff, #e9e9e9);
	background-image:-webkit-linear-gradient(top, #fff, #e9e9e9);
	cursor:pointer;
	
	padding:0px 6px 0;
	height:26px;
	
	padding:3px 3px 0\9;
	height:26px\9;
	overflow:visibility;
}


	
		.wrapper{
			width:960px;
			margin:0 auto;
			padding:50px 0;
		}
		h1{
			border-bottom:1px solid #ccc;
		}
		h2{
			font-size:12px;
		}
	</style>
</head>
<body>
	
	<div class="wrapper">
	
	<h1 class="mb20">翻页样式 1.0</h1>
	
	<!--<div class="page mb20" id="page">
		<a href="javascript:;" title="上一页">«</a><a href="javascript:;">1</a><span>...</span><a href="javascript:;">5</a><a href="javascript:;">6</a><em>7</em><a href="javascript:;">8</a><a href="javascript:;">9</a><span>...</span><a href="javascript:;">819</a><a class="page-next" href="javascript:;" title="下一页">»</a>
		
		<span class="page-elevator-wrap">
			<div class="page-elevator-warning"><span>最大页数 8191</span><b></b><i></i></div>
			<input class="page-txt" type="text" id="page23456754" autocomplete="off" style="ime-mode:disabled" title="请输入页码，最大页数：819" /><button class="page-btn">确定</button>
		</span>
	</div>-->
	
	<h2>普通翻页模式</h2>
	<div class="page mb20" id="page-js-1"><a href="javascript:;" onclick="hoho1(1);return false;" title="上一页">«</a><a href="javascript:;" onclick="hoho1(1);return false;">1</a><em>2</em><a href="javascript:;" onclick="hoho1(3);return false;">3</a><a href="javascript:;" onclick="hoho1(4);return false;">4</a><a href="javascript:;" onclick="hoho1(5);return false;">5</a><span>...</span><a href="javascript:;" onclick="hoho1(20);return false;">20</a><a href="javascript:;" onclick="hoho1(3);return false;" title="下一页">»</a></div>
	<script type="text/javascript">
		PPage("page-js-1",1,20,"hoho1");
		
		function hoho1(pageNum){
			//do....
			PPage("page-js-1",pageNum,20,"hoho1");
		};
	</script>
	
	<h2>方法函数翻页模式，带直达电梯</h2>
	<div class="page mb20" id="page-js-2"><a href="javascript:;" onclick="hoho2.go(4);return false;" title="上一页">«</a><a href="javascript:;" onclick="hoho2.go(1);return false;">1</a><span>...</span><a href="javascript:;" onclick="hoho2.go(3);return false;">3</a><a href="javascript:;" onclick="hoho2.go(4);return false;">4</a><em>5</em><a href="javascript:;" onclick="hoho2.go(6);return false;">6</a><a href="javascript:;" onclick="hoho2.go(7);return false;">7</a><span>...</span><a href="javascript:;" onclick="hoho2.go(40);return false;">40</a><a href="javascript:;" onclick="hoho2.go(6);return false;" title="下一页">»</a><span class="page-elevator-wrap"><div id="j-page-elevator-warning1346331011735364" class="page-elevator-warning" style="display:none;"><span>最大页数 40</span><b></b><i></i></div><input class="page-txt" id="j-page-num1346331011735364" autocomplete="off" style="ime-mode: disabled;" title="请输入页码，最大页数：40" type="text"><button class="page-btn" onclick="PPage_elevator_hoho2_go(document.getElementById('j-page-num1346331011735364').value,40);return false;">确定</button></span></div>
	<script type="text/javascript">
		PPage("page-js-2",5,40,"hoho2.go",true);
		
		function hoho2(){};
		hoho2.go=function(pageNum){
			//do....
			PPage("page-js-2",pageNum,40,"hoho2.go",true);
		}
	</script>
	
	<h2 class="tc">居中翻页模式，带直达电梯，支持9999的翻页（应该够了吧）</h2>
	<div class="page tc mb20" id="page-js-3"><a href="javascript:;" onclick="hoho3(1);return false;" title="上一页">«</a><a href="javascript:;" onclick="hoho3(1);return false;">1</a><em>2</em><a href="javascript:;" onclick="hoho3(3);return false;">3</a><a href="javascript:;" onclick="hoho3(4);return false;">4</a><a href="javascript:;" onclick="hoho3(5);return false;">5</a><span>...</span><a href="javascript:;" onclick="hoho3(2012);return false;">2012</a><a href="javascript:;" onclick="hoho3(3);return false;" title="下一页">»</a><span class="page-elevator-wrap"><div id="j-page-elevator-warning1346331022565364" class="page-elevator-warning" style="display:none;"><span>最大页数 2012</span><b></b><i></i></div><input class="page-txt" id="j-page-num1346331022565364" autocomplete="off" style="ime-mode: disabled;" title="请输入页码，最大页数：2012" type="text"><button class="page-btn" onclick="PPage_elevator_hoho3(document.getElementById('j-page-num1346331022565364').value,2012);return false;">确定</button></span></div>
	<script type="text/javascript">
		PPage("page-js-3",20,2012,"hoho3",true);
		
		function hoho3(pageNum){
			//do....
			PPage("page-js-3",pageNum,2012,"hoho3",true);
		};
		
	</script>
	</div>

</body></html>