{"version":3,"file":"../dist/form.min.js","sources":["form.min.js"],"sourcesContent":["\"use strict\";\n\n/**\n * 起始时间、截止时间的范围选择\n */\nVue.component('aj-form-between-date', {\n    template: html(__makeTemplateObject([\"\\n        <form action=\\\".\\\" method=\\\"GET\\\" class=\\\"dateRange\\\" @submit=\\\"valid\\\">\\n            <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u8D77\\u59CB\\u65F6\\u95F4\\\" field-name=\\\"startDate\\\" ></aj-form-calendar-input>\\n            - <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u622A\\u81F3\\u65F6\\u95F4\\\" field-name=\\\"endDate\\\"></aj-form-calendar-input>\\n            <button class=\\\"aj-btn\\\">\\u6309\\u65F6\\u95F4\\u7B5B\\u9009</button>\\n        </form>    \\n    \"], [\"\\n        <form action=\\\".\\\" method=\\\"GET\\\" class=\\\"dateRange\\\" @submit=\\\"valid\\\">\\n            <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u8D77\\u59CB\\u65F6\\u95F4\\\" field-name=\\\"startDate\\\" ></aj-form-calendar-input>\\n            - <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u622A\\u81F3\\u65F6\\u95F4\\\" field-name=\\\"endDate\\\"></aj-form-calendar-input>\\n            <button class=\\\"aj-btn\\\">\\u6309\\u65F6\\u95F4\\u7B5B\\u9009</button>\\n        </form>    \\n    \"])),\n    props: {\n        isAjax: { type: Boolean, default: true } // 是否 AJAX 模式\n    },\n    methods: {\n        valid: function (ev) {\n            var start = this.$el.$('input[name=startDate]').value, end = this.$el.$('input[name=endDate]').value;\n            if (!start || !end) {\n                aj.alert(\"输入数据不能为空\");\n                ev.preventDefault();\n                return;\n            }\n            if (new Date(start) > new Date(end)) {\n                aj.alert(\"起始日期不能晚于结束日期\");\n                ev.preventDefault();\n                return;\n            }\n            //@ts-ignore\n            if (this.isAjax) {\n                ev.preventDefault();\n                var grid = this.$parent.$parent;\n                aj.apply(grid.$refs.pager.extraParam, {\n                    startDate: start, endDate: end\n                });\n                grid.reload();\n            }\n        }\n    }\n});\n\n\"use strict\";\n\nVue.component('aj-form-calendar-input', {\n    template: html(__makeTemplateObject([\"\\n        <div class=\\\"aj-form-calendar-input\\\" :class=\\\"{'show-time': showTime}\\\" @mouseover=\\\"onMouseOver\\\">\\n            <div class=\\\"icon fa fa-calendar\\\"></div>\\n            <input :placeholder=\\\"placeholder\\\" size=\\\"12\\\" :name=\\\"fieldName\\\" :value=\\\"date + (dateOnly ? '' : ' ' + time)\\\"\\n                type=\\\"text\\\" autocomplete=\\\"off\\\" />\\n            <aj-form-calendar ref=\\\"calendar\\\" :show-time=\\\"showTime\\\" @pick-date=\\\"recEvent\\\" @pick-time=\\\"recTimeEvent\\\">\\n            </aj-form-calendar>\\n        </div>\\n    \"], [\"\\n        <div class=\\\"aj-form-calendar-input\\\" :class=\\\"{'show-time': showTime}\\\" @mouseover=\\\"onMouseOver\\\">\\n            <div class=\\\"icon fa fa-calendar\\\"></div>\\n            <input :placeholder=\\\"placeholder\\\" size=\\\"12\\\" :name=\\\"fieldName\\\" :value=\\\"date + (dateOnly ? '' : ' ' + time)\\\"\\n                type=\\\"text\\\" autocomplete=\\\"off\\\" />\\n            <aj-form-calendar ref=\\\"calendar\\\" :show-time=\\\"showTime\\\" @pick-date=\\\"recEvent\\\" @pick-time=\\\"recTimeEvent\\\">\\n            </aj-form-calendar>\\n        </div>\\n    \"])),\n    data: function () {\n        return {\n            date: this.fieldValue,\n            time: ''\n        };\n    },\n    props: {\n        fieldName: { type: String, required: true },\n        fieldValue: { type: String, required: false, default: '' },\n        dateOnly: { type: Boolean, required: false, default: true },\n        showTime: false,\n        positionFixed: Boolean,\n        placeholder: { type: String, default: '请输入日期' } // 提示文字\n    },\n    watch: {\n        fieldValue: function (n) {\n            this.date = n;\n        }\n    },\n    mounted: function () {\n        if (this.positionFixed) {\n            var el = this.$el.$('.aj-form-calendar');\n            el.classList.add('positionFixed');\n        }\n        // 2012-07-08\n        // firefox中解析 new Date('2012/12-23') 不兼容，提示invalid date 无效的日期\n        // Chrome下可以直接将其格式化成日期格式，且时分秒默认为零\n        // var arr = date.split('-'), now = new Date(arr[0], arr[1] - 1, arr[2],\n        // \" \", \"\", \" \");\n        if (this.fieldValue) {\n            var arr = this.fieldValue.split(' ')[0], _arr = arr.split('-');\n            // @ts-ignore\n            this.$refs.calendar.date = new Date(arr[0], arr[1] - 1, arr[2], \" \", \"\", \" \");\n        }\n    },\n    methods: {\n        recTimeEvent: function (time) {\n            this.time = time;\n        },\n        recEvent: function (date) {\n            this.date = date.trim();\n        },\n        onMouseOver: function (ev) {\n            if (this.positionFixed) {\n                var el = ev.currentTarget, b = el.getBoundingClientRect(), c = this.$el.$('.aj-form-calendar');\n                c.style.top = (b.top + el.clientHeight - 0) + 'px';\n                c.style.left = ((b.left - 0) + 0) + 'px';\n            }\n        }\n    }\n});\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        /**\n         * 日期选择器\n         */\n        var Calendar = /** @class */ (function (_super) {\n            __extends(Calendar, _super);\n            function Calendar() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-form-calendar\";\n                _this.template = html(__makeTemplateObject([\"\\n            <div class=\\\"aj-form-calendar\\\">\\n                <div class=\\\"selectYearMonth\\\">\\n                    <a href=\\\"###\\\" @click=\\\"getDate('preYear')\\\" class=\\\"preYear\\\" title=\\\"\\u4E0A\\u4E00\\u5E74\\\">&lt;</a>\\n                    <select @change=\\\"setMonth\\\" v-model=\\\"month\\\">\\n                        <option value=\\\"1\\\">\\u4E00\\u6708</option>\\n                        <option value=\\\"2\\\">\\u4E8C\\u6708</option>\\n                        <option value=\\\"3\\\">\\u4E09\\u6708</option>\\n                        <option value=\\\"4\\\">\\u56DB\\u6708</option>\\n                        <option value=\\\"5\\\">\\u4E94\\u6708</option>\\n                        <option value=\\\"6\\\">\\u516D\\u6708</option>\\n                        <option value=\\\"7\\\">\\u4E03\\u6708</option>\\n                        <option value=\\\"8\\\">\\u516B\\u6708</option>\\n                        <option value=\\\"9\\\">\\u4E5D\\u6708</option>\\n                        <option value=\\\"10\\\">\\u5341\\u6708</option>\\n                        <option value=\\\"11\\\">\\u5341\\u4E00\\u6708</option>\\n                        <option value=\\\"12\\\">\\u5341\\u4E8C\\u6708</option>\\n                    </select>\\n                    <a href=\\\"###\\\" @click=\\\"getDate('nextYear')\\\" class=\\\"nextYear\\\" title=\\\"\\u4E0B\\u4E00\\u5E74\\\">&gt;</a>\\n                </div>\\n                <div class=\\\"showCurrentYearMonth\\\">\\n                    <span class=\\\"showYear\\\">{{year}}</span>/<span class=\\\"showMonth\\\">{{month}}</span>\\n                </div>\\n                <table>\\n                    <thead>\\n                        <tr>\\n                            <td>\\u65E5</td>\\n                            <td>\\u4E00</td>\\n                            <td>\\u4E8C</td>\\n                            <td>\\u4E09</td>\\n                            <td>\\u56DB</td>\\n                            <td>\\u4E94</td>\\n                            <td>\\u516D</td>\\n                        </tr>\\n                    </thead>\\n                    <tbody @click=\\\"pickDay\\\"></tbody>\\n                </table>\\n                <div v-if=\\\"showTime\\\" class=\\\"showTime\\\">\\n                    \\u65F6 <select class=\\\"hour aj-select\\\">\\n                        <option v-for=\\\"n in 24\\\">{{n}}</option>\\n                    </select>\\n                    \\u5206 <select class=\\\"minute aj-select\\\">\\n                        <option v-for=\\\"n in 61\\\">{{n - 1}}</option>\\n                    </select>\\n                    <a href=\\\"#\\\" @click=\\\"pickupTime\\\">\\u9009\\u62E9\\u65F6\\u95F4</a>\\n                </div>\\n            </div>\\n        \"], [\"\\n            <div class=\\\"aj-form-calendar\\\">\\n                <div class=\\\"selectYearMonth\\\">\\n                    <a href=\\\"###\\\" @click=\\\"getDate('preYear')\\\" class=\\\"preYear\\\" title=\\\"\\u4E0A\\u4E00\\u5E74\\\">&lt;</a>\\n                    <select @change=\\\"setMonth\\\" v-model=\\\"month\\\">\\n                        <option value=\\\"1\\\">\\u4E00\\u6708</option>\\n                        <option value=\\\"2\\\">\\u4E8C\\u6708</option>\\n                        <option value=\\\"3\\\">\\u4E09\\u6708</option>\\n                        <option value=\\\"4\\\">\\u56DB\\u6708</option>\\n                        <option value=\\\"5\\\">\\u4E94\\u6708</option>\\n                        <option value=\\\"6\\\">\\u516D\\u6708</option>\\n                        <option value=\\\"7\\\">\\u4E03\\u6708</option>\\n                        <option value=\\\"8\\\">\\u516B\\u6708</option>\\n                        <option value=\\\"9\\\">\\u4E5D\\u6708</option>\\n                        <option value=\\\"10\\\">\\u5341\\u6708</option>\\n                        <option value=\\\"11\\\">\\u5341\\u4E00\\u6708</option>\\n                        <option value=\\\"12\\\">\\u5341\\u4E8C\\u6708</option>\\n                    </select>\\n                    <a href=\\\"###\\\" @click=\\\"getDate('nextYear')\\\" class=\\\"nextYear\\\" title=\\\"\\u4E0B\\u4E00\\u5E74\\\">&gt;</a>\\n                </div>\\n                <div class=\\\"showCurrentYearMonth\\\">\\n                    <span class=\\\"showYear\\\">{{year}}</span>/<span class=\\\"showMonth\\\">{{month}}</span>\\n                </div>\\n                <table>\\n                    <thead>\\n                        <tr>\\n                            <td>\\u65E5</td>\\n                            <td>\\u4E00</td>\\n                            <td>\\u4E8C</td>\\n                            <td>\\u4E09</td>\\n                            <td>\\u56DB</td>\\n                            <td>\\u4E94</td>\\n                            <td>\\u516D</td>\\n                        </tr>\\n                    </thead>\\n                    <tbody @click=\\\"pickDay\\\"></tbody>\\n                </table>\\n                <div v-if=\\\"showTime\\\" class=\\\"showTime\\\">\\n                    \\u65F6 <select class=\\\"hour aj-select\\\">\\n                        <option v-for=\\\"n in 24\\\">{{n}}</option>\\n                    </select>\\n                    \\u5206 <select class=\\\"minute aj-select\\\">\\n                        <option v-for=\\\"n in 61\\\">{{n - 1}}</option>\\n                    </select>\\n                    <a href=\\\"#\\\" @click=\\\"pickupTime\\\">\\u9009\\u62E9\\u65F6\\u95F4</a>\\n                </div>\\n            </div>\\n        \"]));\n                _this.watch = {\n                    date: function () {\n                        this.year = this.date.getFullYear();\n                        this.month = this.date.getMonth() + 1;\n                        this.render();\n                    }\n                };\n                _this.showTime = Boolean; // 是否显示时间，即“时分秒”\n                _this.date = new Date();\n                _this.year = new Date().getFullYear();\n                _this.month = new Date().getMonth() + 1;\n                _this.day = 1;\n                return _this;\n            }\n            Calendar.prototype.data = function () {\n                var date = new Date;\n                return {\n                    date: date,\n                    year: date.getFullYear(),\n                    month: date.getMonth() + 1,\n                    day: 1\n                };\n            };\n            Calendar.prototype.mounted = function () {\n                this.$options.watch.date.call(this);\n            };\n            /**\n             * 画日历\n             */\n            Calendar.prototype.render = function () {\n                var arr = this.getDateArr(), // 用来保存日期列表\n                frag = document.createDocumentFragment(); // 插入日期\n                while (arr.length) {\n                    var row = document.createElement(\"tr\"); // 每个星期插入一个 tr\n                    for (var i = 1; i <= 7; i++) { // 每个星期有7天\n                        var cell = document.createElement(\"td\");\n                        if (arr.length) {\n                            var d = arr.shift();\n                            if (d) {\n                                cell.innerHTML = d + \"\";\n                                var text = this.year + '-' + this.month + '-' + d;\n                                cell.className = 'day day_' + text;\n                                cell.title = text; // 保存日期在 title 属性\n                                var on = new Date(this.year, this.month - 1, d);\n                                // 判断是否今日\n                                if (isSameDay(on, this.date)) {\n                                    cell.classList.add('onToday');\n                                    // this.onToday && this.onToday(cell);// 点击 今天 时候触发的事件\n                                }\n                                // 判断是否选择日期\n                                // this.selectDay && this.onSelectDay && this.isSameDay(on, this.selectDay) &&\n                                // this.onSelectDay(cell);\n                            }\n                        }\n                        row.appendChild(cell);\n                    }\n                    frag.appendChild(row);\n                }\n                // 先清空内容再插入(ie的table不能用innerHTML)\n                // while (el.hasChildNodes())\n                // el.removeChild(el.firstChild);\n                var tbody = this.$el.$(\"table tbody\");\n                tbody.innerHTML = '';\n                tbody.appendChild(frag);\n            };\n            /**\n             * 获取指定的日期\n             *\n             * @param dateType\n             * @param month\n             */\n            Calendar.prototype.getDate = function (dateType, month) {\n                var nowYear = this.date.getFullYear(), nowMonth = this.date.getMonth() + 1; // 当前日期\n                switch (dateType) {\n                    case 'preMonth': // 上一月\n                        this.date = new Date(nowYear, nowMonth - 2, 1);\n                        break;\n                    case 'nextMonth': // 下一月\n                        this.date = new Date(nowYear, nowMonth, 1);\n                        break;\n                    case 'setMonth': // 指定月份\n                        this.date = new Date(nowYear, month - 1, 1);\n                        break;\n                    case 'preYear': // 上一年\n                        this.date = new Date(nowYear - 1, nowMonth - 1, 1);\n                        break;\n                    case 'nextYear': // 下一年\n                        this.date = new Date(nowYear + 1, nowMonth - 1, 1);\n                        break;\n                }\n            };\n            /**\n             *\n             *\n             * @param $event\n             */\n            Calendar.prototype.setMonth = function (ev) {\n                var el = ev.target;\n                this.getDate('setMonth', Number(el.selectedOptions[0].value));\n            };\n            /**\n             * 获取空白的非上月天数 + 当月天数\n             *\n             * @param this\n             */\n            Calendar.prototype.getDateArr = function () {\n                var arr = [];\n                // 用 当月第一天 在一周中的日期值 作为 当月 离 第一天的天数\n                for (var i = 1, firstDay = new Date(this.year, this.month - 1, 1).getDay(); i <= firstDay; i++)\n                    arr.push(0);\n                // 用 当月最后一天 在一个月中的 日期值 作为 当月的天数\n                for (var i = 1, monthDay = new Date(this.year, this.month, 0).getDate(); i <= monthDay; i++)\n                    arr.push(i);\n                return arr;\n            };\n            /**\n             * 获取日期\n             *\n             * @param $event\n             */\n            Calendar.prototype.pickDay = function (ev) {\n                var el = ev.target, date = el.title;\n                this.$emit('pick-date', date);\n                return date;\n            };\n            /**\n             *\n             * @param $event\n             */\n            Calendar.prototype.pickupTime = function ($event) {\n                var hour = this.$el.$('.hour'), minute = this.$el.$('.minute'), time = hour.selectedOptions[0].value + ':' + minute.selectedOptions[0].value;\n                this.$emit('pick-time', time);\n            };\n            return Calendar;\n        }(aj.VueComponent));\n        form.Calendar = Calendar;\n        /**\n         * 判断两个日期是否同一日\n         *\n         * @param d1\n         * @param d2\n         */\n        function isSameDay(d1, d2) {\n            return (d1.getFullYear() == d2.getFullYear() && d1.getMonth() == d2.getMonth() && d1.getDate() == d2.getDate());\n        }\n        new Calendar().register();\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        /**\n         * 全国省市区\n         * 写死属性\n         */\n        var ChinaArea = /** @class */ (function (_super) {\n            __extends(ChinaArea, _super);\n            function ChinaArea() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-china-area\";\n                _this.template = html(__makeTemplateObject([\"\\n\\t\\t\\t<div class=\\\"aj-china-area\\\">\\n\\t\\t\\t\\t<span>\\u7701</span>\\n\\t\\t\\t\\t<select v-model=\\\"province\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"provinceName || 'locationProvince'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in addressData[86]\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u5E02 </span>\\n\\t\\t\\t\\t<select v-model=\\\"city\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"cityName || 'locationCity'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in citys\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u533A</span>\\n\\t\\t\\t\\t<select v-model=\\\"district\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"districtName || 'locationDistrict'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in districts\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t</div>\\n\\t\\t\"], [\"\\n\\t\\t\\t<div class=\\\"aj-china-area\\\">\\n\\t\\t\\t\\t<span>\\u7701</span>\\n\\t\\t\\t\\t<select v-model=\\\"province\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"provinceName || 'locationProvince'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in addressData[86]\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u5E02 </span>\\n\\t\\t\\t\\t<select v-model=\\\"city\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"cityName || 'locationCity'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in citys\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u533A</span>\\n\\t\\t\\t\\t<select v-model=\\\"district\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"districtName || 'locationDistrict'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in districts\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t</div>\\n\\t\\t\"]));\n                _this.provinceCode = String;\n                _this.cityCode = String;\n                _this.districtCode = String;\n                _this.provinceName = String;\n                _this.cityName = String;\n                _this.districtName = String;\n                _this.computed = {\n                    citys: function () {\n                        if (!this.province)\n                            return {};\n                        return this.addressData[this.province];\n                    },\n                    districts: function () {\n                        if (!this.city)\n                            return {};\n                        return this.addressData[this.city];\n                    }\n                };\n                return _this;\n            }\n            ChinaArea.prototype.data = function () {\n                return {\n                    province: this.provinceCode || '',\n                    city: this.cityCode || '',\n                    district: this.districtCode || '',\n                    //@ts-ignore\n                    addressData: window.China_AREA\n                };\n            };\n            // watch = { // 令下一级修改\n            // \tprovince(val: any, oldval: any) {\n            // \t\tif (val !== oldval)\n            // \t\t\tthis.city = '';\n            // \t},\n            // \tcity(val: any, oldval: any) {\n            // \t\tif (val !== oldval)\n            // \t\t\tthis.district = '';\n            // \t}\n            // };\n            ChinaArea.prototype.mounted = function () {\n                //@ts-ignore\n                if (!window.China_AREA)\n                    throw '中国行政区域数据 脚本没导入';\n            };\n            return ChinaArea;\n        }(aj.VueComponent));\n        form.ChinaArea = ChinaArea;\n        new ChinaArea().register();\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form_1) {\n        Vue.component('aj-edit-form', {\n            template: html(__makeTemplateObject([\"\\n            <form class=\\\"aj-table-form\\\" :action=\\\"getInfoApi + (isCreate ? '' : info.id + '/')\\\" :method=\\\"isCreate ? 'POST' : 'PUT'\\\">\\n                <h3>{{isCreate ? \\\"\\u65B0\\u5EFA\\\" : \\\"\\u7F16\\u8F91\\\" }}{{uiName}}</h3>\\n                <!-- \\u4F20\\u9001 id \\u53C2\\u6570 -->\\n                <input v-if=\\\"!isCreate\\\" type=\\\"hidden\\\" name=\\\"id\\\" :value=\\\"info.id\\\" />\\n                <slot v-bind:info=\\\"info\\\"></slot>\\n                <div class=\\\"aj-btnsHolder\\\">\\n                    <button><img :src=\\\"ajResources.commonAsset + '/icon/save.gif'\\\" /> {{isCreate ? \\\"\\u65B0\\u5EFA\\\":\\\"\\u4FDD\\u5B58\\\"}}</button>\\n                    <button onclick=\\\"this.up('form').reset();return false;\\\">\\u590D \\u4F4D</button>\\n                    <button v-if=\\\"!isCreate\\\" v-on:click.prevent=\\\"del()\\\">\\n                        <img :src=\\\"ajResources.commonAsset + '/icon/delete.gif'\\\" /> \\u5220 \\u9664\\n                    </button>\\n                    <button @click.prevent=\\\"close\\\">\\u5173\\u95ED</button>\\n                </div>\\n            </form>\\n        \"], [\"\\n            <form class=\\\"aj-table-form\\\" :action=\\\"getInfoApi + (isCreate ? '' : info.id + '/')\\\" :method=\\\"isCreate ? 'POST' : 'PUT'\\\">\\n                <h3>{{isCreate ? \\\"\\u65B0\\u5EFA\\\" : \\\"\\u7F16\\u8F91\\\" }}{{uiName}}</h3>\\n                <!-- \\u4F20\\u9001 id \\u53C2\\u6570 -->\\n                <input v-if=\\\"!isCreate\\\" type=\\\"hidden\\\" name=\\\"id\\\" :value=\\\"info.id\\\" />\\n                <slot v-bind:info=\\\"info\\\"></slot>\\n                <div class=\\\"aj-btnsHolder\\\">\\n                    <button><img :src=\\\"ajResources.commonAsset + '/icon/save.gif'\\\" /> {{isCreate ? \\\"\\u65B0\\u5EFA\\\":\\\"\\u4FDD\\u5B58\\\"}}</button>\\n                    <button onclick=\\\"this.up(\\\\'form\\\\').reset();return false;\\\">\\u590D \\u4F4D</button>\\n                    <button v-if=\\\"!isCreate\\\" v-on:click.prevent=\\\"del()\\\">\\n                        <img :src=\\\"ajResources.commonAsset + '/icon/delete.gif'\\\" /> \\u5220 \\u9664\\n                    </button>\\n                    <button @click.prevent=\\\"close\\\">\\u5173\\u95ED</button>\\n                </div>\\n            </form>\\n        \"])),\n            props: {\n                isCreate: Boolean,\n                uiName: String,\n                apiUrl: { type: String, required: true } // 获取实体详情的接口地址 \n            },\n            data: function () {\n                return {\n                    id: 0,\n                    info: {},\n                };\n            },\n            mounted: function () {\n                var _this = this;\n                aj.xhr.form(this.$el, function (j) {\n                    if (j) {\n                        if (j.isOk) {\n                            var msg_1 = (_this.isCreate ? \"新建\" : \"保存\") + _this.uiName + \"成功\";\n                            aj.msg.show(msg_1);\n                            _this.$parent.close();\n                        }\n                        else\n                            aj.msg.show(j.msg);\n                    }\n                }, {\n                    beforeSubmit: function (form, json) {\n                        //json.content = App.$refs.htmleditor.getValue({cleanWord : eval('${aj_allConfig.article.cleanWordTag}'), encode : true});\n                        return true;\n                    }\n                });\n            },\n            methods: {\n                load: function (id, cb) {\n                    var _this = this;\n                    this.id = id;\n                    aj.xhr.get(this.apiUrl + id + \"/\", function (j) {\n                        _this.info = j.result;\n                        cb && cb(j);\n                    });\n                },\n                close: function () {\n                    if (this.$parent.$options._componentTag === 'aj-layer')\n                        //@ts-ignore\n                        this.$parent.close();\n                    else\n                        history.back();\n                },\n                /**\n                 * 执行删除\n                 *\n                 * @param this\n                 */\n                del: function () {\n                    var id = form_1.utils.getFormFieldValue(this.$el, 'input[name=id]'), title = form_1.utils.getFormFieldValue(this.$el, 'input[name=name]');\n                    aj.showConfirm(\"\\u8BF7\\u786E\\u5B9A\\u5220\\u9664\\u8BB0\\u5F55\\uFF1A\\n\" + title + \"\\uFF1F\", function () {\n                        return aj.xhr.dele(\"../\" + id + \"/\", function (j) {\n                            if (j.isOk) {\n                                aj.msg.show('删除成功！');\n                                //setTimeout(() => location.reload(), 1500);\n                            }\n                            else\n                                aj.alert('删除失败！');\n                        });\n                    });\n                }\n            }\n        });\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        /**\n         * HTML 在綫編輯器\n         *\n         * 注意：必须提供一个 <slot> 包含有 <textarea class=\"hide\" name=\"content\">${info.content}</textarea>\n         */\n        var HtmlEditor = /** @class */ (function (_super) {\n            __extends(HtmlEditor, _super);\n            function HtmlEditor() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-form-html-editor\";\n                _this.template = html(__makeTemplateObject([\"\\n            <div class=\\\"aj-form-html-editor\\\">\\n                <ul class=\\\"toolbar\\\" @click=\\\"onToolBarClk\\\">\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\\" class=\\\"fa-font\\\"></i>\\n                        <div class=\\\"fontfamilyChoser\\\" @click=\\\"onFontfamilyChoserClk\\\">\\n                            <a style=\\\"font-family: '\\u5B8B\\u4F53'\\\">\\u5B8B\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u9ED1\\u4F53'\\\">\\u9ED1\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u6977\\u4F53'\\\">\\u6977\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u96B6\\u4E66'\\\">\\u96B6\\u4E66</a>\\n                            <a style=\\\"font-family: '\\u5E7C\\u5706'\\\">\\u5E7C\\u5706</a>\\n                            <a style=\\\"font-family: 'Microsoft YaHei'\\\">Microsoft YaHei</a>\\n                            <a style=\\\"font-family: Arial\\\">Arial</a>\\n                            <a style=\\\"font-family: 'Arial Narrow'\\\">Arial Narrow</a>\\n                            <a style=\\\"font-family: 'Arial Black'\\\">Arial Black</a>\\n                            <a style=\\\"font-family: 'Comic Sans MS'\\\">Comic Sans MS</a>\\n                            <a style=\\\"font-family: Courier\\\">Courier</a>\\n                            <a style=\\\"font-family: System\\\">System</a>\\n                            <a style=\\\"font-family: 'Times New Roman'\\\">Times New Roman</a>\\n                            <a style=\\\"font-family: Verdana\\\">Verdana</a>\\n                        </div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u53F7\\\" class=\\\"fa-header\\\"></i>\\n                        <div class=\\\"fontsizeChoser\\\" @click=\\\"onFontsizeChoserClk\\\">\\n                            <a style=\\\"font-size: xx-small; \\\">\\u6781\\u5C0F</a>\\n                            <a style=\\\"font-size: x-small;  \\\">\\u7279\\u5C0F</a>\\n                            <a style=\\\"font-size: small;    \\\">\\u5C0F</a>\\n                            <a style=\\\"font-size: medium;   \\\">\\u4E2D</a>\\n                            <a style=\\\"font-size: large;    \\\">\\u5927</a>\\n                            <a style=\\\"font-size: x-large;  \\\">\\u7279\\u5927</a>\\n                            <a style=\\\"font-size: xx-large; line-height: 140%\\\">\\u6781\\u5927</a>\\n                        </div>\\n                    </li>\\n                    <li><i title=\\\"\\u52A0\\u7C97\\\" class=\\\"bold fa-bold\\\"></i></li>\\n                    <li><i title=\\\"\\u659C\\u4F53\\\" class=\\\"italic fa-italic\\\"></i></li>\\n                    <li><i title=\\\"\\u4E0B\\u5212\\u7EBF\\\" class=\\\"underline fa-underline\\\"></i></li>\\n                    <li><i title=\\\"\\u5DE6\\u5BF9\\u9F50\\\" class=\\\"justifyleft fa-align-left\\\"></i></li>\\n                    <li><i title=\\\"\\u4E2D\\u95F4\\u5BF9\\u9F50\\\" class=\\\"justifycenter fa-align-center\\\"></i></li>\\n                    <li><i title=\\\"\\u53F3\\u5BF9\\u9F50\\\" class=\\\"justifyright fa-align-right\\\"></i></li>\\n                    <li><i title=\\\"\\u6570\\u5B57\\u7F16\\u53F7\\\" class=\\\"insertorderedlist fa-list-ol\\\"></i></li>\\n                    <li><i title=\\\"\\u9879\\u76EE\\u7F16\\u53F7\\\" class=\\\"insertunorderedlist fa-list-ul\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u7F29\\u8FDB\\\" class=\\\"outdent fa-outdent\\\"></i></li>\\n                    <li><i title=\\\"\\u51CF\\u5C11\\u7F29\\u8FDB\\\" class=\\\"indent fa-indent\\\"></i></li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\u989C\\u8272\\\" class=\\\"fa-paint-brush\\\"></i>\\n                        <div class=\\\"fontColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontColorPicker\\\"></div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u80CC\\u666F\\u989C\\u8272\\\" class=\\\"fa-pencil\\\"></i>\\n                        <div class=\\\"bgColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontBgColorPicker\\\"></div>\\n                    </li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u94FE\\u63A5\\\" class=\\\"createLink fa-link\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u56FE\\u7247\\\" class=\\\"insertImage fa-file-image-o\\\"></i></li>\\n                    <li><i title=\\\"\\u4E00\\u952E\\u5B58\\u56FE\\\" class=\\\"saveRemoteImage2Local fa-hdd-o\\\"></i></li>\\n                    <li><i title=\\\"\\u6E05\\u7406 HTML\\\" class=\\\"cleanHTML fa-eraser\\\"></i></li>\\n                    <li><i title=\\\"\\u5207\\u6362\\u5230\\u4EE3\\u7801\\\" class=\\\"switchMode fa-code\\\"></i></li>\\n                </ul>\\n            \\n                <div class=\\\"editorBody\\\">\\n                    <iframe srcdoc=\\\"<html><body></body></html>\\\"></iframe>\\n                    <slot></slot>\\n                </div>\\n            </div>\\n        \"], [\"\\n            <div class=\\\"aj-form-html-editor\\\">\\n                <ul class=\\\"toolbar\\\" @click=\\\"onToolBarClk\\\">\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\\" class=\\\"fa-font\\\"></i>\\n                        <div class=\\\"fontfamilyChoser\\\" @click=\\\"onFontfamilyChoserClk\\\">\\n                            <a style=\\\"font-family: '\\u5B8B\\u4F53'\\\">\\u5B8B\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u9ED1\\u4F53'\\\">\\u9ED1\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u6977\\u4F53'\\\">\\u6977\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u96B6\\u4E66'\\\">\\u96B6\\u4E66</a>\\n                            <a style=\\\"font-family: '\\u5E7C\\u5706'\\\">\\u5E7C\\u5706</a>\\n                            <a style=\\\"font-family: 'Microsoft YaHei'\\\">Microsoft YaHei</a>\\n                            <a style=\\\"font-family: Arial\\\">Arial</a>\\n                            <a style=\\\"font-family: 'Arial Narrow'\\\">Arial Narrow</a>\\n                            <a style=\\\"font-family: 'Arial Black'\\\">Arial Black</a>\\n                            <a style=\\\"font-family: 'Comic Sans MS'\\\">Comic Sans MS</a>\\n                            <a style=\\\"font-family: Courier\\\">Courier</a>\\n                            <a style=\\\"font-family: System\\\">System</a>\\n                            <a style=\\\"font-family: 'Times New Roman'\\\">Times New Roman</a>\\n                            <a style=\\\"font-family: Verdana\\\">Verdana</a>\\n                        </div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u53F7\\\" class=\\\"fa-header\\\"></i>\\n                        <div class=\\\"fontsizeChoser\\\" @click=\\\"onFontsizeChoserClk\\\">\\n                            <a style=\\\"font-size: xx-small; \\\">\\u6781\\u5C0F</a>\\n                            <a style=\\\"font-size: x-small;  \\\">\\u7279\\u5C0F</a>\\n                            <a style=\\\"font-size: small;    \\\">\\u5C0F</a>\\n                            <a style=\\\"font-size: medium;   \\\">\\u4E2D</a>\\n                            <a style=\\\"font-size: large;    \\\">\\u5927</a>\\n                            <a style=\\\"font-size: x-large;  \\\">\\u7279\\u5927</a>\\n                            <a style=\\\"font-size: xx-large; line-height: 140%\\\">\\u6781\\u5927</a>\\n                        </div>\\n                    </li>\\n                    <li><i title=\\\"\\u52A0\\u7C97\\\" class=\\\"bold fa-bold\\\"></i></li>\\n                    <li><i title=\\\"\\u659C\\u4F53\\\" class=\\\"italic fa-italic\\\"></i></li>\\n                    <li><i title=\\\"\\u4E0B\\u5212\\u7EBF\\\" class=\\\"underline fa-underline\\\"></i></li>\\n                    <li><i title=\\\"\\u5DE6\\u5BF9\\u9F50\\\" class=\\\"justifyleft fa-align-left\\\"></i></li>\\n                    <li><i title=\\\"\\u4E2D\\u95F4\\u5BF9\\u9F50\\\" class=\\\"justifycenter fa-align-center\\\"></i></li>\\n                    <li><i title=\\\"\\u53F3\\u5BF9\\u9F50\\\" class=\\\"justifyright fa-align-right\\\"></i></li>\\n                    <li><i title=\\\"\\u6570\\u5B57\\u7F16\\u53F7\\\" class=\\\"insertorderedlist fa-list-ol\\\"></i></li>\\n                    <li><i title=\\\"\\u9879\\u76EE\\u7F16\\u53F7\\\" class=\\\"insertunorderedlist fa-list-ul\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u7F29\\u8FDB\\\" class=\\\"outdent fa-outdent\\\"></i></li>\\n                    <li><i title=\\\"\\u51CF\\u5C11\\u7F29\\u8FDB\\\" class=\\\"indent fa-indent\\\"></i></li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\u989C\\u8272\\\" class=\\\"fa-paint-brush\\\"></i>\\n                        <div class=\\\"fontColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontColorPicker\\\"></div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u80CC\\u666F\\u989C\\u8272\\\" class=\\\"fa-pencil\\\"></i>\\n                        <div class=\\\"bgColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontBgColorPicker\\\"></div>\\n                    </li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u94FE\\u63A5\\\" class=\\\"createLink fa-link\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u56FE\\u7247\\\" class=\\\"insertImage fa-file-image-o\\\"></i></li>\\n                    <li><i title=\\\"\\u4E00\\u952E\\u5B58\\u56FE\\\" class=\\\"saveRemoteImage2Local fa-hdd-o\\\"></i></li>\\n                    <li><i title=\\\"\\u6E05\\u7406 HTML\\\" class=\\\"cleanHTML fa-eraser\\\"></i></li>\\n                    <li><i title=\\\"\\u5207\\u6362\\u5230\\u4EE3\\u7801\\\" class=\\\"switchMode fa-code\\\"></i></li>\\n                </ul>\\n            \\n                <div class=\\\"editorBody\\\">\\n                    <iframe srcdoc=\\\"<html><body></body></html>\\\"></iframe>\\n                    <slot></slot>\\n                </div>\\n            </div>\\n        \"]));\n                // <iframe :src=\"ajResources.commonAsset + '/resources/htmleditor_iframe.jsp?basePath=' + basePath\"></iframe>\n                _this.props = {\n                    fieldName: { type: String, required: true },\n                    content: { type: String, required: false },\n                    basePath: { type: String, required: false, default: '' },\n                    uploadImageActionUrl: String // 图片上传路径\n                };\n                _this.fieldName = \"\";\n                _this.fieldValue = \"\";\n                /**\n                 * 图片上传路径\n                 */\n                _this.uploadImageActionUrl = \"\";\n                _this.iframeEl = document.body;\n                _this.sourceEditor = document.body;\n                _this.iframeWin = window;\n                _this.iframeDoc = document;\n                _this.mode = \"iframe\";\n                _this.toolbarEl = document.body;\n                return _this;\n            }\n            HtmlEditor.prototype.mounted = function () {\n                var _this = this;\n                var el = this.$el;\n                this.iframeEl = el.$('iframe');\n                this.sourceEditor = el.$('textarea');\n                this.iframeWin = this.iframeEl.contentWindow;\n                this.mode = 'iframe'; // 当前可视化编辑 iframe|textarea\n                this.toolbarEl = el.$('.toolbar');\n                // 这个方法只能写在 onload 事件里面， 不写 onload 里还不执行\n                this.iframeWin.onload = function (ev) {\n                    _this.iframeDoc = _this.iframeWin.document;\n                    _this.iframeDoc.designMode = 'on';\n                    _this.sourceEditor.value && _this.setValue(_this.sourceEditor.value); // 有内容\n                    _this.iframeDoc.addEventListener('paste', onImagePaste.bind(_this)); // 直接剪切板粘贴上传图片\n                };\n            };\n            /**\n             * 当工具条点击的时候触发\n             *\n             * @param ev\n             */\n            HtmlEditor.prototype.onToolBarClk = function (ev) {\n                var _this = this;\n                var el = ev.target, clsName = el.className.split(' ').shift();\n                switch (clsName) {\n                    case 'createLink':\n                        var result = prompt(\"请输入 URL 地址\");\n                        if (result)\n                            this.format(\"createLink\", result);\n                        break;\n                    case 'insertImage':\n                        // @ts-ignore\n                        if (window.isCreate)\n                            aj.alert('请保存记录后再上传图片。');\n                        else {\n                            // @ts-ignore\n                            App.$refs.uploadLayer.show(function (json) {\n                                // if (json.result)\n                                //     json = json.result;\n                                if (json && json.isOk)\n                                    _this.format(\"insertImage\", json.fullUrl);\n                            });\n                        }\n                        break;\n                    case 'switchMode':\n                        this.setMode();\n                        break;\n                    case 'cleanHTML':\n                        // @ts-ignore\n                        this.iframeDoc.body.innerHTML = HtmlSanitizer.SanitizeHtml(this.iframeDoc.body.innerHTML); // 清理冗余 HTML\n                        break;\n                    case 'saveRemoteImage2Local':\n                        saveRemoteImage2Local.call(this);\n                        break;\n                    default:\n                        this.format(clsName);\n                }\n            };\n            HtmlEditor.prototype.format = function (type, para) {\n                // this.iframeWin.focus();\n                if (para)\n                    this.iframeDoc.execCommand(type, false, para);\n                else\n                    this.iframeDoc.execCommand(type, false);\n                this.iframeWin.focus();\n            };\n            HtmlEditor.prototype.insertEl = function (html) {\n                this.iframeDoc.body.innerHTML = html;\n            };\n            /**\n             * 設置 HTML\n             *\n             * @param v\n             */\n            HtmlEditor.prototype.setValue = function (v) {\n                var _this = this;\n                setTimeout(function () {\n                    _this.iframeWin.document.body.innerHTML = v;\n                    // self.iframeBody.innerHTML = v;\n                }, 500);\n            };\n            /**\n             * 获取内容的 HTML\n             *\n             * @param cleanWord\n             * @param encode\n             */\n            HtmlEditor.prototype.getValue = function (cleanWord, encode) {\n                var result = this.iframeDoc.body.innerHTML;\n                if (cleanWord)\n                    result = cleanPaste(result);\n                if (encode)\n                    result = encodeURIComponent(result);\n                return result;\n            };\n            /**\n             * 切換 HTML 編輯 or 可視化編輯\n             *\n             */\n            HtmlEditor.prototype.setMode = function () {\n                if (this.mode == 'iframe') {\n                    this.iframeEl.classList.add('hide');\n                    this.sourceEditor.classList.remove('hide');\n                    this.sourceEditor.value = this.iframeDoc.body.innerHTML;\n                    this.mode = 'textarea';\n                    grayImg.call(this, true);\n                }\n                else {\n                    this.iframeEl.classList.remove('hide');\n                    this.sourceEditor.classList.add('hide');\n                    this.iframeDoc.body.innerHTML = this.sourceEditor.value;\n                    this.mode = 'iframe';\n                    grayImg.call(this, false);\n                }\n            };\n            /**\n             * 选择字体\n             *\n             * @param ev\n             */\n            HtmlEditor.prototype.onFontfamilyChoserClk = function (ev) {\n                var el = ev.target;\n                this.format('fontname', el.innerHTML);\n                /* 如何解决点击之后马上隐藏面板？由于 js（单击事件） 没有控制 CSS 的 :hover 伪类的方法，故所以必须使用以下技巧：*/\n                var menuPanel = el.parentNode;\n                menuPanel.style.display = 'none';\n                setTimeout(function () { return menuPanel.style.display = ''; }, 300);\n            };\n            /**\n             * 选择字号大小\n             *\n             * @param ev\n             */\n            HtmlEditor.prototype.onFontsizeChoserClk = function (ev) {\n                var el = ev.target, els = ev.currentTarget.children;\n                for (var i = 0, j = els.length; i < j; i++)\n                    if (el == els[i])\n                        break;\n                this.format('fontsize', i + \"\");\n            };\n            HtmlEditor.prototype.onFontColorPicker = function (ev) {\n                this.format('foreColor', ev.target.title);\n            };\n            HtmlEditor.prototype.onFontBgColorPicker = function (ev) {\n                this.format('backColor', ev.target.title);\n            };\n            /**\n             * 创建颜色选择器\n             */\n            HtmlEditor.prototype.createColorPickerHTML = function () {\n                var cl = ['00', '33', '66', '99', 'CC', 'FF'], b, d, e, f, h = ['<div class=\"colorhead\"><span class=\"colortitle\">颜色选择</span></div><div class=\"colorbody\"><table cellspaci=\"0\" cellpadding=\"0\"><tr>'];\n                // 创建 body  [6 x 6的色盘]\n                for (var i = 0; i < 6; ++i) {\n                    h.push('<td><table class=\"colorpanel\" cellspacing=\"0\" cellpadding=\"0\">');\n                    for (var j = 0, a = cl[i]; j < 6; ++j) {\n                        h.push('<tr>');\n                        for (var k = 0, c = cl[j]; k < 6; ++k) {\n                            b = cl[k];\n                            e = (k == 5 && i != 2 && i != 5) ? ';border-right:none;' : '';\n                            f = (j == 5 && i < 3) ? ';border-bottom:none' : '';\n                            d = '#' + a + b + c;\n                            // T = document.all ? '&nbsp;' : '';\n                            h.push('<td unselectable=\"on\" style=\"background-color: ' + d + e + f + '\" title=\"' + d + '\"></td>');\n                        }\n                        h.push('</tr>');\n                    }\n                    h.push('</table></td>');\n                    if (cl[i] == '66')\n                        h.push('</tr><tr>');\n                }\n                h.push('</tr></table></div>');\n                return h.join('');\n            };\n            return HtmlEditor;\n        }(aj.VueComponent));\n        form.HtmlEditor = HtmlEditor;\n        /**\n         * 使图标变灰色\n         *\n         * @param this\n         * @param isGray\n         */\n        function grayImg(isGray) {\n            this.toolbarEl.$('i', function (item) {\n                if (item.className.indexOf('switchMode') != -1)\n                    return;\n                item.style.color = isGray ? 'lightgray' : '';\n                // if (item.className.indexOf('switchMode') != -1)\n                //     item.style.color = isGray ? 'lightgray' : '';\n                // else\n                //     item.style.filter = isGray ? 'grayscale(100%)' : '';\n            });\n        }\n        function saveRemoteImage2Local() {\n            var str = [], remotePicArr = new Array();\n            var arr = this.iframeDoc.querySelectorAll('img');\n            for (var i = 0, j = arr.length; i < j; i++) {\n                var imgEl = arr[i], url = imgEl.getAttribute('src');\n                if (/^http/.test(url)) {\n                    str.push(url);\n                    remotePicArr.push(imgEl);\n                }\n            }\n            if (str.length)\n                aj.xhr.post('../downAllPics/', function (json) {\n                    var _arr = json.pics;\n                    for (var i = 0, j = _arr.length; i < j; i++)\n                        remotePicArr[i].src = \"images/\" + _arr[i];\n                    aj.alert('所有图片下载完成。');\n                }, { pics: str.join('|') });\n            else\n                aj.alert('未发现有远程图片');\n        }\n        /**\n         * Remove additional MS Word content\n         * MSWordHtmlCleaners.js https://gist.github.com/ronanguilloux/2915995\n         *\n         * @param html\n         */\n        function cleanPaste(html) {\n            html = html.replace(/<(\\/)*(\\\\?xml:|meta|link|span|font|del|ins|st1:|[ovwxp]:)((.|\\s)*?)>/gi, ''); // Unwanted tags\n            html = html.replace(/(class|style|type|start)=(\"(.*?)\"|(\\w*))/gi, ''); // Unwanted sttributes\n            html = html.replace(/<style(.*?)style>/gi, ''); // Style tags\n            html = html.replace(/<script(.*?)script>/gi, ''); // Script tags\n            html = html.replace(/<!--(.*?)-->/gi, ''); // HTML comments\n            return html;\n        }\n        /*\n        * 富文本编辑器中粘贴图片时，chrome可以得到e.clipBoardData.items并从中获取二进制数据，以便ajax上传到后台，\n        * 实现粘贴图片的功能。firefox中items为undefined，可选的方案：1将base64原样上传到后台进行文件存储替换，2将内容清空，待粘贴完毕后取图片src，再恢复现场\n        * https://stackoverflow.com/questions/2176861/javascript-get-clipboard-data-on-paste-event-cross-browser\n        */\n        /**\n         *\n         * @param this\n         * @param ev\n         */\n        function onImagePaste(ev) {\n            var _this = this;\n            if (!this.uploadImageActionUrl) {\n                aj.alert('未提供图片上传地址');\n                return;\n            }\n            var items = ev.clipboardData && ev.clipboardData.items;\n            var file = null; // file就是剪切板中的图片文件\n            if (items && items.length) { // 检索剪切板items\n                for (var i = 0; i < items.length; i++) {\n                    var item = items[i];\n                    if (item.type.indexOf('image') !== -1) {\n                        // @ts-ignore\n                        if (window.isCreate) { // 有图片\n                            aj.alert('请保存记录后再上传图片。');\n                            return;\n                        }\n                        file = item.getAsFile();\n                        break;\n                    }\n                }\n            }\n            if (file) {\n                ev.preventDefault();\n                aj.img.changeBlobImageQuality(file, function (newBlob) {\n                    Vue.options.components[\"aj-xhr-upload\"].extendOptions.methods.doUpload.call({\n                        action: _this.uploadImageActionUrl,\n                        progress: 0,\n                        uploadOk_callback: function (j) {\n                            if (j.isOk)\n                                this.format(\"insertImage\", this.ajResources.imgPerfix + j.imgUrl);\n                        },\n                        $blob: newBlob,\n                        $fileName: 'foo.jpg'\n                    });\n                });\n            }\n        }\n        new HtmlEditor().register();\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n/**\n* 将上传控件嵌入到一个浮出层中\n*/\nVue.component('aj-form-popup-upload', {\n    template: html(__makeTemplateObject([\"\\n        <aj-layer>\\n            <h3>\\u56FE\\u7247\\u4E0A\\u4F20</h3>\\n            <p>\\u4E0A\\u4F20\\u6210\\u529F\\u540E\\u81EA\\u52A8\\u63D2\\u5165\\u5230\\u6B63\\u6587</p>\\n            <aj-xhr-upload ref=\\\"uploadControl\\\" :action=\\\"uploadUrl\\\" :is-img-upload=\\\"true\\\" :hidden-field=\\\"imgName\\\"\\n                :img-place=\\\"ajResources.commonAsset + '/images/imgBg.png'\\\">\\n            </aj-xhr-upload>\\n            <div>\\u4E0A\\u4F20\\u9650\\u5236\\uFF1A{{text.maxSize}}kb \\u6216\\u4EE5\\u4E0B\\uFF0C\\u5206\\u8FA8\\u7387\\uFF1A{{text.maxHeight}}x{{text.maxWidth}}</div>\\n        </aj-layer>\\n    \"], [\"\\n        <aj-layer>\\n            <h3>\\u56FE\\u7247\\u4E0A\\u4F20</h3>\\n            <p>\\u4E0A\\u4F20\\u6210\\u529F\\u540E\\u81EA\\u52A8\\u63D2\\u5165\\u5230\\u6B63\\u6587</p>\\n            <aj-xhr-upload ref=\\\"uploadControl\\\" :action=\\\"uploadUrl\\\" :is-img-upload=\\\"true\\\" :hidden-field=\\\"imgName\\\"\\n                :img-place=\\\"ajResources.commonAsset + '/images/imgBg.png'\\\">\\n            </aj-xhr-upload>\\n            <div>\\u4E0A\\u4F20\\u9650\\u5236\\uFF1A{{text.maxSize}}kb \\u6216\\u4EE5\\u4E0B\\uFF0C\\u5206\\u8FA8\\u7387\\uFF1A{{text.maxHeight}}x{{text.maxWidth}}</div>\\n        </aj-layer>\\n    \"])),\n    data: function () {\n        return {\n            text: {}\n        };\n    },\n    props: {\n        uploadUrl: { type: String, required: true },\n        imgName: { type: String, required: false },\n        imgId: { type: Number, required: false },\n        imgPlace: String // 图片占位符，用户没有选定图片时候使用的图片\n    },\n    mounted: function () {\n        var obj = this.$refs.uploadControl;\n        this.text = { maxSize: obj.limitSize || 600, maxHeight: obj.imgMaxHeight, maxWidth: obj.imgMaxWidth };\n    },\n    methods: {\n        /**\n         * 显示上传控件\n         *\n         * @param {Function} callback 上传成功之后的回调函数\n         */\n        show: function (callback) {\n            if (callback)\n                this.$refs.uploadControl.uploadOk_callback = callback;\n            this.$children[0].show();\n        }\n    }\n});\n\n\"use strict\";\n// aj.searchPanel = {\n//     methods: {\n//         searchBy(field, clz) {\n//             var param = {};\n//             param[field] = aj(clz).value;\n//             if (!param[field]) {\n//                 aj.alert('请输入搜索的关键字');\n//                 return;\n//             }\n//             aj.apply(this.$refs.pager.extraParam, param);\n//             this.reload();\n//         },\n//         // 选择任意字段\n//         searchAny(field, clz) {\n//             var param = {};\n//             param.filterField = field;\n//             param.filterValue = aj(clz).value;\n//             if (!param.filterValue) {\n//                 aj.alert('请输入搜索的关键字');\n//                 return;\n//             }\n//             aj.apply(this.$refs.pager.extraParam, param);\n//             this.reload();\n//         },\n//         // 清空查询参数\n//         clearSearch() {\n//             this.$refs.pager.extraParam = {};\n//             this.reload();\n//         }\n//     }\n// };\n\n\"use strict\";\n\n/**\n * 下拉列表\n */\nVue.component('aj-form-select', {\n    template: html(__makeTemplateObject([\"\\n        <select :name=\\\"name\\\" class=\\\"aj-form-select\\\">\\n            <template v-for=\\\"value, key, index in options\\\">\\n                <option v-if=\\\"index === selectedIndex\\\" selected :value=\\\"value\\\" >{{key}}</option>\\n                <option v-else :value=\\\"value\\\" >{{key}}</option>\\n            </template>\\n        </select>\\n    \"], [\"\\n        <select :name=\\\"name\\\" class=\\\"aj-form-select\\\">\\n            <template v-for=\\\"value, key, index in options\\\">\\n                <option v-if=\\\"index === selectedIndex\\\" selected :value=\\\"value\\\" >{{key}}</option>\\n                <option v-else :value=\\\"value\\\" >{{key}}</option>\\n            </template>\\n        </select>\\n    \"])),\n    props: {\n        name: { type: String, required: true },\n        options: { type: Object, required: true },\n        selectedIndex: { type: Number } // starts form 0\n    }\n});\n\n\"use strict\";\n/**\n * 表单工具函数\n */\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        var utils;\n        (function (utils) {\n            /**\n             * 获取表单控件的值\n             *\n             * @param el\n             * @param cssSelector\n             */\n            function getFormFieldValue(_el, cssSelector) {\n                var el = _el.$(cssSelector);\n                if (el)\n                    return el.value;\n                else\n                    throw \"\\u627E\\u4E0D\\u5230\" + cssSelector + \"\\u5143\\u7D20\";\n            }\n            utils.getFormFieldValue = getFormFieldValue;\n            /**\n             * 指定 id 的那个 option 选中\n             *\n             * @param this\n             * @param id\n             */\n            function selectOption(id) {\n                this.$el.$('option', function (i) {\n                    console.log(i.value);\n                    if (i.value == id)\n                        i.selected = true;\n                });\n            }\n            utils.selectOption = selectOption;\n        })(utils = form.utils || (form.utils = {}));\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n/**\n * 表单验证器\n *\n * https://www.w3cplus.com/css/form-validation-part-2-the-constraint-validation-api-javascript.html\n * https://github.com/cferdinandi/validate/blob/master/src/js/validate.js\n */\nvar aj;\n(function (aj) {\n    var form;\n    (function (form_1) {\n        /**\n         * 验证字段\n         *\n         * @param field\n         */\n        function hasError(field) {\n            // if (!field || !field.getAttribute)\n            //     console.log(field);\n            if (field.disabled || field.type === 'file' || field.type === 'reset' || field.type === 'submit' || field.type === 'button')\n                return \"\"; // 忽略部分元素\n            var validity = field.validity; // 获取 validity\n            if (!validity)\n                return '浏览器不支持 HTML5 表单验证';\n            if (validity.valid) // 如果通过验证,就返回 \"\"\n                return \"\";\n            if (validity.valueMissing) // 如果是必填字段但是字段为空时\n                return '该项是必填项';\n            if (validity.typeMismatch) { // 如果类型不正确\n                if (field.type === 'email')\n                    return '请输入有效的邮件地址';\n                if (field.type === 'url')\n                    return '请输入一个有效的网址';\n                return '请输入正确的类型';\n            }\n            if (validity.tooShort) // 如果输入的字符数太短\n                return 'Please lengthen this text to ' + field.getAttribute('minLength') + ' characters or more. You are currently using ' + field.value.length + ' characters.';\n            if (validity.tooLong) // 如果输入的字符数太长\n                return 'Please shorten this text to no more than ' + field.getAttribute('maxLength') + ' characters. You are currently using ' + field.value.length + ' characters.';\n            if (validity.badInput) // 如果数字输入类型输入的值不是数字\n                return 'Please enter a number.';\n            if (validity.stepMismatch) // 如果数字值与步进间隔不匹配\n                return 'Please select a valid value.';\n            if (validity.rangeOverflow) // 如果数字字段的值大于max的值\n                return 'Please select a value that is no more than ' + field.getAttribute('max') + '.';\n            if (validity.rangeUnderflow) // 如果数字字段的值小于min的值\n                return 'Please select a value that is no less than ' + field.getAttribute('min') + '.';\n            if (validity.patternMismatch) { // 如果模式不匹配\n                var title = field.getAttribute('title');\n                if (title) // 如果包含模式信息，返回自定义错误\n                    return title;\n                return '格式要求不正确'; // 否则, 返回一般错误\n            }\n            return 'The value you entered for this field is invalid.'; // 如果是其他的错误, 返回一个通用的 catchall 错误\n        }\n        /**\n         *\n         * @param field\n         * @param error\n         * @param isNewLine\n         */\n        function showError(field, error, isNewLine) {\n            var _a;\n            var id = field.id || field.name; // 获取字段 id 或者 name\n            if (!id)\n                return;\n            field.classList.add('error'); // 将错误类添加到字段\n            // 检查错误消息字段是否已经存在 如果没有, 就创建一个\n            var message = field.form.querySelector('.error-message#error-for-' + id);\n            if (!message) {\n                message = document.createElement('div');\n                message.className = 'error-message';\n                message.id = 'error-for-' + id;\n                (_a = field.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(message, field.nextSibling);\n            }\n            field.setAttribute('aria-describedby', 'error-for-' + id); // 添加ARIA role 到字段\n            message.innerHTML = error; // 更新错误信息\n            if (!isNewLine) // 显示错误信息\n                message.style.display = 'inline-block';\n            message.style.visibility = 'visible';\n        }\n        ;\n        /**\n         * 移除所有的错误信息\n         *\n         * @param field\n         */\n        function removeError(field) {\n            var id = field.id || field.name; // 获取字段的 id 或者 name\n            if (!id)\n                return;\n            field.classList.remove('error'); // 删除字段的错误类\n            field.removeAttribute('aria-describedby'); // 移除字段的 ARIA role\n            var message = field.form.querySelector('.error-message#error-for-' + id + ''); // 检查 DOM 中是否有错误消息\n            if (message) {\n                message.innerHTML = ''; // 如果有错误消息就隐藏它\n                message.style.display = 'none';\n                message.style.visibility = 'hidden';\n            }\n        }\n        /**\n         *\n         * @param el\n         */\n        function Validator(el) {\n            var isMsgNewLine = el.dataset.msgNewline === \"true\";\n            el.setAttribute('novalidate', 'true');\n            // 监听所有的失去焦点的事件\n            document.addEventListener('blur', function (event) {\n                var el = event.target, errMsg = hasError(el);\n                if (errMsg) { // 如果有错误,就把它显示出来\n                    showError(el, errMsg, isMsgNewLine);\n                    return;\n                }\n                removeError(el); // 否则, 移除所有存在的错误信息\n            }, true);\n        }\n        form_1.Validator = Validator;\n        Validator.hasError = hasError;\n        /**\n         * 是否通过验证\n         *\n         * @param form\n         */\n        Validator.onSubmit = function (form) {\n            var fields = form.elements; // 获取所有的表单元素\n            // 验证每一个字段\n            // 将具有错误的第一个字段存储到变量中以便稍后我们将其默认获得焦点\n            var error, hasErrors = null;\n            for (var i = 0, j = fields.length; i < j; i++) {\n                var el = fields[i];\n                error = hasError(el);\n                if (error) {\n                    showError(el, error);\n                    if (!hasErrors) // 如果有错误,停止提交表单并使出现错误的第一个元素获得焦点\n                        hasErrors = el;\n                }\n            }\n            if (hasErrors) {\n                hasErrors.focus();\n                return false;\n            }\n            return true;\n        };\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n;\n(function () {\n    Vue.component('aj-xhr-upload', {\n        template: html(__makeTemplateObject([\"\\n            <div class=\\\"aj-xhr-upload\\\" :style=\\\"{display: buttonBottom ? 'inherit': 'flex'}\\\">\\n                <input v-if=\\\"hiddenField\\\" type=\\\"hidden\\\" :name=\\\"hiddenField\\\" :value=\\\"hiddenFieldValue\\\" />\\n                <div v-if=\\\"isImgUpload\\\">\\n                    <a :href=\\\"imgPlace\\\" target=\\\"_blank\\\">\\n                        <img class=\\\"upload_img_perview\\\"\\n                            :src=\\\"(isFileSize && isExtName && imgBase64Str) ? imgBase64Str : imgPlace\\\" />\\n                    </a>\\n                </div>\\n                <div class=\\\"pseudoFilePicker\\\">\\n                    <label :for=\\\"'uploadInput_' + radomId\\\">\\n                        <div>\\n                            <div>+</div>\\u70B9\\u51FB\\u9009\\u62E9{{isImgUpload ? '\\u56FE\\u7247': '\\u6587\\u4EF6'}}\\n                        </div>\\n                    </label>\\n                </div>\\n                <input type=\\\"file\\\" :name=\\\"fieldName\\\" class=\\\"hide\\\" :id=\\\"'uploadInput_' + radomId\\\" @change=\\\"onUploadInputChange\\\"\\n                    :accept=\\\"isImgUpload ? 'image/*' : accpectFileType\\\" />\\n                <div v-if=\\\"!isFileSize || !isExtName\\\">{{errMsg}}</div>\\n                <div v-if=\\\"isFileSize && isExtName\\\">\\n                    {{fileName}}<br />\\n                    <button @click.prevent=\\\"doUpload\\\"\\n                        style=\\\"min-width:110px;\\\">{{progress && progress !== 100 ? '\\u4E0A\\u4F20\\u4E2D ' + progress + '%': '\\u4E0A\\u4F20'}}</button>\\n                </div>\\n            </div>\\n        \"], [\"\\n            <div class=\\\"aj-xhr-upload\\\" :style=\\\"{display: buttonBottom ? 'inherit': 'flex'}\\\">\\n                <input v-if=\\\"hiddenField\\\" type=\\\"hidden\\\" :name=\\\"hiddenField\\\" :value=\\\"hiddenFieldValue\\\" />\\n                <div v-if=\\\"isImgUpload\\\">\\n                    <a :href=\\\"imgPlace\\\" target=\\\"_blank\\\">\\n                        <img class=\\\"upload_img_perview\\\"\\n                            :src=\\\"(isFileSize && isExtName && imgBase64Str) ? imgBase64Str : imgPlace\\\" />\\n                    </a>\\n                </div>\\n                <div class=\\\"pseudoFilePicker\\\">\\n                    <label :for=\\\"'uploadInput_' + radomId\\\">\\n                        <div>\\n                            <div>+</div>\\u70B9\\u51FB\\u9009\\u62E9{{isImgUpload ? '\\u56FE\\u7247': '\\u6587\\u4EF6'}}\\n                        </div>\\n                    </label>\\n                </div>\\n                <input type=\\\"file\\\" :name=\\\"fieldName\\\" class=\\\"hide\\\" :id=\\\"'uploadInput_' + radomId\\\" @change=\\\"onUploadInputChange\\\"\\n                    :accept=\\\"isImgUpload ? 'image/*' : accpectFileType\\\" />\\n                <div v-if=\\\"!isFileSize || !isExtName\\\">{{errMsg}}</div>\\n                <div v-if=\\\"isFileSize && isExtName\\\">\\n                    {{fileName}}<br />\\n                    <button @click.prevent=\\\"doUpload\\\"\\n                        style=\\\"min-width:110px;\\\">{{progress && progress !== 100 ? '\\u4E0A\\u4F20\\u4E2D ' + progress + '%': '\\u4E0A\\u4F20'}}</button>\\n                </div>\\n            </div>\\n        \"])),\n        props: {\n            action: { type: String, required: true },\n            fieldName: String,\n            limitSize: Number,\n            hiddenField: { type: String, default: null },\n            hiddenFieldValue: String,\n            limitFileType: String,\n            accpectFileType: String,\n            isImgUpload: Boolean,\n            imgPlace: String,\n            imgMaxWidth: { type: Number, default: 1920 },\n            imgMaxHeight: { type: Number, default: 1680 },\n            buttonBottom: Boolean // 上传按钮是否位于下方\n        },\n        data: function () {\n            var _this = this;\n            return {\n                isFileSize: false,\n                isExtName: false,\n                isImgSize: false,\n                errMsg: null,\n                newlyId: null,\n                radomId: Math.round(Math.random() * 1000),\n                uplodedFileUrl: null,\n                uploadOk_callback: function (json) {\n                    if (json.isOk) {\n                        _this.uplodedFileUrl = json.imgUrl;\n                        if (_this.hiddenField)\n                            _this.$el.$('input[name=' + _this.hiddenField + ']').value = json.imgUrl;\n                    }\n                    aj.xhr.defaultCallBack(json);\n                },\n                imgBase64Str: null,\n                progress: 0,\n                fileName: '' // 获取文件名称，只能是名称，不能获取完整的文件录\n            };\n        },\n        methods: {\n            /**\n             *\n             * @param this\n             * @param $event\n             */\n            onUploadInputChange: function ($event) {\n                var _this = this;\n                var fileInput = $event.target;\n                if (!fileInput.files || !fileInput.files[0])\n                    return;\n                var ext = fileInput.value.split('.').pop(); // 扩展名\n                this.$fileObj = fileInput.files[0]; // 保留引用\n                this.$fileName = this.$fileObj.name;\n                this.$fileType = this.$fileObj.type;\n                var size = this.$fileObj.size;\n                if (this.limitSize) {\n                    this.isFileSize = size < this.limitSize;\n                    this.errMsg = \"要上传的文件容量过大，请压缩到 \" + this.limitSize + \"kb 以下\";\n                }\n                else\n                    this.isFileSize = true;\n                if (this.limitFileType) {\n                    this.isExtName = new RegExp(this.limitFileType, 'i').test(ext);\n                    this.errMsg = '根据文件后缀名判断，此文件不能上传';\n                }\n                else\n                    this.isExtName = true;\n                readBase64.call(this, fileInput.files[0]);\n                if (this.isImgUpload) {\n                    var imgEl = new Image();\n                    imgEl.onload = function () {\n                        if (imgEl.width > _this.imgMaxWidth || imgEl.height > _this.imgMaxHeight) {\n                            _this.isImgSize = false;\n                            _this.errMsg = '图片大小尺寸不符合要求哦，请重新图片吧~';\n                        }\n                        else {\n                            _this.isImgSize = true;\n                        }\n                    };\n                }\n                getFileName.call(this);\n            },\n            /**\n             * 执行上传\n             *\n             * @param this\n             */\n            doUpload: function () {\n                var _this = this;\n                var fd = new FormData();\n                if (this.$blob)\n                    fd.append(\"file\", this.$blob, this.$fileName);\n                else\n                    fd.append(\"file\", this.$fileObj);\n                var xhr = new XMLHttpRequest();\n                //@ts-ignore\n                xhr.onreadystatechange = aj.xhr.requestHandler.delegate(null, this.uploadOk_callback, 'json');\n                xhr.open(\"POST\", this.action, true);\n                xhr.onprogress = function (e) {\n                    var progress = 0, p = ~~(e.loaded * 1000 / e.total);\n                    p = p / 10;\n                    if (progress !== p)\n                        progress = p;\n                    _this.progress = progress;\n                };\n                xhr.send(fd);\n            }\n        }\n    });\n    // 文件头判别，看看是否为图片\n    var imgHeader = { \"jpeg\": \"/9j/4\", \"gif\": \"R0lGOD\", \"png\": \"iVBORw\" };\n    /**\n     * 获取文件名称，只能是名称，不能获取完整的文件目录\n     *\n     * @param this\n     */\n    function getFileName() {\n        var _a;\n        var v = this.$el.$('input[type=file]').value, arr = v.split('\\\\');\n        this.fileName = (_a = arr.pop()) === null || _a === void 0 ? void 0 : _a.trim();\n    }\n    /**\n     *\n     * @param this\n     * @param file\n     */\n    function readBase64(file) {\n        var _this = this;\n        var reader = new FileReader();\n        reader.onload = function (_e) {\n            var e = _e;\n            _this.imgBase64Str = e.target.result;\n            if (_this.isImgUpload) {\n                var imgEl = new Image();\n                imgEl.onload = function () {\n                    if (file.size > 300 * 1024) // 大于 300k 才压缩\n                        aj.img.compress(imgEl, _this);\n                    if (imgEl.width > _this.imgMaxWidth || imgEl.height > _this.imgMaxHeight) {\n                        _this.isImgSize = false;\n                        _this.errMsg = '图片大小尺寸不符合要求哦，请裁剪图片重新上传吧~';\n                    }\n                    else\n                        _this.isImgSize = true;\n                };\n                imgEl.src = _this.imgBase64Str;\n                // 文件头判别，看看是否为图片\n                for (var i in imgHeader) {\n                    if (~_this.imgBase64Str.indexOf(imgHeader[i])) {\n                        _this.isExtName = true;\n                        return;\n                    }\n                }\n                _this.errMsg = \"亲，改了扩展名我还能认得你不是图片哦\";\n            }\n        };\n        reader.readAsDataURL(file);\n    }\n})();\n"],"names":["aj","Vue","component","template","html","__makeTemplateObject","props","isAjax","type","Boolean","default","methods","valid","ev","grid","start","this","$el","$","value","end","Date","alert","preventDefault","$parent","apply","$refs","pager","extraParam","startDate","endDate","reload","data","date","fieldValue","time","fieldName","String","required","dateOnly","showTime","positionFixed","placeholder","watch","n","mounted","arr","classList","add","split","calendar","recTimeEvent","recEvent","trim","onMouseOver","el","b","currentTarget","getBoundingClientRect","c","style","top","clientHeight","left","form","_super","Calendar","_this","arguments","name","year","getFullYear","month","getMonth","render","day","VueComponent","__extends","prototype","$options","call","getDateArr","frag","document","createDocumentFragment","length","row","createElement","i","d","on","cell","shift","innerHTML","text","className","title","d1","d2","getDate","appendChild","tbody","dateType","nowYear","nowMonth","setMonth","target","Number","selectedOptions","firstDay","getDay","push","monthDay","pickDay","$emit","pickupTime","$event","hour","minute","register","ChinaArea","provinceCode","cityCode","districtCode","provinceName","cityName","districtName","computed","citys","province","addressData","districts","city","district","window","China_AREA","form_1","isCreate","uiName","apiUrl","id","info","xhr","j","msg_1","isOk","msg","show","close","beforeSubmit","json","load","cb","get","result","_componentTag","history","back","del","utils","getFormFieldValue","showConfirm","dele","HtmlEditor","content","basePath","uploadImageActionUrl","iframeEl","body","sourceEditor","iframeWin","iframeDoc","mode","toolbarEl","grayImg","isGray","item","indexOf","color","contentWindow","onload","designMode","setValue","addEventListener","items","clipboardData","file","getAsFile","img","changeBlobImageQuality","newBlob","options","components","extendOptions","doUpload","action","progress","uploadOk_callback","format","ajResources","imgPerfix","imgUrl","$blob","$fileName","bind","onToolBarClk","clsName","prompt","App","uploadLayer","fullUrl","setMode","HtmlSanitizer","SanitizeHtml","str","remotePicArr","Array","querySelectorAll","imgEl","url","getAttribute","test","post","_arr","pics","src","join","para","execCommand","focus","insertEl","v","setTimeout","getValue","cleanWord","encode","replace","encodeURIComponent","remove","onFontfamilyChoserClk","menuPanel","parentNode","display","onFontsizeChoserClk","els","children","onFontColorPicker","onFontBgColorPicker","createColorPickerHTML","e","f","cl","h","a","k","uploadUrl","imgName","imgId","imgPlace","obj","uploadControl","maxSize","limitSize","maxHeight","imgMaxHeight","maxWidth","imgMaxWidth","callback","$children","Object","selectedIndex","_el","cssSelector","selectOption","console","log","selected","hasError","field","disabled","validity","valueMissing","typeMismatch","tooShort","tooLong","badInput","stepMismatch","rangeOverflow","rangeUnderflow","patternMismatch","showError","error","isNewLine","_a","message","querySelector","insertBefore","nextSibling","setAttribute","visibility","Validator","isMsgNewLine","dataset","msgNewline","event","errMsg","removeAttribute","onSubmit","fields","elements","hasErrors","hiddenField","hiddenFieldValue","limitFileType","accpectFileType","isImgUpload","buttonBottom","isFileSize","isExtName","isImgSize","newlyId","radomId","Math","round","random","uplodedFileUrl","defaultCallBack","imgBase64Str","fileName","onUploadInputChange","ext","fileInput","files","pop","$fileObj","$fileType","size","RegExp","reader","FileReader","_e","Image","compress","width","height","imgHeader","readAsDataURL","fd","FormData","append","XMLHttpRequest","onreadystatechange","requestHandler","delegate","open","onprogress","p","loaded","total","send","jpeg","gif","png"],"mappings":"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"}