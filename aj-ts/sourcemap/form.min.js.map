{"version":3,"file":"../dist/form.min.js","sources":["form.min.js"],"sourcesContent":["\"use strict\";\n/**\n * 起始时间、截止时间的范围选择\n */\nVue.component('aj-form-between-date', {\n    template: \"\\n        <form action=\\\".\\\" method=\\\"GET\\\" class=\\\"dateRange\\\" @submit=\\\"valid\\\">\\n            <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u8D77\\u59CB\\u65F6\\u95F4\\\" field-name=\\\"startDate\\\" ></aj-form-calendar-input>\\n            - <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u622A\\u81F3\\u65F6\\u95F4\\\" field-name=\\\"endDate\\\"></aj-form-calendar-input>\\n            <button class=\\\"aj-btn\\\">\\u6309\\u65F6\\u95F4\\u7B5B\\u9009</button>\\n        </form>    \\n    \",\n    props: {\n        isAjax: { type: Boolean, default: true } // 是否 AJAX 模式\n    },\n    methods: {\n        valid: function (e) {\n            var start = this.$el.$('input[name=startDate]').value, end = this.$el.$('input[name=endDate]').value;\n            if (!start || !end) {\n                aj.alert(\"输入数据不能为空\");\n                e.preventDefault();\n                return;\n            }\n            if (new Date(start) > new Date(end)) {\n                aj.alert(\"起始日期不能晚于结束日期\");\n                e.preventDefault();\n                return;\n            }\n            //@ts-ignore\n            if (this.isAjax) {\n                e.preventDefault();\n                var grid = this.$parent.$parent;\n                aj.apply(grid.$refs.pager.extraParam, {\n                    startDate: start, endDate: end\n                });\n                grid.reload();\n            }\n        }\n    }\n});\n\n\"use strict\";\nVue.component('aj-form-calendar-input', {\n    template: \"\\n        <div class=\\\"aj-form-calendar-input\\\" :class=\\\"{'show-time': showTime}\\\" @mouseover=\\\"onMouseOver\\\">\\n            <div class=\\\"icon fa fa-calendar\\\"></div>\\n            <input :placeholder=\\\"placeholder\\\" size=\\\"12\\\" :name=\\\"fieldName\\\" :value=\\\"date + (dateOnly ? '' : ' ' + time)\\\" type=\\\"text\\\" autocomplete=\\\"off\\\"/>\\n            <aj-form-calendar ref=\\\"calendar\\\" :show-time=\\\"showTime\\\" @pick-date=\\\"recEvent\\\" @pick-time=\\\"recTimeEvent\\\">\\n            </aj-form-calendar>\\n        </div>\\n    \",\n    data: function () {\n        return {\n            date: this.fieldValue,\n            time: ''\n        };\n    },\n    props: {\n        fieldName: { type: String, required: true },\n        fieldValue: { type: String, required: false, default: '' },\n        dateOnly: { type: Boolean, required: false, default: true },\n        showTime: false,\n        positionFixed: Boolean,\n        placeholder: { type: String, default: '请输入日期' } // 提示文字\n    },\n    watch: {\n        fieldValue: function (n) {\n            this.date = n;\n        }\n    },\n    mounted: function () {\n        if (this.positionFixed) {\n            var el = this.$el.$('.aj-form-calendar');\n            el.classList.add('positionFixed');\n        }\n        // 2012-07-08\n        // firefox中解析 new Date('2012/12-23') 不兼容，提示invalid date 无效的日期\n        // Chrome下可以直接将其格式化成日期格式，且时分秒默认为零\n        // var arr = date.split('-'), now = new Date(arr[0], arr[1] - 1, arr[2],\n        // \" \", \"\", \" \");\n        if (this.fieldValue) {\n            var arr = this.fieldValue.split(' ')[0];\n            var _arr = arr.split('-');\n            // @ts-ignore\n            this.$refs.calendar.date = new Date(arr[0], arr[1] - 1, arr[2], \" \", \"\", \" \");\n        }\n    },\n    methods: {\n        recTimeEvent: function (time) {\n            this.time = time;\n        },\n        recEvent: function (date) {\n            this.date = date.trim();\n        },\n        onMouseOver: function ($event) {\n            if (this.positionFixed) {\n                var el = $event.currentTarget;\n                var b = el.getBoundingClientRect();\n                var c = this.$el.$('.aj-form-calendar');\n                c.style.top = (b.top + el.clientHeight - 0) + 'px';\n                c.style.left = ((b.left - 0) + 0) + 'px';\n            }\n        }\n    }\n});\n\n\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nVue.component('aj-form-calendar', {\n    template: html(__makeTemplateObject([\"\\n        <div class=\\\"aj-form-calendar\\\">\\n            <div class=\\\"selectYearMonth\\\">\\n                <a href=\\\"###\\\" @click=\\\"getDate('preYear')\\\" class=\\\"preYear\\\" title=\\\"\\u4E0A\\u4E00\\u5E74\\\">&lt;</a> \\n                <select @change=\\\"setMonth\\\" v-model=\\\"month\\\">\\n                    <option value=\\\"1\\\">\\u4E00\\u6708</option><option value=\\\"2\\\">\\u4E8C\\u6708</option><option value=\\\"3\\\">\\u4E09\\u6708</option><option value=\\\"4\\\">\\u56DB\\u6708</option>\\n                    <option value=\\\"5\\\">\\u4E94\\u6708</option><option value=\\\"6\\\">\\u516D\\u6708</option><option value=\\\"7\\\">\\u4E03\\u6708</option><option value=\\\"8\\\">\\u516B\\u6708</option>\\n                    <option value=\\\"9\\\">\\u4E5D\\u6708</option><option value=\\\"10\\\">\\u5341\\u6708</option><option value=\\\"11\\\">\\u5341\\u4E00\\u6708</option><option value=\\\"12\\\">\\u5341\\u4E8C\\u6708</option>\\n                </select>\\n                <a href=\\\"###\\\" @click=\\\"getDate('nextYear')\\\" class=\\\"nextYear\\\" title=\\\"\\u4E0B\\u4E00\\u5E74\\\">&gt;</a>\\n            </div>\\n            <div class=\\\"showCurrentYearMonth\\\">\\n                <span class=\\\"showYear\\\">{{year}}</span>/<span class=\\\"showMonth\\\">{{month}}</span>\\n            </div>\\n            <table>\\n                <thead>\\n                    <tr><td>\\u65E5</td><td>\\u4E00</td><td>\\u4E8C</td><td>\\u4E09</td><td>\\u56DB</td><td>\\u4E94</td><td>\\u516D</td></tr>\\n                </thead>\\n                <tbody @click=\\\"pickDay\\\"></tbody>\\n            </table>\\n            <div v-if=\\\"showTime\\\" class=\\\"showTime\\\">\\n                \\u65F6 <select class=\\\"hour aj-select\\\"><option v-for=\\\"n in 24\\\">{{n}}</option></select>\\n                \\u5206 <select class=\\\"minute aj-select\\\"><option v-for=\\\"n in 61\\\">{{n - 1}}</option></select>\\n                <a href=\\\"#\\\" @click=\\\"pickupTime\\\">\\u9009\\u62E9\\u65F6\\u95F4</a>\\n            </div>\\n        </div>    \\n    \"], [\"\\n        <div class=\\\"aj-form-calendar\\\">\\n            <div class=\\\"selectYearMonth\\\">\\n                <a href=\\\"###\\\" @click=\\\"getDate('preYear')\\\" class=\\\"preYear\\\" title=\\\"\\u4E0A\\u4E00\\u5E74\\\">&lt;</a> \\n                <select @change=\\\"setMonth\\\" v-model=\\\"month\\\">\\n                    <option value=\\\"1\\\">\\u4E00\\u6708</option><option value=\\\"2\\\">\\u4E8C\\u6708</option><option value=\\\"3\\\">\\u4E09\\u6708</option><option value=\\\"4\\\">\\u56DB\\u6708</option>\\n                    <option value=\\\"5\\\">\\u4E94\\u6708</option><option value=\\\"6\\\">\\u516D\\u6708</option><option value=\\\"7\\\">\\u4E03\\u6708</option><option value=\\\"8\\\">\\u516B\\u6708</option>\\n                    <option value=\\\"9\\\">\\u4E5D\\u6708</option><option value=\\\"10\\\">\\u5341\\u6708</option><option value=\\\"11\\\">\\u5341\\u4E00\\u6708</option><option value=\\\"12\\\">\\u5341\\u4E8C\\u6708</option>\\n                </select>\\n                <a href=\\\"###\\\" @click=\\\"getDate('nextYear')\\\" class=\\\"nextYear\\\" title=\\\"\\u4E0B\\u4E00\\u5E74\\\">&gt;</a>\\n            </div>\\n            <div class=\\\"showCurrentYearMonth\\\">\\n                <span class=\\\"showYear\\\">{{year}}</span>/<span class=\\\"showMonth\\\">{{month}}</span>\\n            </div>\\n            <table>\\n                <thead>\\n                    <tr><td>\\u65E5</td><td>\\u4E00</td><td>\\u4E8C</td><td>\\u4E09</td><td>\\u56DB</td><td>\\u4E94</td><td>\\u516D</td></tr>\\n                </thead>\\n                <tbody @click=\\\"pickDay\\\"></tbody>\\n            </table>\\n            <div v-if=\\\"showTime\\\" class=\\\"showTime\\\">\\n                \\u65F6 <select class=\\\"hour aj-select\\\"><option v-for=\\\"n in 24\\\">{{n}}</option></select>\\n                \\u5206 <select class=\\\"minute aj-select\\\"><option v-for=\\\"n in 61\\\">{{n - 1}}</option></select>\\n                <a href=\\\"#\\\" @click=\\\"pickupTime\\\">\\u9009\\u62E9\\u65F6\\u95F4</a>\\n            </div>\\n        </div>    \\n    \"])),\n    data: function () {\n        var date = new Date;\n        return {\n            date: date,\n            year: date.getFullYear(),\n            month: date.getMonth() + 1,\n            day: 1\n        };\n    },\n    props: { showTime: false },\n    mounted: function () {\n        this.$options.watch.date.call(this);\n    },\n    watch: {\n        date: function () {\n            this.year = this.date.getFullYear();\n            this.month = this.date.getMonth() + 1;\n            this.render();\n        }\n    },\n    methods: {\n        render: function () {\n            var arr = this.getDateArr(); // 用来保存日期列表\n            var frag = document.createDocumentFragment(); // 插入日期\n            while (arr.length) {\n                var row = document.createElement(\"tr\"); // 每个星期插入一个 tr\n                for (var i = 1; i <= 7; i++) { // 每个星期有7天\n                    var cell = document.createElement(\"td\");\n                    if (arr.length) {\n                        var d = arr.shift();\n                        if (d) {\n                            cell.innerHTML = d + \"\";\n                            var text = this.year + '-' + this.month + '-' + d;\n                            cell.className = 'day day_' + text;\n                            cell.title = text; // 保存日期在 title 属性\n                            var on = new Date(this.year, this.month - 1, d);\n                            // 判断是否今日\n                            if (this.isSameDay(on, this.date)) {\n                                cell.classList.add('onToday');\n                                this.onToday && this.onToday(cell);\n                            }\n                            // 判断是否选择日期\n                            // this.selectDay && this.onSelectDay && this.isSameDay(on, this.selectDay) &&\n                            // this.onSelectDay(cell);\n                        }\n                    }\n                    row.appendChild(cell);\n                }\n                frag.appendChild(row);\n            }\n            // 先清空内容再插入(ie的table不能用innerHTML)\n            // while (el.hasChildNodes())\n            // el.removeChild(el.firstChild);\n            var tbody = this.$el.$(\"table tbody\");\n            tbody.innerHTML = '';\n            tbody.appendChild(frag);\n        },\n        /**\n         * 获取指定的日期\n         *\n         * @param this\n         * @param dateType\n         * @param month\n         */\n        getDate: function (dateType, month) {\n            var nowYear = this.date.getFullYear(), nowMonth = this.date.getMonth() + 1; // 当前日期\n            switch (dateType) {\n                case 'preMonth': // 上一月\n                    this.date = new Date(nowYear, nowMonth - 2, 1);\n                    break;\n                case 'nextMonth': // 下一月\n                    this.date = new Date(nowYear, nowMonth, 1);\n                    break;\n                case 'setMonth': // 指定月份\n                    this.date = new Date(nowYear, month - 1, 1);\n                    break;\n                case 'preYear': // 上一年\n                    this.date = new Date(nowYear - 1, nowMonth - 1, 1);\n                    break;\n                case 'nextYear': // 下一年\n                    this.date = new Date(nowYear + 1, nowMonth - 1, 1);\n                    break;\n            }\n        },\n        /**\n         *\n         *\n         * @param this\n         * @param $event\n         */\n        setMonth: function ($event) {\n            var el = $event.target;\n            this.getDate('setMonth', Number(el.selectedOptions[0].value));\n        },\n        /**\n         * 获取空白的非上月天数 + 当月天数\n         *\n         * @param this\n         */\n        getDateArr: function () {\n            var arr = [];\n            // 用 当月第一天 在一周中的日期值 作为 当月 离 第一天的天数\n            for (var i = 1, firstDay = new Date(this.year, this.month - 1, 1).getDay(); i <= firstDay; i++)\n                arr.push(0);\n            // 用 当月最后一天 在一个月中的 日期值 作为 当月的天数\n            for (var i = 1, monthDay = new Date(this.year, this.month, 0).getDate(); i <= monthDay; i++)\n                arr.push(i);\n            return arr;\n        },\n        /**\n         * 获取日期\n         *\n         * @param this\n         * @param $event\n         */\n        pickDay: function ($event) {\n            var el = $event.target, date = el.title;\n            this.$emit('pick-date', date);\n            return date;\n        },\n        /**\n         *\n         * @param this\n         * @param $event\n         */\n        pickupTime: function ($event) {\n            var hour = this.$el.$('.hour'), minute = this.$el.$('.minute');\n            var time = hour.selectedOptions[0].value + ':' + minute.selectedOptions[0].value;\n            this.$emit('pick-time', time);\n        },\n        /**\n         * 判断两个日期是否同一日\n         *\n         * @param d1\n         * @param d2\n         */\n        isSameDay: function (d1, d2) {\n            return (d1.getFullYear() == d2.getFullYear() && d1.getMonth() == d2.getMonth() && d1.getDate() == d2.getDate());\n        }\n    }\n});\n\n\"use strict\";\n/**\n * 全国省市区\n * 写死属性\n */\nVue.component('aj-china-area', {\n    template: \"\\n\\t\\t<div class=\\\"aj-china-area\\\">\\n\\t\\t\\t<span>\\u7701</span> \\n\\t\\t\\t<select v-model=\\\"province\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"provinceName || 'locationProvince'\\\">\\n\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t<option v-for=\\\"(v, k) in addressData[86]\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t</select>\\n\\t\\t\\t<span>\\u5E02 </span>\\n\\t\\t\\t<select v-model=\\\"city\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"cityName || 'locationCity'\\\">\\n\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t<option v-for=\\\"(v, k) in citys\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t</select>\\n\\t\\t\\t<span>\\u533A</span>  \\n\\t\\t\\t<select v-model=\\\"district\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"districtName || 'locationDistrict'\\\">\\n\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t<option v-for=\\\"(v, k) in districts\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t</select>\\n\\t\\t</div>\\n\\t\",\n    props: {\n        provinceCode: String,\n        cityCode: String,\n        districtCode: String,\n        provinceName: String,\n        cityName: String,\n        districtName: String\n    },\n    data: function () {\n        //@ts-ignore\n        if (!window.China_AREA)\n            throw '中国行政区域数据 脚本没导入';\n        return {\n            province: this.provinceCode || '',\n            city: this.cityCode || '',\n            district: this.districtCode || '',\n            //@ts-ignore\n            addressData: window.China_AREA\n        };\n    },\n    watch: {\n        province: function (val, oldval) {\n            //            if(val !== oldval) \n            //                this.city = '';\n        },\n    },\n    computed: {\n        citys: function () {\n            if (!this.province)\n                return;\n            return this.addressData[this.province];\n        },\n        districts: function () {\n            if (!this.city)\n                return;\n            return this.addressData[this.city];\n        }\n    }\n});\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var form;\n    (function (form_1) {\n        var EditForm;\n        (function (EditForm) {\n            Vue.component('aj-edit-form', {\n                template: \"\\n            <form class=\\\"aj-table-form\\\" :action=\\\"getInfoApi + (isCreate ? '' : info.id + '/')\\\" :method=\\\"isCreate ? 'POST' : 'PUT'\\\">\\n                <h3>{{isCreate ? \\\"\\u65B0\\u5EFA\\\" : \\\"\\u7F16\\u8F91\\\" }}{{uiName}}</h3>\\n                <!-- \\u4F20\\u9001 id \\u53C2\\u6570 -->\\n                <input v-if=\\\"!isCreate\\\" type=\\\"hidden\\\" name=\\\"id\\\" :value=\\\"info.id\\\" />\\n                <slot v-bind:info=\\\"info\\\"></slot>\\n                <div class=\\\"aj-btnsHolder\\\">\\n                    <button><img :src=\\\"ajResources.commonAsset + '/icon/save.gif'\\\" /> {{isCreate ? \\\"\\u65B0\\u5EFA\\\":\\\"\\u4FDD\\u5B58\\\"}}</button>\\n                    <button onclick=\\\"this.up('form').reset();return false;\\\">\\u590D \\u4F4D</button>\\n                    <button v-if=\\\"!isCreate\\\" v-on:click.prevent=\\\"del()\\\">\\n                        <img :src=\\\"ajResources.commonAsset + '/icon/delete.gif'\\\" /> \\u5220 \\u9664\\n                    </button>\\n                    <button @click.prevent=\\\"close\\\">\\u5173\\u95ED</button>\\n                </div>\\n            </form>\\n        \",\n                props: {\n                    isCreate: Boolean,\n                    uiName: String,\n                    apiUrl: { type: String, required: true } // 获取实体详情的接口地址 \n                },\n                data: function () {\n                    return {\n                        id: 0,\n                        info: {},\n                    };\n                },\n                mounted: function () {\n                    var _this = this;\n                    aj.xhr.form(this.$el, function (j) {\n                        if (j) {\n                            if (j.isOk) {\n                                var msg_1 = (_this.isCreate ? \"新建\" : \"保存\") + _this.uiName + \"成功\";\n                                aj.msg.show(msg_1);\n                                _this.$parent.close();\n                            }\n                            else\n                                aj.msg.show(j.msg);\n                        }\n                    }, {\n                        beforeSubmit: function (form, json) {\n                            //json.content = App.$refs.htmleditor.getValue({cleanWord : eval('${aj_allConfig.article.cleanWordTag}'), encode : true});\n                            return true;\n                        }\n                    });\n                },\n                methods: {\n                    load: function (id, cb) {\n                        var _this = this;\n                        this.id = id;\n                        aj.xhr.get(this.apiUrl + id + \"/\", function (j) {\n                            _this.info = j.result;\n                            cb && cb(j);\n                        });\n                    },\n                    close: function () {\n                        if (this.$parent.$options._componentTag === 'aj-layer')\n                            //@ts-ignore\n                            this.$parent.close();\n                        else\n                            history.back();\n                    },\n                    /**\n                     * 执行删除\n                     *\n                     * @param this\n                     */\n                    del: function () {\n                        var id = aj.form.utils.getFormFieldValue(this.$el, 'input[name=id]'), title = aj.form.utils.getFormFieldValue(this.$el, 'input[name=name]');\n                        aj.showConfirm(\"\\u8BF7\\u786E\\u5B9A\\u5220\\u9664\\u8BB0\\u5F55\\uFF1A\\n\" + title + \"\\uFF1F\", function () {\n                            return aj.xhr.dele(\"../\" + id + \"/\", function (j) {\n                                if (j.isOk) {\n                                    aj.msg.show('删除成功！');\n                                    //setTimeout(() => location.reload(), 1500);\n                                }\n                                else\n                                    aj.alert('删除失败！');\n                            });\n                        });\n                    }\n                }\n            });\n        })(EditForm = form_1.EditForm || (form_1.EditForm = {}));\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n;\n(function () {\n    Vue.component('aj-form-html-editor', {\n        template: \"\\n            <div class=\\\"aj-form-html-editor\\\">\\n                <ul class=\\\"toolbar\\\" @click=\\\"onToolBarClk\\\">\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\\"         class=\\\"fa-font\\\"></i>\\n                        <div class=\\\"fontfamilyChoser\\\" @click=\\\"onFontfamilyChoserClk\\\">\\n                            <a style=\\\"font-family: '\\u5B8B\\u4F53'\\\">\\u5B8B\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u9ED1\\u4F53'\\\">\\u9ED1\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u6977\\u4F53'\\\">\\u6977\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u96B6\\u4E66'\\\">\\u96B6\\u4E66</a>\\n                            <a style=\\\"font-family: '\\u5E7C\\u5706'\\\">\\u5E7C\\u5706</a>\\n                            <a style=\\\"font-family: 'Microsoft YaHei'\\\">Microsoft YaHei</a>\\n                            <a style=\\\"font-family: Arial\\\">Arial</a>\\n                            <a style=\\\"font-family: 'Arial Narrow'\\\">Arial Narrow</a>\\n                            <a style=\\\"font-family: 'Arial Black'\\\">Arial Black</a>\\n                            <a style=\\\"font-family: 'Comic Sans MS'\\\">Comic Sans MS</a>\\n                            <a style=\\\"font-family: Courier\\\">Courier</a>\\n                            <a style=\\\"font-family: System\\\">System</a>\\n                            <a style=\\\"font-family: 'Times New Roman'\\\">Times New Roman</a>\\n                            <a style=\\\"font-family: Verdana\\\">Verdana</a>\\n                        </div>\\n                    </li>\\t\\t\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u53F7\\\"         class=\\\"fa-header\\\"></i>\\n                        <div class=\\\"fontsizeChoser\\\" @click=\\\"onFontsizeChoserClk\\\">\\n                            <a style=\\\"font-size: xx-small; \\\">\\u6781\\u5C0F</a>\\n                            <a style=\\\"font-size: x-small;  \\\">\\u7279\\u5C0F</a>\\n                            <a style=\\\"font-size: small;    \\\">\\u5C0F</a>\\n                            <a style=\\\"font-size: medium;   \\\">\\u4E2D</a>\\n                            <a style=\\\"font-size: large;    \\\">\\u5927</a>\\n                            <a style=\\\"font-size: x-large;  \\\">\\u7279\\u5927</a>\\n                            <a style=\\\"font-size: xx-large; line-height: 140%\\\">\\u6781\\u5927</a>\\n                        </div>\\n                    </li>\\t\\t\\n                    <li><i title=\\\"\\u52A0\\u7C97\\\"         class=\\\"bold fa-bold\\\"></i></li>\\t\\t\\n                    <li><i title=\\\"\\u659C\\u4F53\\\"         class=\\\"italic fa-italic\\\"></i></li>\\t\\t\\n                    <li><i title=\\\"\\u4E0B\\u5212\\u7EBF\\\"       class=\\\"underline fa-underline\\\"></i></li>\\n                    <li><i title=\\\"\\u5DE6\\u5BF9\\u9F50\\\"       class=\\\"justifyleft fa-align-left\\\"></i></li>\\n                    <li><i title=\\\"\\u4E2D\\u95F4\\u5BF9\\u9F50\\\"     class=\\\"justifycenter fa-align-center\\\"></i></li>\\n                    <li><i title=\\\"\\u53F3\\u5BF9\\u9F50\\\"       class=\\\"justifyright fa-align-right\\\"></i></li>\\n                    <li><i title=\\\"\\u6570\\u5B57\\u7F16\\u53F7\\\"     class=\\\"insertorderedlist fa-list-ol\\\"></i></li>\\n                    <li><i title=\\\"\\u9879\\u76EE\\u7F16\\u53F7\\\"     class=\\\"insertunorderedlist fa-list-ul\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u7F29\\u8FDB\\\"     class=\\\"outdent fa-outdent\\\"></i></li>\\n                    <li><i title=\\\"\\u51CF\\u5C11\\u7F29\\u8FDB\\\"     class=\\\"indent fa-indent\\\"></i></li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\u989C\\u8272\\\"     class=\\\"fa-paint-brush\\\"></i>\\n                        <div class=\\\"fontColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontColorPicker\\\"></div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u80CC\\u666F\\u989C\\u8272\\\"     class=\\\"fa-pencil\\\" ></i>\\n                        <div class=\\\"bgColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontBgColorPicker\\\"></div>\\n                    </li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u94FE\\u63A5\\\"     class=\\\"createLink fa-link\\\" ></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u56FE\\u7247\\\"     class=\\\"insertImage fa-file-image-o\\\" ></i></li>\\n                    <li><i title=\\\"\\u4E00\\u952E\\u5B58\\u56FE\\\"     class=\\\"saveRemoteImage2Local fa-hdd-o\\\"></i></li>\\n                    <li><i title=\\\"\\u6E05\\u7406 HTML\\\"    class=\\\"cleanHTML fa-eraser\\\" ></i></li>\\n                    <li><i title=\\\"\\u5207\\u6362\\u5230\\u4EE3\\u7801\\\"   class=\\\"switchMode fa-code\\\"></i></li>\\n                </ul>\\n\\n                <div class=\\\"editorBody\\\">\\t\\n                    <iframe srcdoc=\\\"<html><body></body></html>\\\"></iframe>   \\n                    <slot></slot>\\n                </div>\\n            </div>\\n        \",\n        // <iframe :src=\"ajResources.commonAsset + '/resources/htmleditor_iframe.jsp?basePath=' + basePath\"></iframe>\n        props: {\n            fieldName: { type: String, required: true },\n            content: { type: String, required: false },\n            basePath: { type: String, required: false, default: '' },\n            uploadImageActionUrl: String // 图片上传路径\n        },\n        mounted: function () {\n            var _this = this;\n            var el = this.$el;\n            this.iframeEl = el.$('iframe');\n            this.sourceEditor = el.$('textarea');\n            this.iframeWin = this.iframeEl.contentWindow;\n            this.mode = 'iframe'; // 当前可视化编辑 iframe|textarea\n            this.toolbarEl = el.$('.toolbar');\n            // 这个方法只能写在 onload 事件里面， 不写 onload 里还不执行\n            this.iframeWin.onload = function (e) {\n                _this.iframeDoc = _this.iframeWin.document;\n                _this.iframeDoc.designMode = 'on';\n                _this.sourceEditor.value && _this.setValue(_this.sourceEditor.value); // 有内容\n                _this.iframeDoc.addEventListener('paste', onImagePaste.bind(_this)); // 直接剪切板粘贴上传图片\n            };\n        },\n        methods: {\n            /**\n             * 当工具条点击的时候触发\n             *\n             * @param this\n             * @param e\n             */\n            onToolBarClk: function (e) {\n                var _this = this;\n                var el = e.target, clsName = el.className.split(' ').shift();\n                switch (clsName) {\n                    case 'createLink':\n                        var result = prompt(\"请输入 URL 地址\");\n                        if (result)\n                            this.format(\"createLink\", result);\n                        break;\n                    case 'insertImage':\n                        // @ts-ignore\n                        if (window.isCreate)\n                            aj.alert('请保存记录后再上传图片。');\n                        else {\n                            // @ts-ignore\n                            App.$refs.uploadLayer.show(function (json) {\n                                // if (json.result)\n                                //     json = json.result;\n                                if (json && json.isOk)\n                                    _this.format(\"insertImage\", json.fullUrl);\n                            });\n                        }\n                        break;\n                    case 'switchMode':\n                        this.setMode();\n                        break;\n                    case 'cleanHTML':\n                        // @ts-ignore\n                        this.iframeDoc.body.innerHTML = HtmlSanitizer.SanitizeHtml(this.iframeDoc.body.innerHTML); // 清理冗余 HTML\n                        break;\n                    case 'saveRemoteImage2Local':\n                        saveRemoteImage2Local.call(this);\n                        break;\n                    default:\n                        this.format(clsName);\n                }\n            },\n            format: function (type, para) {\n                // this.iframeWin.focus();\n                if (para)\n                    this.iframeDoc.execCommand(type, false, para);\n                else\n                    this.iframeDoc.execCommand(type, false);\n                this.iframeWin.focus();\n            },\n            insertEl: function (html) {\n                this.iframeDoc.body.innerHTML = html;\n            },\n            /**\n             * 設置 HTML\n             *\n             * @param v\n             */\n            setValue: function (v) {\n                var _this = this;\n                setTimeout(function () {\n                    _this.iframeWin.document.body.innerHTML = v;\n                    // self.iframeBody.innerHTML = v;\n                }, 500);\n            },\n            /**\n             * 获取内容的 HTML\n             *\n             * @param this\n             * @param cleanWord\n             * @param encode\n             */\n            getValue: function (cleanWord, encode) {\n                var result = this.iframeDoc.body.innerHTML;\n                if (cleanWord)\n                    result = cleanPaste(result);\n                if (encode)\n                    result = encodeURIComponent(result);\n                return result;\n            },\n            /**\n             * 切換 HTML 編輯 or 可視化編輯\n             *\n             * @param this\n             */\n            setMode: function () {\n                if (this.mode == 'iframe') {\n                    this.iframeEl.classList.add('hide');\n                    this.sourceEditor.classList.remove('hide');\n                    this.sourceEditor.value = this.iframeDoc.body.innerHTML;\n                    this.mode = 'textarea';\n                    grayImg.call(this, true);\n                }\n                else {\n                    this.iframeEl.classList.remove('hide');\n                    this.sourceEditor.classList.add('hide');\n                    this.iframeDoc.body.innerHTML = this.sourceEditor.value;\n                    this.mode = 'iframe';\n                    grayImg.call(this, false);\n                }\n            },\n            /**\n             * 选择字体\n             *\n             * @param this\n             * @param e\n             */\n            onFontfamilyChoserClk: function (e) {\n                var el = e.target;\n                this.format('fontname', el.innerHTML);\n                /* 如何解决点击之后马上隐藏面板？由于 js（单击事件） 没有控制 CSS 的 :hover 伪类的方法，故所以必须使用以下技巧：*/\n                var menuPanel = el.parentNode;\n                menuPanel.style.display = 'none';\n                setTimeout(function () { return menuPanel.style.display = ''; }, 300);\n            },\n            /**\n             * 选择字号大小\n             *\n             * @param this\n             * @param e\n             */\n            onFontsizeChoserClk: function (e) {\n                var el = e.target;\n                var els = e.currentTarget.children;\n                for (var i = 0, j = els.length; i < j; i++)\n                    if (el == els[i])\n                        break;\n                this.format('fontsize', i + \"\");\n            },\n            onFontColorPicker: function (e) {\n                this.format('foreColor', e.target.title);\n            },\n            onFontBgColorPicker: function (e) {\n                this.format('backColor', e.target.title);\n            },\n            /**\n             * 创建颜色选择器\n             */\n            createColorPickerHTML: function () {\n                // 定义变量\n                var cl = ['00', '33', '66', '99', 'CC', 'FF'], b, d, e, f, T;\n                // 创建 head\n                var h = '<div class=\"colorhead\"><span class=\"colortitle\">颜色选择</span></div><div class=\"colorbody\"><table cellspaci=\"0\" cellpadding=\"0\"><tr>';\n                // 创建 body  [6 x 6的色盘]\n                for (var i = 0; i < 6; ++i) {\n                    h += '<td><table class=\"colorpanel\" cellspacing=\"0\" cellpadding=\"0\">';\n                    for (var j = 0, a = cl[i]; j < 6; ++j) {\n                        h += '<tr>';\n                        for (var k = 0, c = cl[j]; k < 6; ++k) {\n                            b = cl[k];\n                            e = ((k == 5 && i != 2 && i != 5) ? ';border-right:none;' : '');\n                            f = ((j == 5 && i < 3) ? ';border-bottom:none' : '');\n                            d = '#' + a + b + c;\n                            // T = document.all ? '&nbsp;' : '';\n                            h += '<td unselectable=\"on\" style=\"background-color: ' + d + e + f + '\" title=\"' + d + '\"></td>';\n                        }\n                        h += '</tr>';\n                    }\n                    h += '</table></td>';\n                    if (cl[i] == '66')\n                        h += '</tr><tr>';\n                }\n                h += '</tr></table></div>';\n                return h;\n            }\n        }\n    });\n    /**\n     * 使图标变灰色\n     *\n     * @param this\n     * @param isGray\n     */\n    function grayImg(isGray) {\n        this.toolbarEl.$('i', function (item) {\n            if (item.className.indexOf('switchMode') != -1)\n                return;\n            item.style.color = isGray ? 'lightgray' : '';\n            // if (item.className.indexOf('switchMode') != -1)\n            //     item.style.color = isGray ? 'lightgray' : '';\n            // else\n            //     item.style.filter = isGray ? 'grayscale(100%)' : '';\n        });\n    }\n    function saveRemoteImage2Local() {\n        var str = [], remotePicArr = new Array();\n        var arr = this.iframeDoc.querySelectorAll('img');\n        for (var i = 0, j = arr.length; i < j; i++) {\n            var imgEl = arr[i], url = imgEl.getAttribute('src');\n            if (/^http/.test(url)) {\n                str.push(url);\n                remotePicArr.push(imgEl);\n            }\n        }\n        if (str.length)\n            aj.xhr.post('../downAllPics/', function (json) {\n                var _arr = json.pics;\n                for (var i = 0, j = _arr.length; i < j; i++)\n                    remotePicArr[i].src = \"images/\" + _arr[i];\n                aj.alert('所有图片下载完成。');\n            }, { pics: str.join('|') });\n        else\n            aj.alert('未发现有远程图片');\n    }\n    /**\n     * MSWordHtmlCleaners.js https://gist.github.com/ronanguilloux/2915995\n     *\n     * @param html\n     */\n    function cleanPaste(html) {\n        // Remove additional MS Word content\n        html = html.replace(/<(\\/)*(\\\\?xml:|meta|link|span|font|del|ins|st1:|[ovwxp]:)((.|\\s)*?)>/gi, ''); // Unwanted tags\n        html = html.replace(/(class|style|type|start)=(\"(.*?)\"|(\\w*))/gi, ''); // Unwanted sttributes\n        html = html.replace(/<style(.*?)style>/gi, ''); // Style tags\n        html = html.replace(/<script(.*?)script>/gi, ''); // Script tags\n        html = html.replace(/<!--(.*?)-->/gi, ''); // HTML comments\n        return html;\n    }\n    /*\n    * 富文本编辑器中粘贴图片时，chrome可以得到e.clipBoardData.items并从中获取二进制数据，以便ajax上传到后台，\n    * 实现粘贴图片的功能。firefox中items为undefined，可选的方案：1将base64原样上传到后台进行文件存储替换，2将内容清空，待粘贴完毕后取图片src，再恢复现场\n    * https://stackoverflow.com/questions/2176861/javascript-get-clipboard-data-on-paste-event-cross-browser\n    */\n    /**\n     *\n     * @param this\n     * @param event\n     */\n    function onImagePaste(event) {\n        var _this = this;\n        if (!this.uploadImageActionUrl) {\n            aj.alert('未提供图片上传地址');\n            return;\n        }\n        var items = event.clipboardData && event.clipboardData.items;\n        var file = null; // file就是剪切板中的图片文件\n        if (items && items.length) { // 检索剪切板items\n            for (var i = 0; i < items.length; i++) {\n                var item = items[i];\n                if (item.type.indexOf('image') !== -1) {\n                    // @ts-ignore\n                    if (window.isCreate) { // 有图片\n                        aj.alert('请保存记录后再上传图片。');\n                        return;\n                    }\n                    file = item.getAsFile();\n                    break;\n                }\n            }\n        }\n        if (file) {\n            event.preventDefault();\n            aj.img.changeBlobImageQuality(file, function (newBlob) {\n                Vue.options.components[\"aj-xhr-upload\"].extendOptions.methods.doUpload.call({\n                    action: _this.uploadImageActionUrl,\n                    progress: 0,\n                    uploadOk_callback: function (j) {\n                        if (j.isOk)\n                            this.format(\"insertImage\", this.ajResources.imgPerfix + j.imgUrl);\n                    },\n                    $blob: newBlob,\n                    $fileName: 'foo.jpg'\n                });\n            });\n        }\n    }\n})();\n\n\"use strict\";\n/**\n* 将上传控件嵌入到一个浮出层中\n*/\nVue.component('aj-form-popup-upload', {\n    template: \"\\n        <aj-layer>\\n            <h3>\\u56FE\\u7247\\u4E0A\\u4F20</h3>\\n            <p>\\u4E0A\\u4F20\\u6210\\u529F\\u540E\\u81EA\\u52A8\\u63D2\\u5165\\u5230\\u6B63\\u6587</p>\\n            <aj-xhr-upload ref=\\\"uploadControl\\\" :action=\\\"uploadUrl\\\" :is-img-upload=\\\"true\\\" :hidden-field=\\\"imgName\\\"\\n                :img-place=\\\"ajResources.commonAsset + '/images/imgBg.png'\\\">\\n            </aj-xhr-upload>\\n            <div>\\u4E0A\\u4F20\\u9650\\u5236\\uFF1A{{text.maxSize}}kb \\u6216\\u4EE5\\u4E0B\\uFF0C\\u5206\\u8FA8\\u7387\\uFF1A{{text.maxHeight}}x{{text.maxWidth}}</div>\\n        </aj-layer>\\n    \",\n    data: function () {\n        return {\n            text: {}\n        };\n    },\n    props: {\n        uploadUrl: { type: String, required: true },\n        imgName: { type: String, required: false },\n        imgId: { type: Number, required: false },\n        imgPlace: String // 图片占位符，用户没有选定图片时候使用的图片\n    },\n    mounted: function () {\n        var obj = this.$refs.uploadControl;\n        this.text = { maxSize: obj.limitSize || 600, maxHeight: obj.imgMaxHeight, maxWidth: obj.imgMaxWidth };\n    },\n    methods: {\n        /**\n         * 显示上传控件\n         *\n         * @param {Function} callback 上传成功之后的回调函数\n         */\n        show: function (callback) {\n            if (callback)\n                this.$refs.uploadControl.uploadOk_callback = callback;\n            this.$children[0].show();\n        }\n    }\n});\n\n\"use strict\";\n// aj.searchPanel = {\n//     methods: {\n//         searchBy(field, clz) {\n//             var param = {};\n//             param[field] = aj(clz).value;\n//             if (!param[field]) {\n//                 aj.alert('请输入搜索的关键字');\n//                 return;\n//             }\n//             aj.apply(this.$refs.pager.extraParam, param);\n//             this.reload();\n//         },\n//         // 选择任意字段\n//         searchAny(field, clz) {\n//             var param = {};\n//             param.filterField = field;\n//             param.filterValue = aj(clz).value;\n//             if (!param.filterValue) {\n//                 aj.alert('请输入搜索的关键字');\n//                 return;\n//             }\n//             aj.apply(this.$refs.pager.extraParam, param);\n//             this.reload();\n//         },\n//         // 清空查询参数\n//         clearSearch() {\n//             this.$refs.pager.extraParam = {};\n//             this.reload();\n//         }\n//     }\n// };\n\n\"use strict\";\naj.treeLike = {\n    methods: {\n        // 遍历各个元素，输出\n        output: (function () {\n            var stack = [];\n            return function (map, cb) {\n                stack.push(map);\n                for (var i in map) {\n                    map[i].level = stack.length; // 层数，也表示缩进多少个字符\n                    cb(map[i], i);\n                    var c = map[i].children;\n                    if (c) {\n                        for (var q = 0, p = c.length; q < p; q++)\n                            this.output(c[q], cb);\n                    }\n                }\n                stack.pop();\n            };\n        })(),\n        // 生成树，将扁平化的结构 还原为树状的结构\n        // 父id 必须在子id之前，不然下面 findParent() 找不到后面的父节点，故这个数组必须先排序\n        toTree: function (jsonArr) {\n            if (!jsonArr)\n                return;\n            var m = {};\n            for (var i = 0, j = jsonArr.length; i < j; i++) {\n                var n = jsonArr[i];\n                var parentNode = this.findParent(m, n.pid);\n                if (parentNode == null) { // 没有父节点，那就表示这是根节点，保存之\n                    m[n.id] = n; // id 是key，value 新建一对象\n                }\n                else { // 有父亲节点，作为孩子节点保存\n                    var obj = {};\n                    obj[n.id] = n;\n                    if (!parentNode.children)\n                        parentNode.children = [];\n                    parentNode.children.push(obj);\n                }\n            }\n            return m;\n        },\n        /**\n         * 渲染 Option 标签的 DOM\n         */\n        rendererOption: function (json, select, selectedId, cfg) {\n            if (cfg && cfg.makeAllOption) {\n                var option = document.createElement('option');\n                option.value = option.innerHTML = \"全部分类\";\n                select.appendChild(option);\n            }\n            // 生成 option\n            var temp = document.createDocumentFragment();\n            this.output(this.toTree(json), function (node, nodeId) {\n                var option = document.createElement('option'); // 节点\n                option.value = nodeId;\n                if (selectedId && selectedId == nodeId) // 选中的\n                    option.selected = true;\n                option.dataset['pid'] = node.pid;\n                //option.style= \"padding-left:\" + (node.level - 1) +\"rem;\";\n                option.innerHTML = new Array(node.level * 5).join('&nbsp;') + (node.level == 1 ? '' : '└─') + node.name;\n                temp.appendChild(option);\n            });\n            select.appendChild(temp);\n        }\n    }\n};\n// 下拉分类选择器，异步请求远端获取分类数据\nVue.component('aj-tree-catelog-select', {\n    mixins: [aj.treeLike],\n    template: '<select :name=\"fieldName\" @change=\"onSelected\" class=\"aj-tree-catelog-select aj-select\" style=\"width: 200px;\"></select>',\n    props: {\n        catalogId: {\n            type: Number, required: true\n        },\n        selectedCatalogId: {\n            type: Number, required: false\n        },\n        fieldName: {\n            type: String, default: 'catalogId'\n        },\n        isAutoJump: Boolean // 是否自动跳转 catalogId\n    },\n    mounted: function () {\n        var _this = this;\n        var fn = function (j) {\n            var arr = [{ id: 0, name: \"请选择分类\" }];\n            _this.rendererOption(arr.concat(j.result), _this.$el, _this.selectedCatalogId, { makeAllOption: false });\n        };\n        aj.xhr.get(this.ajResources.ctx + \"/admin/tree-like/getListAndSubByParentId/\" + this.catalogId + \"/\", fn);\n    },\n    methods: {\n        onSelected: function ($event) {\n            if (this.isAutoJump) {\n                var el = $event.target, catalogId = el.selectedOptions[0].value;\n                location.assign('?' + this.fieldName + '=' + catalogId);\n            }\n            else\n                this.BUS.$emit('aj-tree-catelog-select-change', $event, this);\n        }\n    }\n});\n// 指定 id 的那个 option 选中\naj.selectOption = function (id) {\n    this.$el.$('option', function (i) {\n        if (i.value == id)\n            i.selected = true;\n    });\n};\nVue.component('aj-tree-like-select', {\n    mixins: [aj.treeLike],\n    template: '<select :name=\"name\" class=\"aj-select\" @change=\"onSelected\"></select>',\n    props: {\n        catalogId: { type: Number, required: true },\n        selectedId: { type: Number, required: false },\n        name: { type: String, required: false, default: 'catalogId' },\n        api: { type: String, default: '/admin/tree-like/' }\n    },\n    mounted: function () {\n        var _this = this;\n        var url = this.ajResources.ctx + this.api + this.catalogId + \"/\";\n        var fn = function (j) { return _this.rendererOption(j.result, _this.$el, _this.selectedCatalogId, { makeAllOption: false }); };\n        aj.xhr.get(url, fn);\n    },\n    methods: {\n        onSelected: function (ev) {\n            var el = ev.target, catalogId = el.selectedOptions[0].value;\n            this.$emit('selected', Number(catalogId));\n        },\n        select: aj.selectOption\n    }\n});\n\n\"use strict\";\n/**\n * 下拉列表\n */\nVue.component('aj-form-select', {\n    template: \"\\n        <select :name=\\\"name\\\" class=\\\"aj-form-select\\\">\\n            <template v-for=\\\"value, key, index in options\\\">\\n                <option v-if=\\\"index === selectedIndex\\\" selected :value=\\\"value\\\" >{{key}}</option>\\n                <option v-else :value=\\\"value\\\" >{{key}}</option>\\n            </template>\\n        </select>\\n    \",\n    props: {\n        name: { type: String, required: true },\n        options: { type: Object, required: true },\n        selectedIndex: { type: Number } // starts form 0\n    }\n});\n\n\"use strict\";\n/**\n * 表单工具函数\n */\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        var utils;\n        (function (utils) {\n            /**\n             * 获取表单控件的值\n             *\n             * @param el\n             * @param cssSelector\n             */\n            function getFormFieldValue(_el, cssSelector) {\n                var el = _el.$(cssSelector);\n                if (el)\n                    return el.value;\n                else\n                    throw \"\\u627E\\u4E0D\\u5230\" + cssSelector + \"\\u5143\\u7D20\";\n            }\n            utils.getFormFieldValue = getFormFieldValue;\n            /**\n             * 指定 id 的那个 option 选中\n             *\n             * @param this\n             * @param id\n             */\n            function selectOption(id) {\n                this.$el.$('option', function (i) {\n                    console.log(i.value);\n                    if (i.value == id)\n                        i.selected = true;\n                });\n            }\n            utils.selectOption = selectOption;\n        })(utils = form.utils || (form.utils = {}));\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\"use strict\";\n/**\n * 表单验证器\n *\n * https://www.w3cplus.com/css/form-validation-part-2-the-constraint-validation-api-javascript.html\n * https://github.com/cferdinandi/validate/blob/master/src/js/validate.js\n */\nvar aj;\n(function (aj) {\n    var form;\n    (function (form_1) {\n        /**\n         * 验证字段\n         *\n         * @param field\n         */\n        function hasError(field) {\n            // if (!field || !field.getAttribute)\n            //     console.log(field);\n            if (field.disabled || field.type === 'file' || field.type === 'reset' || field.type === 'submit' || field.type === 'button')\n                return \"\"; // 忽略部分元素\n            var validity = field.validity; // 获取 validity\n            if (!validity)\n                return '浏览器不支持 HTML5 表单验证';\n            if (validity.valid) // 如果通过验证,就返回 \"\"\n                return \"\";\n            if (validity.valueMissing) // 如果是必填字段但是字段为空时\n                return '该项是必填项';\n            if (validity.typeMismatch) { // 如果类型不正确\n                if (field.type === 'email')\n                    return '请输入有效的邮件地址';\n                if (field.type === 'url')\n                    return '请输入一个有效的网址';\n                return '请输入正确的类型';\n            }\n            if (validity.tooShort) // 如果输入的字符数太短\n                return 'Please lengthen this text to ' + field.getAttribute('minLength') + ' characters or more. You are currently using ' + field.value.length + ' characters.';\n            if (validity.tooLong) // 如果输入的字符数太长\n                return 'Please shorten this text to no more than ' + field.getAttribute('maxLength') + ' characters. You are currently using ' + field.value.length + ' characters.';\n            if (validity.badInput) // 如果数字输入类型输入的值不是数字\n                return 'Please enter a number.';\n            if (validity.stepMismatch) // 如果数字值与步进间隔不匹配\n                return 'Please select a valid value.';\n            if (validity.rangeOverflow) // 如果数字字段的值大于max的值\n                return 'Please select a value that is no more than ' + field.getAttribute('max') + '.';\n            if (validity.rangeUnderflow) // 如果数字字段的值小于min的值\n                return 'Please select a value that is no less than ' + field.getAttribute('min') + '.';\n            if (validity.patternMismatch) { // 如果模式不匹配\n                var title = field.getAttribute('title');\n                if (title) // 如果包含模式信息，返回自定义错误\n                    return title;\n                return '格式要求不正确'; // 否则, 返回一般错误\n            }\n            return 'The value you entered for this field is invalid.'; // 如果是其他的错误, 返回一个通用的 catchall 错误\n        }\n        /**\n         *\n         * @param field\n         * @param error\n         * @param isNewLine\n         */\n        function showError(field, error, isNewLine) {\n            var _a;\n            var id = field.id || field.name; // 获取字段 id 或者 name\n            if (!id)\n                return;\n            field.classList.add('error'); // 将错误类添加到字段\n            // 检查错误消息字段是否已经存在 如果没有, 就创建一个\n            var message = field.form.querySelector('.error-message#error-for-' + id);\n            if (!message) {\n                message = document.createElement('div');\n                message.className = 'error-message';\n                message.id = 'error-for-' + id;\n                (_a = field.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(message, field.nextSibling);\n            }\n            field.setAttribute('aria-describedby', 'error-for-' + id); // 添加ARIA role 到字段\n            message.innerHTML = error; // 更新错误信息\n            if (!isNewLine) // 显示错误信息\n                message.style.display = 'inline-block';\n            message.style.visibility = 'visible';\n        }\n        ;\n        /**\n         * 移除所有的错误信息\n         *\n         * @param field\n         */\n        function removeError(field) {\n            var id = field.id || field.name; // 获取字段的 id 或者 name\n            if (!id)\n                return;\n            field.classList.remove('error'); // 删除字段的错误类\n            field.removeAttribute('aria-describedby'); // 移除字段的 ARIA role\n            var message = field.form.querySelector('.error-message#error-for-' + id + ''); // 检查 DOM 中是否有错误消息\n            if (message) {\n                message.innerHTML = ''; // 如果有错误消息就隐藏它\n                message.style.display = 'none';\n                message.style.visibility = 'hidden';\n            }\n        }\n        /**\n         *\n         * @param el\n         */\n        function Validator(el) {\n            var isMsgNewLine = el.dataset.msgNewline === \"true\";\n            el.setAttribute('novalidate', 'true');\n            // 监听所有的失去焦点的事件\n            document.addEventListener('blur', function (event) {\n                var el = event.target, errMsg = hasError(el);\n                if (errMsg) { // 如果有错误,就把它显示出来\n                    showError(el, errMsg, isMsgNewLine);\n                    return;\n                }\n                removeError(el); // 否则, 移除所有存在的错误信息\n            }, true);\n        }\n        form_1.Validator = Validator;\n        Validator.hasError = hasError;\n        /**\n         * 是否通过验证\n         *\n         * @param form\n         */\n        Validator.onSubmit = function (form) {\n            var fields = form.elements; // 获取所有的表单元素\n            // 验证每一个字段\n            // 将具有错误的第一个字段存储到变量中以便稍后我们将其默认获得焦点\n            var error, hasErrors = null;\n            for (var i = 0, j = fields.length; i < j; i++) {\n                var el = fields[i];\n                error = hasError(el);\n                if (error) {\n                    showError(el, error);\n                    if (!hasErrors) // 如果有错误,停止提交表单并使出现错误的第一个元素获得焦点\n                        hasErrors = el;\n                }\n            }\n            if (hasErrors) {\n                hasErrors.focus();\n                return false;\n            }\n            return true;\n        };\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n;\n(function () {\n    Vue.component('aj-xhr-upload', {\n        template: \"\\n            <div class=\\\"aj-xhr-upload\\\" :style=\\\"{display: buttonBottom ? 'inherit': 'flex'}\\\">\\n                <input v-if=\\\"hiddenField\\\" type=\\\"hidden\\\" :name=\\\"hiddenField\\\" :value=\\\"hiddenFieldValue\\\" />\\n                <div v-if=\\\"isImgUpload\\\">\\n                    <a :href=\\\"imgPlace\\\" target=\\\"_blank\\\">\\n                        <img class=\\\"upload_img_perview\\\" :src=\\\"(isFileSize && isExtName && imgBase64Str) ? imgBase64Str : imgPlace\\\" />\\n                    </a>\\n                </div>\\n                <div class=\\\"pseudoFilePicker\\\">\\n                    <label :for=\\\"'uploadInput_' + radomId\\\"><div><div>+</div>\\u70B9\\u51FB\\u9009\\u62E9{{isImgUpload ? '\\u56FE\\u7247': '\\u6587\\u4EF6'}}</div></label>\\n                </div>\\n                <input type=\\\"file\\\" :name=\\\"fieldName\\\" class=\\\"hide\\\" :id=\\\"'uploadInput_' + radomId\\\" \\n                    @change=\\\"onUploadInputChange\\\" :accept=\\\"isImgUpload ? 'image/*' : accpectFileType\\\" />\\n                <div v-if=\\\"!isFileSize || !isExtName\\\">{{errMsg}}</div>\\n                <div v-if=\\\"isFileSize && isExtName\\\">\\n                    {{fileName}}<br />\\n                    <button @click.prevent=\\\"doUpload\\\" style=\\\"min-width:110px;\\\">{{progress && progress !== 100 ? '\\u4E0A\\u4F20\\u4E2D ' + progress + '%': '\\u4E0A\\u4F20'}}</button>\\n                </div>\\n            </div>    \\n        \",\n        props: {\n            action: { type: String, required: true },\n            fieldName: String,\n            limitSize: Number,\n            hiddenField: { type: String, default: null },\n            hiddenFieldValue: String,\n            limitFileType: String,\n            accpectFileType: String,\n            isImgUpload: Boolean,\n            imgPlace: String,\n            imgMaxWidth: { type: Number, default: 1920 },\n            imgMaxHeight: { type: Number, default: 1680 },\n            buttonBottom: Boolean // 上传按钮是否位于下方\n        },\n        data: function () {\n            var _this = this;\n            return {\n                isFileSize: false,\n                isExtName: false,\n                isImgSize: false,\n                errMsg: null,\n                newlyId: null,\n                radomId: Math.round(Math.random() * 1000),\n                uplodedFileUrl: null,\n                uploadOk_callback: function (json) {\n                    if (json.isOk) {\n                        _this.uplodedFileUrl = json.imgUrl;\n                        if (_this.hiddenField)\n                            _this.$el.$('input[name=' + _this.hiddenField + ']').value = json.imgUrl;\n                    }\n                    aj.xhr.defaultCallBack(json);\n                },\n                imgBase64Str: null,\n                progress: 0,\n                fileName: '' // 获取文件名称，只能是名称，不能获取完整的文件录\n            };\n        },\n        methods: {\n            /**\n             *\n             * @param this\n             * @param $event\n             */\n            onUploadInputChange: function ($event) {\n                var _this = this;\n                var fileInput = $event.target;\n                if (!fileInput.files || !fileInput.files[0])\n                    return;\n                var ext = fileInput.value.split('.').pop(); // 扩展名\n                this.$fileObj = fileInput.files[0]; // 保留引用\n                this.$fileName = this.$fileObj.name;\n                this.$fileType = this.$fileObj.type;\n                var size = this.$fileObj.size;\n                if (this.limitSize) {\n                    this.isFileSize = size < this.limitSize;\n                    this.errMsg = \"要上传的文件容量过大，请压缩到 \" + this.limitSize + \"kb 以下\";\n                }\n                else\n                    this.isFileSize = true;\n                if (this.limitFileType) {\n                    this.isExtName = new RegExp(this.limitFileType, 'i').test(ext);\n                    this.errMsg = '根据文件后缀名判断，此文件不能上传';\n                }\n                else\n                    this.isExtName = true;\n                readBase64.call(this, fileInput.files[0]);\n                if (this.isImgUpload) {\n                    var imgEl = new Image();\n                    imgEl.onload = function () {\n                        if (imgEl.width > _this.imgMaxWidth || imgEl.height > _this.imgMaxHeight) {\n                            _this.isImgSize = false;\n                            _this.errMsg = '图片大小尺寸不符合要求哦，请重新图片吧~';\n                        }\n                        else {\n                            _this.isImgSize = true;\n                        }\n                    };\n                }\n                getFileName.call(this);\n            },\n            /**\n             * 执行上传\n             *\n             * @param this\n             */\n            doUpload: function () {\n                var _this = this;\n                var fd = new FormData();\n                if (this.$blob)\n                    fd.append(\"file\", this.$blob, this.$fileName);\n                else\n                    fd.append(\"file\", this.$fileObj);\n                var xhr = new XMLHttpRequest();\n                //@ts-ignore\n                xhr.onreadystatechange = aj.xhr.requestHandler.delegate(null, this.uploadOk_callback, 'json');\n                xhr.open(\"POST\", this.action, true);\n                xhr.onprogress = function (e) {\n                    var progress = 0, p = ~~(e.loaded * 1000 / e.total);\n                    p = p / 10;\n                    if (progress !== p)\n                        progress = p;\n                    _this.progress = progress;\n                };\n                xhr.send(fd);\n            }\n        }\n    });\n    // 文件头判别，看看是否为图片\n    var imgHeader = { \"jpeg\": \"/9j/4\", \"gif\": \"R0lGOD\", \"png\": \"iVBORw\" };\n    /**\n     * 获取文件名称，只能是名称，不能获取完整的文件目录\n     *\n     * @param this\n     */\n    function getFileName() {\n        var _a;\n        var v = this.$el.$('input[type=file]').value;\n        var arr = v.split('\\\\');\n        this.fileName = (_a = arr.pop()) === null || _a === void 0 ? void 0 : _a.trim();\n    }\n    /**\n     *\n     * @param this\n     * @param file\n     */\n    function readBase64(file) {\n        var _this = this;\n        var reader = new FileReader();\n        reader.onload = function (_e) {\n            var e = _e;\n            _this.imgBase64Str = e.target.result;\n            if (_this.isImgUpload) {\n                var imgEl = new Image();\n                imgEl.onload = function () {\n                    if (file.size > 300 * 1024) // 大于 300k 才压缩\n                        aj.img.compress(imgEl, _this);\n                    if (imgEl.width > _this.imgMaxWidth || imgEl.height > _this.imgMaxHeight) {\n                        _this.isImgSize = false;\n                        _this.errMsg = '图片大小尺寸不符合要求哦，请裁剪图片重新上传吧~';\n                    }\n                    else\n                        _this.isImgSize = true;\n                };\n                imgEl.src = _this.imgBase64Str;\n                // 文件头判别，看看是否为图片\n                for (var i in imgHeader) {\n                    if (~_this.imgBase64Str.indexOf(imgHeader[i])) {\n                        _this.isExtName = true;\n                        return;\n                    }\n                }\n                _this.errMsg = \"亲，改了扩展名我还能认得你不是图片哦\";\n            }\n        };\n        reader.readAsDataURL(file);\n    }\n})();\n"],"names":["Vue","component","template","props","isAjax","type","Boolean","default","methods","valid","e","grid","start","this","$el","$","value","end","Date","aj","alert","preventDefault","$parent","apply","$refs","pager","extraParam","startDate","endDate","reload","data","date","fieldValue","time","fieldName","String","required","dateOnly","showTime","positionFixed","placeholder","watch","n","mounted","arr","classList","add","split","calendar","recTimeEvent","recEvent","trim","onMouseOver","$event","el","b","currentTarget","getBoundingClientRect","c","style","top","clientHeight","left","__makeTemplateObject","cooked","raw","Object","defineProperty","html","year","getFullYear","month","getMonth","day","$options","call","render","getDateArr","frag","document","createDocumentFragment","length","row","createElement","i","text","on","cell","d","shift","innerHTML","className","title","isSameDay","onToday","appendChild","tbody","getDate","dateType","nowYear","nowMonth","setMonth","target","Number","selectedOptions","firstDay","getDay","push","monthDay","pickDay","$emit","pickupTime","hour","minute","d1","d2","provinceCode","cityCode","districtCode","provinceName","cityName","districtName","window","China_AREA","province","city","district","addressData","val","oldval","computed","citys","districts","form_1","form","EditForm","isCreate","uiName","apiUrl","id","info","_this","xhr","j","msg_1","isOk","msg","show","close","beforeSubmit","json","load","cb","get","result","_componentTag","history","back","del","utils","getFormFieldValue","showConfirm","dele","grayImg","isGray","toolbarEl","item","indexOf","color","content","basePath","uploadImageActionUrl","iframeEl","sourceEditor","iframeWin","contentWindow","mode","onload","iframeDoc","designMode","setValue","addEventListener","event","items","clipboardData","file","getAsFile","img","changeBlobImageQuality","newBlob","options","components","extendOptions","doUpload","action","progress","uploadOk_callback","format","ajResources","imgPerfix","imgUrl","$blob","$fileName","bind","onToolBarClk","clsName","prompt","App","uploadLayer","fullUrl","setMode","body","HtmlSanitizer","SanitizeHtml","str","remotePicArr","Array","querySelectorAll","imgEl","url","getAttribute","test","post","_arr","pics","src","join","para","execCommand","focus","insertEl","v","setTimeout","getValue","cleanWord","encode","replace","encodeURIComponent","remove","onFontfamilyChoserClk","menuPanel","parentNode","display","onFontsizeChoserClk","els","children","onFontColorPicker","onFontBgColorPicker","createColorPickerHTML","cl","h","a","k","uploadUrl","imgName","imgId","imgPlace","obj","uploadControl","maxSize","limitSize","maxHeight","imgMaxHeight","maxWidth","imgMaxWidth","callback","$children","treeLike","output","stack","map","level","q","p","pop","toTree","jsonArr","m","findParent","pid","rendererOption","select","selectedId","cfg","makeAllOption","option","temp","node","nodeId","selected","dataset","name","mixins","catalogId","selectedCatalogId","isAutoJump","ctx","concat","onSelected","location","assign","BUS","selectOption","api","ev","selectedIndex","_el","cssSelector","console","log","hasError","field","disabled","validity","valueMissing","typeMismatch","tooShort","tooLong","badInput","stepMismatch","rangeOverflow","rangeUnderflow","patternMismatch","showError","error","isNewLine","_a","message","querySelector","insertBefore","nextSibling","setAttribute","visibility","Validator","isMsgNewLine","msgNewline","errMsg","removeAttribute","onSubmit","fields","elements","hasErrors","hiddenField","hiddenFieldValue","limitFileType","accpectFileType","isImgUpload","buttonBottom","isFileSize","isExtName","isImgSize","newlyId","radomId","Math","round","random","uplodedFileUrl","defaultCallBack","imgBase64Str","fileName","onUploadInputChange","ext","fileInput","files","$fileObj","$fileType","size","RegExp","reader","FileReader","_e","Image","compress","width","height","imgHeader","readAsDataURL","fd","FormData","append","XMLHttpRequest","onreadystatechange","requestHandler","delegate","open","onprogress","loaded","total","send","jpeg","gif","png"],"mappings":"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"}