{"version":3,"file":"../dist/form.min.js","sources":["form.min.js"],"sourcesContent":["\"use strict\";\n\n/**\n * 起始时间、截止时间的范围选择\n */\nVue.component('aj-form-between-date', {\n    template: html(__makeTemplateObject([\"\\n        <form action=\\\".\\\" method=\\\"GET\\\" class=\\\"dateRange\\\" @submit=\\\"valid\\\">\\n            <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u8D77\\u59CB\\u65F6\\u95F4\\\" field-name=\\\"startDate\\\" ></aj-form-calendar-input>\\n            - <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u622A\\u81F3\\u65F6\\u95F4\\\" field-name=\\\"endDate\\\"></aj-form-calendar-input>\\n            <button class=\\\"aj-btn\\\">\\u6309\\u65F6\\u95F4\\u7B5B\\u9009</button>\\n        </form>    \\n    \"], [\"\\n        <form action=\\\".\\\" method=\\\"GET\\\" class=\\\"dateRange\\\" @submit=\\\"valid\\\">\\n            <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u8D77\\u59CB\\u65F6\\u95F4\\\" field-name=\\\"startDate\\\" ></aj-form-calendar-input>\\n            - <aj-form-calendar-input :date-only=\\\"true\\\" :position-fixed=\\\"true\\\" placeholder=\\\"\\u622A\\u81F3\\u65F6\\u95F4\\\" field-name=\\\"endDate\\\"></aj-form-calendar-input>\\n            <button class=\\\"aj-btn\\\">\\u6309\\u65F6\\u95F4\\u7B5B\\u9009</button>\\n        </form>    \\n    \"])),\n    props: {\n        isAjax: { type: Boolean, default: true } // 是否 AJAX 模式\n    },\n    methods: {\n        valid: function (ev) {\n            var start = this.$el.$('input[name=startDate]').value, end = this.$el.$('input[name=endDate]').value;\n            if (!start || !end) {\n                aj.alert(\"输入数据不能为空\");\n                ev.preventDefault();\n                return;\n            }\n            if (new Date(start) > new Date(end)) {\n                aj.alert(\"起始日期不能晚于结束日期\");\n                ev.preventDefault();\n                return;\n            }\n            //@ts-ignore\n            if (this.isAjax) {\n                ev.preventDefault();\n                var grid = this.$parent.$parent;\n                aj.apply(grid.$refs.pager.extraParam, {\n                    startDate: start, endDate: end\n                });\n                grid.reload();\n            }\n        }\n    }\n});\n\n\"use strict\";\n\nVue.component('aj-form-calendar-input', {\n    template: html(__makeTemplateObject([\"\\n        <div class=\\\"aj-form-calendar-input\\\" :class=\\\"{'show-time': showTime}\\\" @mouseover=\\\"onMouseOver\\\">\\n            <div class=\\\"icon fa fa-calendar\\\"></div>\\n            <input :placeholder=\\\"placeholder\\\" size=\\\"12\\\" :name=\\\"fieldName\\\" :value=\\\"date + (dateOnly ? '' : ' ' + time)\\\"\\n                type=\\\"text\\\" autocomplete=\\\"off\\\" />\\n            <aj-form-calendar ref=\\\"calendar\\\" :show-time=\\\"showTime\\\" @pick-date=\\\"recEvent\\\" @pick-time=\\\"recTimeEvent\\\">\\n            </aj-form-calendar>\\n        </div>\\n    \"], [\"\\n        <div class=\\\"aj-form-calendar-input\\\" :class=\\\"{'show-time': showTime}\\\" @mouseover=\\\"onMouseOver\\\">\\n            <div class=\\\"icon fa fa-calendar\\\"></div>\\n            <input :placeholder=\\\"placeholder\\\" size=\\\"12\\\" :name=\\\"fieldName\\\" :value=\\\"date + (dateOnly ? '' : ' ' + time)\\\"\\n                type=\\\"text\\\" autocomplete=\\\"off\\\" />\\n            <aj-form-calendar ref=\\\"calendar\\\" :show-time=\\\"showTime\\\" @pick-date=\\\"recEvent\\\" @pick-time=\\\"recTimeEvent\\\">\\n            </aj-form-calendar>\\n        </div>\\n    \"])),\n    data: function () {\n        return {\n            date: this.fieldValue,\n            time: ''\n        };\n    },\n    props: {\n        fieldName: { type: String, required: true },\n        fieldValue: { type: String, required: false, default: '' },\n        dateOnly: { type: Boolean, required: false, default: true },\n        showTime: false,\n        positionFixed: Boolean,\n        placeholder: { type: String, default: '请输入日期' } // 提示文字\n    },\n    watch: {\n        fieldValue: function (n) {\n            this.date = n;\n        }\n    },\n    mounted: function () {\n        if (this.positionFixed) {\n            var el = this.$el.$('.aj-form-calendar');\n            el.classList.add('positionFixed');\n        }\n        // 2012-07-08\n        // firefox中解析 new Date('2012/12-23') 不兼容，提示invalid date 无效的日期\n        // Chrome下可以直接将其格式化成日期格式，且时分秒默认为零\n        // var arr = date.split('-'), now = new Date(arr[0], arr[1] - 1, arr[2],\n        // \" \", \"\", \" \");\n        if (this.fieldValue) {\n            var arr = this.fieldValue.split(' ')[0], _arr = arr.split('-');\n            // @ts-ignore\n            this.$refs.calendar.date = new Date(arr[0], arr[1] - 1, arr[2], \" \", \"\", \" \");\n        }\n    },\n    methods: {\n        recTimeEvent: function (time) {\n            this.time = time;\n        },\n        recEvent: function (date) {\n            this.date = date.trim();\n        },\n        onMouseOver: function (ev) {\n            if (this.positionFixed) {\n                var el = ev.currentTarget, b = el.getBoundingClientRect(), c = this.$el.$('.aj-form-calendar');\n                c.style.top = (b.top + el.clientHeight - 0) + 'px';\n                c.style.left = ((b.left - 0) + 0) + 'px';\n            }\n        }\n    }\n});\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        /**\n         * 日期选择器\n         */\n        var Calendar = /** @class */ (function (_super) {\n            __extends(Calendar, _super);\n            function Calendar() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-form-calendar\";\n                _this.template = html(__makeTemplateObject([\"\\n        <div class=\\\"aj-form-calendar\\\">\\n            <div class=\\\"selectYearMonth\\\">\\n                <a href=\\\"###\\\" @click=\\\"getDate('preYear')\\\" class=\\\"preYear\\\" title=\\\"\\u4E0A\\u4E00\\u5E74\\\">&lt;</a>\\n                <select @change=\\\"setMonth\\\" v-model=\\\"month\\\">\\n                    <option value=\\\"1\\\">\\u4E00\\u6708</option>\\n                    <option value=\\\"2\\\">\\u4E8C\\u6708</option>\\n                    <option value=\\\"3\\\">\\u4E09\\u6708</option>\\n                    <option value=\\\"4\\\">\\u56DB\\u6708</option>\\n                    <option value=\\\"5\\\">\\u4E94\\u6708</option>\\n                    <option value=\\\"6\\\">\\u516D\\u6708</option>\\n                    <option value=\\\"7\\\">\\u4E03\\u6708</option>\\n                    <option value=\\\"8\\\">\\u516B\\u6708</option>\\n                    <option value=\\\"9\\\">\\u4E5D\\u6708</option>\\n                    <option value=\\\"10\\\">\\u5341\\u6708</option>\\n                    <option value=\\\"11\\\">\\u5341\\u4E00\\u6708</option>\\n                    <option value=\\\"12\\\">\\u5341\\u4E8C\\u6708</option>\\n                </select>\\n                <a href=\\\"###\\\" @click=\\\"getDate('nextYear')\\\" class=\\\"nextYear\\\" title=\\\"\\u4E0B\\u4E00\\u5E74\\\">&gt;</a>\\n            </div>\\n            <div class=\\\"showCurrentYearMonth\\\">\\n                <span class=\\\"showYear\\\">{{year}}</span>/<span class=\\\"showMonth\\\">{{month}}</span>\\n            </div>\\n            <table>\\n                <thead>\\n                    <tr>\\n                        <td>\\u65E5</td>\\n                        <td>\\u4E00</td>\\n                        <td>\\u4E8C</td>\\n                        <td>\\u4E09</td>\\n                        <td>\\u56DB</td>\\n                        <td>\\u4E94</td>\\n                        <td>\\u516D</td>\\n                    </tr>\\n                </thead>\\n                <tbody @click=\\\"pickDay\\\"></tbody>\\n            </table>\\n            <div v-if=\\\"showTime\\\" class=\\\"showTime\\\">\\n                \\u65F6 <select class=\\\"hour aj-select\\\">\\n                    <option v-for=\\\"n in 24\\\">{{n}}</option>\\n                </select>\\n                \\u5206 <select class=\\\"minute aj-select\\\">\\n                    <option v-for=\\\"n in 61\\\">{{n - 1}}</option>\\n                </select>\\n                <a href=\\\"#\\\" @click=\\\"pickupTime\\\">\\u9009\\u62E9\\u65F6\\u95F4</a>\\n            </div>\\n        </div>\"], [\"\\n        <div class=\\\"aj-form-calendar\\\">\\n            <div class=\\\"selectYearMonth\\\">\\n                <a href=\\\"###\\\" @click=\\\"getDate('preYear')\\\" class=\\\"preYear\\\" title=\\\"\\u4E0A\\u4E00\\u5E74\\\">&lt;</a>\\n                <select @change=\\\"setMonth\\\" v-model=\\\"month\\\">\\n                    <option value=\\\"1\\\">\\u4E00\\u6708</option>\\n                    <option value=\\\"2\\\">\\u4E8C\\u6708</option>\\n                    <option value=\\\"3\\\">\\u4E09\\u6708</option>\\n                    <option value=\\\"4\\\">\\u56DB\\u6708</option>\\n                    <option value=\\\"5\\\">\\u4E94\\u6708</option>\\n                    <option value=\\\"6\\\">\\u516D\\u6708</option>\\n                    <option value=\\\"7\\\">\\u4E03\\u6708</option>\\n                    <option value=\\\"8\\\">\\u516B\\u6708</option>\\n                    <option value=\\\"9\\\">\\u4E5D\\u6708</option>\\n                    <option value=\\\"10\\\">\\u5341\\u6708</option>\\n                    <option value=\\\"11\\\">\\u5341\\u4E00\\u6708</option>\\n                    <option value=\\\"12\\\">\\u5341\\u4E8C\\u6708</option>\\n                </select>\\n                <a href=\\\"###\\\" @click=\\\"getDate('nextYear')\\\" class=\\\"nextYear\\\" title=\\\"\\u4E0B\\u4E00\\u5E74\\\">&gt;</a>\\n            </div>\\n            <div class=\\\"showCurrentYearMonth\\\">\\n                <span class=\\\"showYear\\\">{{year}}</span>/<span class=\\\"showMonth\\\">{{month}}</span>\\n            </div>\\n            <table>\\n                <thead>\\n                    <tr>\\n                        <td>\\u65E5</td>\\n                        <td>\\u4E00</td>\\n                        <td>\\u4E8C</td>\\n                        <td>\\u4E09</td>\\n                        <td>\\u56DB</td>\\n                        <td>\\u4E94</td>\\n                        <td>\\u516D</td>\\n                    </tr>\\n                </thead>\\n                <tbody @click=\\\"pickDay\\\"></tbody>\\n            </table>\\n            <div v-if=\\\"showTime\\\" class=\\\"showTime\\\">\\n                \\u65F6 <select class=\\\"hour aj-select\\\">\\n                    <option v-for=\\\"n in 24\\\">{{n}}</option>\\n                </select>\\n                \\u5206 <select class=\\\"minute aj-select\\\">\\n                    <option v-for=\\\"n in 61\\\">{{n - 1}}</option>\\n                </select>\\n                <a href=\\\"#\\\" @click=\\\"pickupTime\\\">\\u9009\\u62E9\\u65F6\\u95F4</a>\\n            </div>\\n        </div>\"]));\n                _this.watch = {\n                    date: function () {\n                        this.year = this.date.getFullYear();\n                        this.month = this.date.getMonth() + 1;\n                        this.render();\n                    }\n                };\n                _this.showTime = Boolean; // 是否显示时间，即“时分秒”\n                _this.date = new Date();\n                _this.year = new Date().getFullYear();\n                _this.month = new Date().getMonth() + 1;\n                _this.day = 1;\n                return _this;\n            }\n            Calendar.prototype.data = function () {\n                var date = new Date;\n                return {\n                    date: date,\n                    year: date.getFullYear(),\n                    month: date.getMonth() + 1,\n                    day: 1\n                };\n            };\n            Calendar.prototype.mounted = function () {\n                this.$options.watch.date.call(this);\n            };\n            /**\n             * 画日历\n             */\n            Calendar.prototype.render = function () {\n                var arr = this.getDateArr(), // 用来保存日期列表\n                frag = document.createDocumentFragment(); // 插入日期\n                while (arr.length) {\n                    var row = document.createElement(\"tr\"); // 每个星期插入一个 tr\n                    for (var i = 1; i <= 7; i++) { // 每个星期有7天\n                        var cell = document.createElement(\"td\");\n                        if (arr.length) {\n                            var d = arr.shift();\n                            if (d) {\n                                var text = this.year + '-' + this.month + '-' + d;\n                                cell.title = text; // 保存日期在 title 属性\n                                cell.className = 'day day_' + text;\n                                cell.innerHTML = d + \"\";\n                                var on = new Date(this.year, this.month - 1, d);\n                                // 判断是否今日\n                                if (isSameDay(on, this.date)) {\n                                    cell.classList.add('onToday');\n                                    // this.onToday && this.onToday(cell);// 点击 今天 时候触发的事件\n                                }\n                                // 判断是否选择日期\n                                // this.selectDay && this.onSelectDay && this.isSameDay(on, this.selectDay) && this.onSelectDay(cell);\n                            }\n                        }\n                        row.appendChild(cell);\n                    }\n                    frag.appendChild(row);\n                }\n                // 先清空内容再插入\n                var tbody = this.$el.$(\"table tbody\");\n                tbody.innerHTML = '';\n                tbody.appendChild(frag);\n            };\n            /**\n             * 获取指定的日期\n             *\n             * @param dateType\n             * @param month\n             */\n            Calendar.prototype.getDate = function (dateType, month) {\n                var nowYear = this.date.getFullYear(), nowMonth = this.date.getMonth() + 1; // 当前日期\n                switch (dateType) {\n                    case 'preMonth': // 上一月\n                        this.date = new Date(nowYear, nowMonth - 2, 1);\n                        break;\n                    case 'nextMonth': // 下一月\n                        this.date = new Date(nowYear, nowMonth, 1);\n                        break;\n                    case 'setMonth': // 指定月份\n                        this.date = new Date(nowYear, month - 1, 1);\n                        break;\n                    case 'preYear': // 上一年\n                        this.date = new Date(nowYear - 1, nowMonth - 1, 1);\n                        break;\n                    case 'nextYear': // 下一年\n                        this.date = new Date(nowYear + 1, nowMonth - 1, 1);\n                        break;\n                }\n            };\n            /**\n             *\n             *\n             * @param $even\n             */\n            Calendar.prototype.setMonth = function (ev) {\n                var el = ev.target;\n                this.getDate('setMonth', Number(el.selectedOptions[0].value));\n            };\n            /**\n             * 获取空白的非上月天数 + 当月天数\n             *\n             * @param this\n             */\n            Calendar.prototype.getDateArr = function () {\n                var arr = [];\n                // 算出这个月1号距离前面的星期天有多少天\n                for (var i = 1, firstDay = new Date(this.year, this.month - 1, 1).getDay(); i <= firstDay; i++)\n                    arr.push(0);\n                // 这个月有多少天。用上个月然后设置日子参数为 0，就可以得到本月有多天\n                for (var i = 1, monthDay = new Date(this.year, this.month, 0).getDate(); i <= monthDay; i++)\n                    arr.push(i);\n                return arr;\n            };\n            /**\n             * 获取日期\n             *\n             * @param $event\n             */\n            Calendar.prototype.pickDay = function (ev) {\n                var el = ev.target, date = el.title;\n                this.$emit('pick-date', date);\n                return date;\n            };\n            /**\n             *\n             * @param $event\n             */\n            Calendar.prototype.pickupTime = function ($event) {\n                var hour = this.$el.$('.hour'), minute = this.$el.$('.minute'), time = hour.selectedOptions[0].value + ':' + minute.selectedOptions[0].value;\n                this.$emit('pick-time', time);\n            };\n            return Calendar;\n        }(aj.VueComponent));\n        form.Calendar = Calendar;\n        /**\n         * 判断两个日期是否同一日\n         *\n         * @param d1\n         * @param d2\n         */\n        function isSameDay(d1, d2) {\n            return (d1.getFullYear() == d2.getFullYear() && d1.getMonth() == d2.getMonth() && d1.getDate() == d2.getDate());\n        }\n        new Calendar().register();\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        /**\n         * 全国省市区\n         * 写死属性\n         */\n        var ChinaArea = /** @class */ (function (_super) {\n            __extends(ChinaArea, _super);\n            function ChinaArea() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-china-area\";\n                _this.template = html(__makeTemplateObject([\"\\n\\t\\t\\t<div class=\\\"aj-china-area\\\">\\n\\t\\t\\t\\t<span>\\u7701</span>\\n\\t\\t\\t\\t<select v-model=\\\"province\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"provinceName || 'locationProvince'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in addressData[86]\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u5E02 </span>\\n\\t\\t\\t\\t<select v-model=\\\"city\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"cityName || 'locationCity'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in citys\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u533A</span>\\n\\t\\t\\t\\t<select v-model=\\\"district\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"districtName || 'locationDistrict'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in districts\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t</div>\\n\\t\\t\"], [\"\\n\\t\\t\\t<div class=\\\"aj-china-area\\\">\\n\\t\\t\\t\\t<span>\\u7701</span>\\n\\t\\t\\t\\t<select v-model=\\\"province\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"provinceName || 'locationProvince'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in addressData[86]\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u5E02 </span>\\n\\t\\t\\t\\t<select v-model=\\\"city\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"cityName || 'locationCity'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in citys\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t<span>\\u533A</span>\\n\\t\\t\\t\\t<select v-model=\\\"district\\\" class=\\\"aj-select\\\" style=\\\"width:120px;\\\" :name=\\\"districtName || 'locationDistrict'\\\">\\n\\t\\t\\t\\t\\t<option value=\\\"\\\">\\u8BF7\\u9009\\u62E9</option>\\n\\t\\t\\t\\t\\t<option v-for=\\\"(v, k) in districts\\\" :value=\\\"k\\\">{{v}}</option>\\n\\t\\t\\t\\t</select>\\n\\t\\t\\t</div>\\n\\t\\t\"]));\n                _this.provinceCode = String;\n                _this.cityCode = String;\n                _this.districtCode = String;\n                _this.provinceName = String;\n                _this.cityName = String;\n                _this.districtName = String;\n                _this.computed = {\n                    citys: function () {\n                        if (!this.province)\n                            return {};\n                        return this.addressData[this.province];\n                    },\n                    districts: function () {\n                        if (!this.city)\n                            return {};\n                        return this.addressData[this.city];\n                    }\n                };\n                return _this;\n            }\n            ChinaArea.prototype.data = function () {\n                return {\n                    province: this.provinceCode || '',\n                    city: this.cityCode || '',\n                    district: this.districtCode || '',\n                    //@ts-ignore\n                    addressData: window.China_AREA\n                };\n            };\n            // watch = { // 令下一级修改\n            // \tprovince(val: any, oldval: any) {\n            // \t\tif (val !== oldval)\n            // \t\t\tthis.city = '';\n            // \t},\n            // \tcity(val: any, oldval: any) {\n            // \t\tif (val !== oldval)\n            // \t\t\tthis.district = '';\n            // \t}\n            // };\n            ChinaArea.prototype.mounted = function () {\n                //@ts-ignore\n                if (!window.China_AREA)\n                    throw '中国行政区域数据 脚本没导入';\n            };\n            return ChinaArea;\n        }(aj.VueComponent));\n        form.ChinaArea = ChinaArea;\n        new ChinaArea().register();\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        Vue.component('aj-edit-form', {\n            template: html(__makeTemplateObject([\"\\n            <form class=\\\"aj-table-form\\\" :action=\\\"getInfoApi + (isCreate ? '' : info.id + '/')\\\" :method=\\\"isCreate ? 'POST' : 'PUT'\\\">\\n                <h3>{{isCreate ? \\\"\\u65B0\\u5EFA\\\" : \\\"\\u7F16\\u8F91\\\" }}{{uiName}}</h3>\\n                <!-- \\u4F20\\u9001 id \\u53C2\\u6570 -->\\n                <input v-if=\\\"!isCreate\\\" type=\\\"hidden\\\" name=\\\"id\\\" :value=\\\"info.id\\\" />\\n                <slot v-bind:info=\\\"info\\\"></slot>\\n                <div class=\\\"aj-btnsHolder\\\">\\n                    <button><img :src=\\\"ajResources.commonAsset + '/icon/save.gif'\\\" /> {{isCreate ? \\\"\\u65B0\\u5EFA\\\":\\\"\\u4FDD\\u5B58\\\"}}</button>\\n                    <button onclick=\\\"this.up('form').reset();return false;\\\">\\u590D \\u4F4D</button>\\n                    <button v-if=\\\"!isCreate\\\" v-on:click.prevent=\\\"del()\\\">\\n                        <img :src=\\\"ajResources.commonAsset + '/icon/delete.gif'\\\" /> \\u5220 \\u9664\\n                    </button>\\n                    <button @click.prevent=\\\"close\\\">\\u5173\\u95ED</button>\\n                </div>\\n            </form>\\n        \"], [\"\\n            <form class=\\\"aj-table-form\\\" :action=\\\"getInfoApi + (isCreate ? '' : info.id + '/')\\\" :method=\\\"isCreate ? 'POST' : 'PUT'\\\">\\n                <h3>{{isCreate ? \\\"\\u65B0\\u5EFA\\\" : \\\"\\u7F16\\u8F91\\\" }}{{uiName}}</h3>\\n                <!-- \\u4F20\\u9001 id \\u53C2\\u6570 -->\\n                <input v-if=\\\"!isCreate\\\" type=\\\"hidden\\\" name=\\\"id\\\" :value=\\\"info.id\\\" />\\n                <slot v-bind:info=\\\"info\\\"></slot>\\n                <div class=\\\"aj-btnsHolder\\\">\\n                    <button><img :src=\\\"ajResources.commonAsset + '/icon/save.gif'\\\" /> {{isCreate ? \\\"\\u65B0\\u5EFA\\\":\\\"\\u4FDD\\u5B58\\\"}}</button>\\n                    <button onclick=\\\"this.up(\\\\'form\\\\').reset();return false;\\\">\\u590D \\u4F4D</button>\\n                    <button v-if=\\\"!isCreate\\\" v-on:click.prevent=\\\"del()\\\">\\n                        <img :src=\\\"ajResources.commonAsset + '/icon/delete.gif'\\\" /> \\u5220 \\u9664\\n                    </button>\\n                    <button @click.prevent=\\\"close\\\">\\u5173\\u95ED</button>\\n                </div>\\n            </form>\\n        \"])),\n            props: {\n                isCreate: Boolean,\n                uiName: String,\n                apiUrl: { type: String, required: true } // 获取实体详情的接口地址 \n            },\n            data: function () {\n                return {\n                    id: 0,\n                    info: {},\n                };\n            },\n            mounted: function () {\n                var _this = this;\n                aj.xhr.form(this.$el, function (j) {\n                    if (j) {\n                        if (j.isOk) {\n                            var msg_1 = (_this.isCreate ? \"新建\" : \"保存\") + _this.uiName + \"成功\";\n                            aj.msg.show(msg_1);\n                            _this.$parent.close();\n                        }\n                        else\n                            aj.msg.show(j.msg);\n                    }\n                });\n            },\n            methods: {\n                load: function (id, cb) {\n                    var _this = this;\n                    this.id = id;\n                    aj.xhr.get(this.apiUrl + id + \"/\", function (j) {\n                        _this.info = j.result;\n                        cb && cb(j);\n                    });\n                },\n                close: function () {\n                    if (this.$parent.$options._componentTag === 'aj-layer')\n                        //@ts-ignore\n                        this.$parent.close();\n                    else\n                        history.back();\n                },\n                /**\n                 * 执行删除\n                 *\n                 * @param this\n                 */\n                del: function () {\n                    var id = form.utils.getFormFieldValue(this.$el, 'input[name=id]'), title = form.utils.getFormFieldValue(this.$el, 'input[name=name]');\n                    aj.showConfirm(\"\\u8BF7\\u786E\\u5B9A\\u5220\\u9664\\u8BB0\\u5F55\\uFF1A\\n\" + title + \"\\uFF1F\", function () {\n                        return aj.xhr.dele(\"../\" + id + \"/\", function (j) {\n                            if (j.isOk) {\n                                aj.msg.show('删除成功！');\n                                //setTimeout(() => location.reload(), 1500);\n                            }\n                            else\n                                aj.alert('删除失败！');\n                        });\n                    });\n                }\n            }\n        });\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var xhr_upload;\n    (function (xhr_upload) {\n        /**\n         * 属性较多，设一个抽象类\n         */\n        var BaseFileUploader = /** @class */ (function (_super) {\n            __extends(BaseFileUploader, _super);\n            function BaseFileUploader() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.fieldName = \"\";\n                _this.fieldValue = \"\";\n                /**\n                 * 不重复的 id，用关于关联 label 与 input[type=file]\n                 */\n                _this.radomId = 0;\n                /**\n                 * 上传路径，必填\n                 */\n                _this.action = \"\";\n                /**\n                 * 允许文件选择器列出的文件类型\n                 */\n                _this.accpectFileType = \"\";\n                /**\n                 * 限制的文件扩展名，这是一个正则。如无限制，不设置或者空字符串\n                 * 正则如：txt|pdf|doc\n                 */\n                _this.limitFileType = \"\";\n                /**\n                 * 文件大小\n                 */\n                _this.fileSize = 0;\n                /**\n                 * 获取文件名称，只能是名称，不能获取完整的文件目录\n                 */\n                _this.fileName = '';\n                /**\n                 * 文件对象，实例属性\n                 */\n                _this.$fileObj = null;\n                /**\n                 * 二进制数据，用于图片预览\n                 */\n                _this.$blob = null;\n                /**\n                 * 上传按钮是否位于下方\n                 */\n                _this.buttonBottom = false;\n                /**\n                 * 文件大小限制，单位：KB。\n                 * 若为 0 则不限制\n                 */\n                _this.limitSize = 0;\n                /**\n                 * 上传进度百分比\n                 */\n                _this.progress = 0;\n                /**\n                 * 错误信息。约定：只有为空字符串，才表示允许上传。\n                 */\n                _this.errMsg = \"init\";\n                /**\n                 * 固定的错误结构，元素[0]为文件大小，[1]为文件类型。\n                 * 如果元素非 true，表示不允许上传。\n                 */\n                _this.errStatus = [false, false];\n                /**\n                 * 成功上传之后的文件 id\n                 */\n                _this.newlyId = \"\";\n                /**\n                 * 上传之后的回调函数\n                 */\n                _this.$uploadOk_callback = function (json) {\n                    if (json.isOk)\n                        this.fieldValue = json.imgUrl;\n                    aj.xhr.defaultCallBack(json);\n                };\n                return _this;\n            }\n            return BaseFileUploader;\n        }(aj.VueComponent));\n        /**\n         * 文件上传器\n         */\n        var FileUploader = /** @class */ (function (_super) {\n            __extends(FileUploader, _super);\n            function FileUploader() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-file-uploader\";\n                _this.template = html(__makeTemplateObject([\"\\n            <div class=\\\"aj-file-uploader\\\">\\n                <input type=\\\"hidden\\\" :name=\\\"fieldName\\\" :value=\\\"fieldValue\\\" />\\n                <input type=\\\"file\\\" :id=\\\"'uploadInput_' + radomId\\\" @change=\\\"onUploadInputChange\\\" :accept=\\\"accpectFileType\\\" />\\n            \\n                <label class=\\\"pseudoFilePicker\\\" :for=\\\"'uploadInput_' + radomId\\\">\\n                    <div @drop=\\\"onDrop\\\" ondragover=\\\"event.preventDefault();\\\">\\n                        <div>+</div>\\u70B9\\u51FB\\u9009\\u62E9\\u6587\\u4EF6<br />\\u6216\\u62D6\\u653E\\u5230\\u6B64\\n                    </div>\\n                </label>\\n            \\n                <div class=\\\"msg\\\" v-if=\\\"errMsg != ''\\\">\\n                    \\u5141\\u8BB8\\u7C7B\\u578B\\uFF1A{{limitFileType || '\\u65E0\\u9650\\u5236'}}\\n                    <br />\\n                    \\u5141\\u8BB8\\u5927\\u5C0F\\uFF1A{{limitSize ? changeByte(limitSize * 1024) : '\\u65E0\\u9650\\u5236'}}\\n                    <span class=\\\"slot\\\"></span>\\n                </div>\\n                <div class=\\\"msg\\\" v-if=\\\"errMsg == ''\\\">\\n                    {{fileName}}<div v-if=\\\"fileSize\\\">{{changeByte(fileSize)}}</div>\\n                    <button @click.prevent=\\\"doUpload\\\">{{progress && progress !== 100 ? '\\u4E0A\\u4F20\\u4E2D ' + progress + '%': '\\u4E0A\\u4F20'}}</button>\\n                </div>\\n            </div>\\n        \"], [\"\\n            <div class=\\\"aj-file-uploader\\\">\\n                <input type=\\\"hidden\\\" :name=\\\"fieldName\\\" :value=\\\"fieldValue\\\" />\\n                <input type=\\\"file\\\" :id=\\\"'uploadInput_' + radomId\\\" @change=\\\"onUploadInputChange\\\" :accept=\\\"accpectFileType\\\" />\\n            \\n                <label class=\\\"pseudoFilePicker\\\" :for=\\\"'uploadInput_' + radomId\\\">\\n                    <div @drop=\\\"onDrop\\\" ondragover=\\\"event.preventDefault();\\\">\\n                        <div>+</div>\\u70B9\\u51FB\\u9009\\u62E9\\u6587\\u4EF6<br />\\u6216\\u62D6\\u653E\\u5230\\u6B64\\n                    </div>\\n                </label>\\n            \\n                <div class=\\\"msg\\\" v-if=\\\"errMsg != ''\\\">\\n                    \\u5141\\u8BB8\\u7C7B\\u578B\\uFF1A{{limitFileType || '\\u65E0\\u9650\\u5236'}}\\n                    <br />\\n                    \\u5141\\u8BB8\\u5927\\u5C0F\\uFF1A{{limitSize ? changeByte(limitSize * 1024) : '\\u65E0\\u9650\\u5236'}}\\n                    <span class=\\\"slot\\\"></span>\\n                </div>\\n                <div class=\\\"msg\\\" v-if=\\\"errMsg == ''\\\">\\n                    {{fileName}}<div v-if=\\\"fileSize\\\">{{changeByte(fileSize)}}</div>\\n                    <button @click.prevent=\\\"doUpload\\\">{{progress && progress !== 100 ? '\\u4E0A\\u4F20\\u4E2D ' + progress + '%': '\\u4E0A\\u4F20'}}</button>\\n                </div>\\n            </div>\\n        \"]));\n                _this.props = {\n                    action: { type: String, required: true },\n                    fieldName: String,\n                    limitSize: { type: Number, default: 20000 },\n                    limitFileType: String,\n                    accpectFileType: String,\n                    buttonBottom: Boolean,\n                    radomId: { type: Number, default: function () { return Math.round(Math.random() * 1000); } }\n                };\n                _this.watch = {\n                    fileName: function (newV) {\n                        if (!this.limitFileType) { // 无限制，也不用检查，永远是 true\n                            Vue.set(this.errStatus, 0, true);\n                            return;\n                        }\n                        if (newV && this.limitFileType) {\n                            var ext = newV.split('.').pop(); // 扩展名，fileInput.value.split('.').pop(); 也可以获取\n                            if (!new RegExp(this.limitFileType, 'i').test(ext)) {\n                                var msg_1 = \"\\u4E0A\\u4F20\\u6587\\u4EF6\\u4E3A \" + newV + \"\\uFF0C<br />\\u62B1\\u6B49\\uFF0C\\u4E0D\\u652F\\u6301\\u4E0A\\u4F20 *.\" + ext + \" \\u7C7B\\u578B\\u6587\\u4EF6\";\n                                Vue.set(this.errStatus, 0, msg_1);\n                            }\n                            else\n                                Vue.set(this.errStatus, 0, true); // 检查通过\n                        }\n                    },\n                    fileSize: function (newV) {\n                        if (!this.limitSize) { // 无限制，也不用检查，永远是 true\n                            Vue.set(this.errStatus, 1, true);\n                            return;\n                        }\n                        if (this.limitSize && newV > this.limitSize * 1024) {\n                            var msg_2 = \"\\u8981\\u4E0A\\u4F20\\u7684\\u6587\\u4EF6\\u5BB9\\u91CF\\u8FC7\\u5927(\" + this.changeByte(newV) + \")\\uFF0C\\u8BF7\\u538B\\u7F29\\u5230 \" + this.changeByte(this.limitSize * 1024) + \" \\u4EE5\\u4E0B\";\n                            Vue.set(this.errStatus, 1, msg_2);\n                        }\n                        else\n                            Vue.set(this.errStatus, 1, true);\n                    },\n                    errStatus: function (newV) {\n                        var j = newV.length;\n                        if (!j)\n                            return;\n                        var msg = \"\";\n                        for (var i = 0; i < j; i++) {\n                            var err = newV[i];\n                            if (err === false)\n                                return; // 未检查完，退出\n                            if (err && typeof err == 'string')\n                                msg += err + '；<br/>';\n                        }\n                        // 到这步，所有检查完毕\n                        if (msg) { // 有错误\n                            aj.alert(msg);\n                            this.errMsg = msg;\n                        }\n                        else { // 全部通过，复位\n                            this.errMsg = \"\";\n                            this.errStatus = [false, false];\n                        }\n                    }\n                };\n                return _this;\n            }\n            /**\n             * 选择文件后触发的事件\n             *\n             * @param ev\n             */\n            FileUploader.prototype.onUploadInputChange = function (ev) {\n                var fileInput = ev.target;\n                if (!fileInput.files || !fileInput.files[0])\n                    return;\n                // this.errStatus = [false, false, false];\n                this.onFileGet(fileInput.files);\n            };\n            FileUploader.prototype.onDrop = function (ev) {\n                var _a;\n                ev.preventDefault(); // 阻止进行拖拽时浏览器的默认行为，即自动打开图片\n                if ((_a = ev.dataTransfer) === null || _a === void 0 ? void 0 : _a.files)\n                    this.onFileGet(ev.dataTransfer.files);\n            };\n            FileUploader.prototype.onFileGet = function (files) {\n                var file = files[0], fileType = file.type;\n                this.$fileObj = file;\n                this.fileName = file.name;\n                this.fileSize = file.size;\n            };\n            /**\n             * 字节 Byte 转化成 KB，MB，GB\n             *\n             * @param limit\n             */\n            FileUploader.prototype.changeByte = function (limit) {\n                var size = \"\";\n                if (limit < 0.1 * 1024) // 小于 0.1KB，则转化成 B\n                    size = limit.toFixed(2) + \"B\";\n                else if (limit < 0.1 * 1024 * 1024) // 小于 0.1MB，则转化成 KB\n                    size = (limit / 1024).toFixed(2) + \"KB\";\n                else if (limit < 0.1 * 1024 * 1024 * 1024) // 小于 0.1GB，则转化成 MB\n                    size = (limit / (1024 * 1024)).toFixed(2) + \"MB\";\n                else // 其他转化成 GB\n                    size = (limit / (1024 * 1024 * 1024)).toFixed(2) + \"GB\";\n                var index = size.indexOf(\".\"); // 获取小数点处的索引\n                if (size.substr(index + 1, 2) == \"00\") // 获取小数点后两位的值，判断后两位是否为 00，如果是则删除 00                \n                    return size.substring(0, index) + size.substr(index + 3, 2);\n                return size;\n            };\n            /**\n             * 执行上传\n             *\n             * @param this\n             */\n            FileUploader.prototype.doUpload = function () {\n                // this.$uploadOk_callback({ isOk: true, msg: \"ok!\", imgUrl: \"fdfdf\" });\n                // return;\n                var _this = this;\n                var fd = new FormData();\n                if (this.$blob)\n                    fd.append(\"file\", this.$blob, this.fileName);\n                else if (this.$fileObj)\n                    fd.append(\"file\", this.$fileObj);\n                var xhr = new XMLHttpRequest();\n                //@ts-ignore\n                xhr.onreadystatechange = aj.xhr.requestHandler.delegate(null, this.$uploadOk_callback, 'json');\n                xhr.open(\"POST\", this.action, true);\n                xhr.onprogress = function (ev) {\n                    var progress = 0, p = ~~(ev.loaded * 1000 / ev.total);\n                    p = p / 10;\n                    if (progress !== p)\n                        progress = p;\n                    _this.progress = progress;\n                };\n                xhr.send(fd);\n            };\n            return FileUploader;\n        }(BaseFileUploader));\n        xhr_upload.FileUploader = FileUploader;\n        /**\n         * 用于继承，获取方法句柄\n         */\n        xhr_upload.fileUploader = new FileUploader();\n        xhr_upload.fileUploader.register();\n    })(xhr_upload = aj.xhr_upload || (aj.xhr_upload = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        /**\n         * HTML 在綫編輯器\n         *\n         * 注意：必须提供一个 <slot> 包含有 <textarea class=\"hide\" name=\"content\">${info.content}</textarea>\n         */\n        var HtmlEditor = /** @class */ (function (_super) {\n            __extends(HtmlEditor, _super);\n            function HtmlEditor() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-form-html-editor\";\n                _this.template = html(__makeTemplateObject([\"\\n            <div class=\\\"aj-form-html-editor\\\">\\n                <ul class=\\\"toolbar\\\" @click=\\\"onToolBarClk\\\">\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\\" class=\\\"fa-font\\\"></i>\\n                        <div class=\\\"fontfamilyChoser\\\" @click=\\\"onFontfamilyChoserClk\\\">\\n                            <a style=\\\"font-family: '\\u5B8B\\u4F53'\\\">\\u5B8B\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u9ED1\\u4F53'\\\">\\u9ED1\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u6977\\u4F53'\\\">\\u6977\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u96B6\\u4E66'\\\">\\u96B6\\u4E66</a>\\n                            <a style=\\\"font-family: '\\u5E7C\\u5706'\\\">\\u5E7C\\u5706</a>\\n                            <a style=\\\"font-family: 'Microsoft YaHei'\\\">Microsoft YaHei</a>\\n                            <a style=\\\"font-family: Arial\\\">Arial</a>\\n                            <a style=\\\"font-family: 'Arial Narrow'\\\">Arial Narrow</a>\\n                            <a style=\\\"font-family: 'Arial Black'\\\">Arial Black</a>\\n                            <a style=\\\"font-family: 'Comic Sans MS'\\\">Comic Sans MS</a>\\n                            <a style=\\\"font-family: Courier\\\">Courier</a>\\n                            <a style=\\\"font-family: System\\\">System</a>\\n                            <a style=\\\"font-family: 'Times New Roman'\\\">Times New Roman</a>\\n                            <a style=\\\"font-family: Verdana\\\">Verdana</a>\\n                        </div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u53F7\\\" class=\\\"fa-header\\\"></i>\\n                        <div class=\\\"fontsizeChoser\\\" @click=\\\"onFontsizeChoserClk\\\">\\n                            <a style=\\\"font-size: xx-small; \\\">\\u6781\\u5C0F</a>\\n                            <a style=\\\"font-size: x-small;  \\\">\\u7279\\u5C0F</a>\\n                            <a style=\\\"font-size: small;    \\\">\\u5C0F</a>\\n                            <a style=\\\"font-size: medium;   \\\">\\u4E2D</a>\\n                            <a style=\\\"font-size: large;    \\\">\\u5927</a>\\n                            <a style=\\\"font-size: x-large;  \\\">\\u7279\\u5927</a>\\n                            <a style=\\\"font-size: xx-large; line-height: 140%\\\">\\u6781\\u5927</a>\\n                        </div>\\n                    </li>\\n                    <li><i title=\\\"\\u52A0\\u7C97\\\" class=\\\"bold fa-bold\\\"></i></li>\\n                    <li><i title=\\\"\\u659C\\u4F53\\\" class=\\\"italic fa-italic\\\"></i></li>\\n                    <li><i title=\\\"\\u4E0B\\u5212\\u7EBF\\\" class=\\\"underline fa-underline\\\"></i></li>\\n                    <li><i title=\\\"\\u5DE6\\u5BF9\\u9F50\\\" class=\\\"justifyleft fa-align-left\\\"></i></li>\\n                    <li><i title=\\\"\\u4E2D\\u95F4\\u5BF9\\u9F50\\\" class=\\\"justifycenter fa-align-center\\\"></i></li>\\n                    <li><i title=\\\"\\u53F3\\u5BF9\\u9F50\\\" class=\\\"justifyright fa-align-right\\\"></i></li>\\n                    <li><i title=\\\"\\u6570\\u5B57\\u7F16\\u53F7\\\" class=\\\"insertorderedlist fa-list-ol\\\"></i></li>\\n                    <li><i title=\\\"\\u9879\\u76EE\\u7F16\\u53F7\\\" class=\\\"insertunorderedlist fa-list-ul\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u7F29\\u8FDB\\\" class=\\\"outdent fa-outdent\\\"></i></li>\\n                    <li><i title=\\\"\\u51CF\\u5C11\\u7F29\\u8FDB\\\" class=\\\"indent fa-indent\\\"></i></li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\u989C\\u8272\\\" class=\\\"fa-paint-brush\\\"></i>\\n                        <div class=\\\"fontColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontColorPicker\\\"></div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u80CC\\u666F\\u989C\\u8272\\\" class=\\\"fa-pencil\\\"></i>\\n                        <div class=\\\"bgColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontBgColorPicker\\\"></div>\\n                    </li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u94FE\\u63A5\\\" class=\\\"createLink fa-link\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u56FE\\u7247\\\" class=\\\"insertImage fa-file-image-o\\\"></i></li>\\n                    <li><i title=\\\"\\u4E00\\u952E\\u5B58\\u56FE\\\" class=\\\"saveRemoteImage2Local fa-hdd-o\\\"></i></li>\\n                    <li><i title=\\\"\\u6E05\\u7406 HTML\\\" class=\\\"cleanHTML fa-eraser\\\"></i></li>\\n                    <li><i title=\\\"\\u5207\\u6362\\u5230\\u4EE3\\u7801\\\" class=\\\"switchMode fa-code\\\"></i></li>\\n                </ul>\\n            \\n                <div class=\\\"editorBody\\\">\\n                    <iframe srcdoc=\\\"<html><body></body></html>\\\"></iframe>\\n                    <slot></slot>\\n                </div>\\n                <aj-form-popup-upload ref=\\\"uploadLayer\\\" :upload-url=\\\"uploadImageActionUrl\\\"></aj-form-popup-upload>\\n            </div>\\n        \"], [\"\\n            <div class=\\\"aj-form-html-editor\\\">\\n                <ul class=\\\"toolbar\\\" @click=\\\"onToolBarClk\\\">\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\\" class=\\\"fa-font\\\"></i>\\n                        <div class=\\\"fontfamilyChoser\\\" @click=\\\"onFontfamilyChoserClk\\\">\\n                            <a style=\\\"font-family: '\\u5B8B\\u4F53'\\\">\\u5B8B\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u9ED1\\u4F53'\\\">\\u9ED1\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u6977\\u4F53'\\\">\\u6977\\u4F53</a>\\n                            <a style=\\\"font-family: '\\u96B6\\u4E66'\\\">\\u96B6\\u4E66</a>\\n                            <a style=\\\"font-family: '\\u5E7C\\u5706'\\\">\\u5E7C\\u5706</a>\\n                            <a style=\\\"font-family: 'Microsoft YaHei'\\\">Microsoft YaHei</a>\\n                            <a style=\\\"font-family: Arial\\\">Arial</a>\\n                            <a style=\\\"font-family: 'Arial Narrow'\\\">Arial Narrow</a>\\n                            <a style=\\\"font-family: 'Arial Black'\\\">Arial Black</a>\\n                            <a style=\\\"font-family: 'Comic Sans MS'\\\">Comic Sans MS</a>\\n                            <a style=\\\"font-family: Courier\\\">Courier</a>\\n                            <a style=\\\"font-family: System\\\">System</a>\\n                            <a style=\\\"font-family: 'Times New Roman'\\\">Times New Roman</a>\\n                            <a style=\\\"font-family: Verdana\\\">Verdana</a>\\n                        </div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u53F7\\\" class=\\\"fa-header\\\"></i>\\n                        <div class=\\\"fontsizeChoser\\\" @click=\\\"onFontsizeChoserClk\\\">\\n                            <a style=\\\"font-size: xx-small; \\\">\\u6781\\u5C0F</a>\\n                            <a style=\\\"font-size: x-small;  \\\">\\u7279\\u5C0F</a>\\n                            <a style=\\\"font-size: small;    \\\">\\u5C0F</a>\\n                            <a style=\\\"font-size: medium;   \\\">\\u4E2D</a>\\n                            <a style=\\\"font-size: large;    \\\">\\u5927</a>\\n                            <a style=\\\"font-size: x-large;  \\\">\\u7279\\u5927</a>\\n                            <a style=\\\"font-size: xx-large; line-height: 140%\\\">\\u6781\\u5927</a>\\n                        </div>\\n                    </li>\\n                    <li><i title=\\\"\\u52A0\\u7C97\\\" class=\\\"bold fa-bold\\\"></i></li>\\n                    <li><i title=\\\"\\u659C\\u4F53\\\" class=\\\"italic fa-italic\\\"></i></li>\\n                    <li><i title=\\\"\\u4E0B\\u5212\\u7EBF\\\" class=\\\"underline fa-underline\\\"></i></li>\\n                    <li><i title=\\\"\\u5DE6\\u5BF9\\u9F50\\\" class=\\\"justifyleft fa-align-left\\\"></i></li>\\n                    <li><i title=\\\"\\u4E2D\\u95F4\\u5BF9\\u9F50\\\" class=\\\"justifycenter fa-align-center\\\"></i></li>\\n                    <li><i title=\\\"\\u53F3\\u5BF9\\u9F50\\\" class=\\\"justifyright fa-align-right\\\"></i></li>\\n                    <li><i title=\\\"\\u6570\\u5B57\\u7F16\\u53F7\\\" class=\\\"insertorderedlist fa-list-ol\\\"></i></li>\\n                    <li><i title=\\\"\\u9879\\u76EE\\u7F16\\u53F7\\\" class=\\\"insertunorderedlist fa-list-ul\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u7F29\\u8FDB\\\" class=\\\"outdent fa-outdent\\\"></i></li>\\n                    <li><i title=\\\"\\u51CF\\u5C11\\u7F29\\u8FDB\\\" class=\\\"indent fa-indent\\\"></i></li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u5B57\\u4F53\\u989C\\u8272\\\" class=\\\"fa-paint-brush\\\"></i>\\n                        <div class=\\\"fontColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontColorPicker\\\"></div>\\n                    </li>\\n                    <li class=\\\"dorpdown\\\">\\n                        <i title=\\\"\\u80CC\\u666F\\u989C\\u8272\\\" class=\\\"fa-pencil\\\"></i>\\n                        <div class=\\\"bgColor colorPicker\\\" v-html=\\\"createColorPickerHTML()\\\" @click=\\\"onFontBgColorPicker\\\"></div>\\n                    </li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u94FE\\u63A5\\\" class=\\\"createLink fa-link\\\"></i></li>\\n                    <li><i title=\\\"\\u589E\\u52A0\\u56FE\\u7247\\\" class=\\\"insertImage fa-file-image-o\\\"></i></li>\\n                    <li><i title=\\\"\\u4E00\\u952E\\u5B58\\u56FE\\\" class=\\\"saveRemoteImage2Local fa-hdd-o\\\"></i></li>\\n                    <li><i title=\\\"\\u6E05\\u7406 HTML\\\" class=\\\"cleanHTML fa-eraser\\\"></i></li>\\n                    <li><i title=\\\"\\u5207\\u6362\\u5230\\u4EE3\\u7801\\\" class=\\\"switchMode fa-code\\\"></i></li>\\n                </ul>\\n            \\n                <div class=\\\"editorBody\\\">\\n                    <iframe srcdoc=\\\"<html><body></body></html>\\\"></iframe>\\n                    <slot></slot>\\n                </div>\\n                <aj-form-popup-upload ref=\\\"uploadLayer\\\" :upload-url=\\\"uploadImageActionUrl\\\"></aj-form-popup-upload>\\n            </div>\\n        \"]));\n                _this.props = {\n                    fieldName: { type: String, required: true },\n                    uploadImageActionUrl: String // 图片上传路径\n                };\n                _this.fieldName = \"\";\n                _this.fieldValue = \"\";\n                /**\n                 * 图片上传路径\n                 */\n                _this.uploadImageActionUrl = \"\";\n                _this.toolbarEl = document.body;\n                _this.iframeEl = document.body;\n                _this.iframeDoc = document;\n                _this.sourceEditor = document.body;\n                _this.mode = \"iframe\";\n                return _this;\n            }\n            HtmlEditor.prototype.mounted = function () {\n                var _this = this;\n                var el = this.$el;\n                this.mode = 'iframe'; // 当前可视化编辑 iframe|textarea\n                this.toolbarEl = el.$('.toolbar');\n                this.iframeEl = el.$('iframe');\n                // 这个方法只能写在 onload 事件里面， 不写 onload 里还不执行\n                this.iframeEl.contentWindow.onload = function (ev) {\n                    var iframeDoc = _this.iframeEl.contentWindow.document;\n                    iframeDoc.designMode = 'on';\n                    iframeDoc.addEventListener('paste', onImagePaste.bind(_this)); // 直接剪切板粘贴上传图片\n                    _this.iframeDoc = iframeDoc;\n                    new MutationObserver(function (mutationsList, observer) {\n                        if (_this.mode === 'iframe')\n                            _this.sourceEditor.value = _this.iframeDoc.body.innerHTML;\n                    }).observe(iframeDoc.body, { attributes: true, childList: true, subtree: true, characterData: true });\n                    _this.sourceEditor.value && _this.setIframeBody(_this.sourceEditor.value); // 有内容\n                };\n                this.sourceEditor = el.$('textarea');\n                this.sourceEditor.classList.add(\"hide\");\n                this.sourceEditor.name = this.fieldName;\n                this.sourceEditor.oninput = function (ev) {\n                    if (_this.mode === 'textarea')\n                        _this.setIframeBody(_this.sourceEditor.value);\n                };\n                this.uploadImgMgr = this.$refs.uploadLayer;\n            };\n            /**\n            * 输入 HTML 内容\n            *\n            * @param html\n            */\n            HtmlEditor.prototype.setIframeBody = function (html) {\n                this.iframeDoc.body.innerHTML = html;\n            };\n            /**\n             * 获取内容的 HTML\n             *\n             * @param cleanWord\n             * @param encode\n             */\n            HtmlEditor.prototype.getValue = function (cleanWord, encode) {\n                var result = this.iframeDoc.body.innerHTML;\n                if (cleanWord)\n                    result = cleanPaste(result);\n                if (encode)\n                    result = encodeURIComponent(result);\n                return result;\n            };\n            /**\n             * 切換 HTML 編輯 or 可視化編輯\n             *\n             */\n            HtmlEditor.prototype.setMode = function () {\n                if (this.mode == 'iframe') {\n                    this.iframeEl.classList.add('hide');\n                    this.sourceEditor.classList.remove('hide');\n                    this.mode = 'textarea';\n                    grayImg.call(this, true);\n                }\n                else {\n                    this.iframeEl.classList.remove('hide');\n                    this.sourceEditor.classList.add('hide');\n                    this.mode = 'iframe';\n                    grayImg.call(this, false);\n                }\n            };\n            /**\n             * 当工具条点击的时候触发\n             *\n             * @param ev\n             */\n            HtmlEditor.prototype.onToolBarClk = function (ev) {\n                var _this = this;\n                var el = ev.target, clsName = el.className.split(' ').shift();\n                switch (clsName) {\n                    case 'createLink':\n                        var result = prompt(\"请输入 URL 地址\");\n                        if (result)\n                            this.format(\"createLink\", result);\n                        break;\n                    case 'insertImage':\n                        // @ts-ignore\n                        if (window.isCreate)\n                            aj.alert('请保存记录后再上传图片。');\n                        else {\n                            this.uploadImgMgr.show(function (json) {\n                                if (json && json.isOk)\n                                    _this.format(\"insertImage\", json.fullUrl);\n                            });\n                        }\n                        break;\n                    case 'switchMode':\n                        this.setMode();\n                        break;\n                    case 'cleanHTML':\n                        // @ts-ignore\n                        this.setIframeBody(HtmlSanitizer.SanitizeHtml(this.iframeDoc.body.innerHTML)); // 清理冗余 HTML\n                        break;\n                    case 'saveRemoteImage2Local':\n                        saveRemoteImage2Local.call(this);\n                        break;\n                    default:\n                        this.format(clsName);\n                }\n            };\n            /**\n             * 通过 document.execCommand() 来操纵可编辑内容区域的元素\n             *\n             * @param type 命令的名称\n             * @param para 一些命令（例如 insertImage）需要额外的参数（insertImage 需要提供插入 image 的 url），默认为 null\n             */\n            HtmlEditor.prototype.format = function (type, para) {\n                if (para)\n                    this.iframeDoc.execCommand(type, false, para);\n                else\n                    this.iframeDoc.execCommand(type, false);\n                this.iframeEl.contentWindow.focus();\n            };\n            /**\n             * 选择字号大小\n             *\n             * @param ev\n             */\n            HtmlEditor.prototype.onFontsizeChoserClk = function (ev) {\n                var el = ev.target, els = ev.currentTarget.children;\n                for (var i = 0, j = els.length; i < j; i++)\n                    if (el == els[i])\n                        break;\n                this.format('fontsize', i + \"\");\n            };\n            HtmlEditor.prototype.onFontColorPicker = function (ev) {\n                this.format('foreColor', ev.target.title);\n            };\n            HtmlEditor.prototype.onFontBgColorPicker = function (ev) {\n                this.format('backColor', ev.target.title);\n            };\n            /**\n             * 选择字体\n             *\n             * @param ev\n             */\n            HtmlEditor.prototype.onFontfamilyChoserClk = function (ev) {\n                var el = ev.target;\n                this.format('fontname', el.innerHTML);\n                /* 如何解决点击之后马上隐藏面板？由于 js（单击事件） 没有控制 CSS 的 :hover 伪类的方法，故所以必须使用以下技巧：*/\n                var menuPanel = el.parentNode;\n                menuPanel.style.display = 'none';\n                setTimeout(function () { return menuPanel.style.display = ''; }, 300);\n            };\n            /**\n             * 创建颜色选择器\n             */\n            HtmlEditor.prototype.createColorPickerHTML = function () {\n                var cl = ['00', '33', '66', '99', 'CC', 'FF'], b, d, e, f, h = ['<div class=\"colorhead\"><span class=\"colortitle\">颜色选择</span></div><div class=\"colorbody\"><table cellspaci=\"0\" cellpadding=\"0\"><tr>'];\n                // 创建 body  [6 x 6的色盘]\n                for (var i = 0; i < 6; ++i) {\n                    h.push('<td><table class=\"colorpanel\" cellspacing=\"0\" cellpadding=\"0\">');\n                    for (var j = 0, a = cl[i]; j < 6; ++j) {\n                        h.push('<tr>');\n                        for (var k = 0, c = cl[j]; k < 6; ++k) {\n                            b = cl[k];\n                            e = (k == 5 && i != 2 && i != 5) ? ';border-right:none;' : '';\n                            f = (j == 5 && i < 3) ? ';border-bottom:none' : '';\n                            d = '#' + a + b + c;\n                            // T = document.all ? '&nbsp;' : '';\n                            h.push('<td unselectable=\"on\" style=\"background-color: ' + d + e + f + '\" title=\"' + d + '\"></td>');\n                        }\n                        h.push('</tr>');\n                    }\n                    h.push('</table></td>');\n                    if (cl[i] == '66')\n                        h.push('</tr><tr>');\n                }\n                h.push('</tr></table></div>');\n                return h.join('');\n            };\n            return HtmlEditor;\n        }(aj.VueComponent));\n        form.HtmlEditor = HtmlEditor;\n        /**\n         * 使图标变灰色\n         *\n         * @param this\n         * @param isGray\n         */\n        function grayImg(isGray) {\n            this.toolbarEl.$('i', function (item) {\n                if (item.className.indexOf('switchMode') != -1)\n                    return;\n                item.style.color = isGray ? 'lightgray' : '';\n            });\n        }\n        /**\n         * 一键存图\n         *\n         * @param this\n         */\n        function saveRemoteImage2Local() {\n            var arr = this.iframeDoc.querySelectorAll('img'), remotePicArr = new Array(), srcs = [];\n            for (var i = 0, j = arr.length; i < j; i++) {\n                var imgEl = arr[i], src = imgEl.getAttribute('src');\n                if (/^http/.test(src)) {\n                    remotePicArr.push(imgEl);\n                    srcs.push(src);\n                }\n            }\n            if (srcs.length)\n                aj.xhr.post('../downAllPics/', function (json) {\n                    var _arr = json.pics;\n                    for (var i = 0, j = _arr.length; i < j; i++)\n                        remotePicArr[i].src = \"images/\" + _arr[i]; // 改变 DOM 的旧图片地址为新的\n                    aj.alert('所有图片下载完成。');\n                }, { pics: srcs.join('|') });\n            else\n                aj.alert('未发现有远程图片');\n        }\n        /**\n         * 粘贴图片\n         *\n         * @param this\n         * @param ev\n         */\n        function onImagePaste(ev) {\n            var _this = this;\n            if (!this.uploadImageActionUrl) {\n                aj.alert('未提供图片上传地址');\n                return;\n            }\n            var items = ev.clipboardData && ev.clipboardData.items, file = null; // file 就是剪切板中的图片文件\n            if (items && items.length) { // 检索剪切板 items\n                for (var i = 0; i < items.length; i++) {\n                    var item = items[i];\n                    if (item.type.indexOf('image') !== -1) {\n                        // @ts-ignore\n                        if (window.isCreate) { // 有图片\n                            aj.alert('请保存记录后再上传图片。');\n                            return;\n                        }\n                        file = item.getAsFile();\n                        break;\n                    }\n                }\n            }\n            if (file) {\n                ev.preventDefault();\n                aj.img.changeBlobImageQuality(file, function (newBlob) {\n                    // 复用上传的方法\n                    Vue.options.components[\"aj-xhr-upload\"].extendOptions.methods.doUpload.call({\n                        action: _this.uploadImageActionUrl,\n                        progress: 0,\n                        uploadOk_callback: function (j) {\n                            if (j.isOk)\n                                this.format(\"insertImage\", this.ajResources.imgPerfix + j.imgUrl);\n                        },\n                        $blob: newBlob,\n                        $fileName: 'foo.jpg' // 文件名不重要，反正上传到云空间会重命名\n                    });\n                });\n            }\n        }\n        /**\n         * Remove additional MS Word content\n         * MSWordHtmlCleaners.js https://gist.github.com/ronanguilloux/2915995\n         *\n         * @param html\n         */\n        function cleanPaste(html) {\n            html = html.replace(/<(\\/)*(\\\\?xml:|meta|link|span|font|del|ins|st1:|[ovwxp]:)((.|\\s)*?)>/gi, ''); // Unwanted tags\n            html = html.replace(/(class|style|type|start)=(\"(.*?)\"|(\\w*))/gi, ''); // Unwanted sttributes\n            html = html.replace(/<style(.*?)style>/gi, ''); // Style tags\n            html = html.replace(/<script(.*?)script>/gi, ''); // Script tags\n            html = html.replace(/<!--(.*?)-->/gi, ''); // HTML comments\n            return html;\n        }\n        new HtmlEditor().register();\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var xhr_upload;\n    (function (xhr_upload) {\n        /**\n         * 图片占位符，用户没有选定图片时候使用的图片\n         */\n        var emptyImg = \"data:image/svg+xml,%3Csvg class='icon' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cpath d='M304.128 456.192c48.64 0 88.064-39.424 88.064-88.064s-39.424-88.064-88.064-88.064-88.064 39.424-88.064 88.064 39.424 88.064 88.064 88.064zm0-116.224c15.36 0 28.16 12.288 28.16 28.16s-12.288 28.16-28.16 28.16-28.16-12.288-28.16-28.16 12.288-28.16 28.16-28.16z' \" +\n            \"fill='%23e6e6e6'/%3E%3Cpath d='M887.296 159.744H136.704C96.768 159.744 64 192 64 232.448v559.104c0 39.936 32.256 72.704 72.704 72.704h198.144L500.224 688.64l-36.352-222.72 162.304-130.56-61.44 143.872 92.672 214.016-105.472 171.008h335.36C927.232 864.256 960 832 960 791.552V232.448c0-39.936-32.256-72.704-72.704-72.704zm-138.752 71.68v.512H857.6c16.384 0 30.208 13.312 30.208 30.208v399.872L673.28 408.064l75.264-176.64zM304.64 \" +\n            \"792.064H165.888c-16.384 0-30.208-13.312-30.208-30.208v-9.728l138.752-164.352 104.96 124.416-74.752 79.872zm81.92-355.84l37.376 228.864-.512.512-142.848-169.984c-3.072-3.584-9.216-3.584-12.288 0L135.68 652.8V262.144c0-16.384 13.312-30.208 30.208-30.208h474.624L386.56 436.224zm501.248 325.632c0 16.896-13.312 30.208-29.696 30.208H680.96l57.344-93.184-87.552-202.24 7.168-7.68 229.888 272.896z' fill='%23e6e6e6'/%3E%3C/svg%3E\";\n        var emptyImg2 = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAAB2CAYAAACDMaL0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA1xpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDM0MiwgMjAxMC8wMS8xMC0xODowNjo0MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo5RkM5NjQxRDQxQUNFNDExOTcwMkU4MjNEOTc3MDU5RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4QTc3NDNFQkFDNDIxMUU0QTEzMkQyOUQzOTFFQkMzRCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4QTc3NDNFQUFDNDIxMUU0QTEzMkQyOUQzOTFFQkMzRCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUZDOTY0MUQ0MUFDRTQxMTk3MDJFODIzRDk3NzA1OUYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUZDOTY0MUQ0MUFDRTQxMTk3MDJFODIzRDk3NzA1OUYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz77Tka5AAADFElEQVR42uzd0W3aUBiAUVNFlTqBO4VRn/scT1FvQaaAKWCK0hX6FKZghb44Rr2uLGqCL+AY7HMkqyitSHC+XP5riDoryzIZs91ulzAJ5SfngJGYiZnREDNiBjGDmEHMiBnEDGIGMYOYETOIGcQMYkbMIGYQM4gZxIyYQcwgZhAzYgYxg5hBzPDP0wQeYzmR7+Wf6vhdHd+tzDy6z9Xxzco8HZvq2I/sMaXVUYTbX8Q8DasQ8+vIHlcWfkAXNoDTsR9hyMlIH5OYETPjeNYRs1OAmEHM0I8np+BuHK4Xz8PtrdNhZX5UeXUsq+NndfwIt3Onxcr8iCvyIeD6Vbyi8XErtJX54Vbl4sTfFU6PlTlWFv58HfBzt4Xs+rGYo9XheGlYzA9tEebTe2RlNjNHbb6yls3XR/qV/H0337GNDaCYY1flonH7eYCvYRtW4GbQqzDyGHuMGZ3n5PTE1YWPXhFfGnP7vhE0Yu50BeG5Zayogxri6X0jR2PGpaty8c4cfYtX3/LEb3+IuecrA3mH0K+ZnbPG/J0mXvgwZvQ8XpxbMesIY5766xU9O7r/1UBzuJhHbB05huxDoF2u9ebv/JAsGlct+n7WMWbQatFxREg7rvbGDTEPqstmMO0Q8iKMH5lTKuYhV+dzm8E84r68R1nMgyvOrMwx+gg69S0Sc9cV9dSIEBvmMtzPreOzARRzVNBt4WZJ/Asjyws3g0YUMd/UrYJKIzeD9fXrwiZSzLewPArpmqgOq/k84t9n4fOvQ9hWaTHfdDM4D4H1vdLnJ36o7vmXCgbhN03iV+f67ZrXhrQO93WwPTOSLFu+jnrjZ/MXzMpy3P9Lwm63u/cH+JL8/+b841k55hlgZsxgyNW+nqOzDqsyxoy71nwT1NcwdvRxPVrMfPhMnlwwXojZKbjbsQMzM2IGMYOYQcwgZsQMYgYxg5gRMzy+0b+fGTGDmEHMIGYQM2IGMYOYQcyIGcQMYgYxg5gRM4gZxAxiRswgZhAziBnEjJhBzCBmEDNiBjGDmEHMIGbEDGIGMYOYmaY3AQYAXojZOq5J9RcAAAAASUVORK5CYII=\";\n        // 文件头判别，看看是否为图片\n        var imgHeader = { \"jpeg\": \"/9j/4\", \"gif\": \"R0lGOD\", \"png\": \"iVBORw\" };\n        var ImgFileUploader = /** @class */ (function (_super) {\n            __extends(ImgFileUploader, _super);\n            function ImgFileUploader() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = \"aj-img-uploder\";\n                _this.template = \"<div class=\\\"aj-img-uploader\\\">\\n                <img :src=\\\"imgSrc\\\" />\" + xhr_upload.fileUploader.template + \"\\n            </div>\";\n                /**\n                 * 预览图像显示的内容，可以是图片的 url 也可以是图片的 base64 形式\n                 */\n                _this.imgSrc = emptyImg2;\n                _this.imgMaxWidth = 0;\n                _this.imgMaxHeight = 0;\n                /**\n                 * 图片前缀\n                 */\n                _this.imgPerfix = \"\";\n                return _this;\n            }\n            ImgFileUploader.prototype.propsFactory = function () {\n                var p = aj.apply({\n                    imgMaxWidth: { type: Number, default: 1920 },\n                    imgMaxHeight: { type: Number, default: 1680 },\n                    imgPerfix: { type: String }\n                }, this.props);\n                p.accpectFileType = { type: String, default: \"image/*\" };\n                p.limitFileType = { type: String, default: 'jpg|png|gif|jpeg' };\n                return p;\n            };\n            // onUploadInputChange(ev: Event): void {\n            //     super.onUploadInputChange(ev);\n            //     // fileUploader.onUploadInputChange.call(this, ev);\n            //     this.readBase64();\n            // }\n            ImgFileUploader.prototype.beforeCreate = function () {\n                this.$options.template = this.$options.template.replace('<span class=\"slot\"></span>', '<br />最大尺寸：{{imgMaxWidth}}x{{imgMaxHeight}}');\n            };\n            ImgFileUploader.prototype.mounted = function () {\n                var _this = this;\n                if (this.fieldValue)\n                    this.imgSrc = this.imgPerfix + this.fieldValue;\n                var imgEl = this.$el.$('img');\n                imgEl.onload = function () {\n                    if (imgEl.width > _this.imgMaxWidth || imgEl.height > _this.imgMaxHeight) {\n                        _this.errMsg = '图片大小尺寸不符合要求哦，请裁剪图片重新上传吧~';\n                    }\n                    // if (this.fileSize > 300 * 1024)  // 大于 300k 才压缩\n                    //     img.compressAsBlob(imgEl, (blob: Blob): void => {\n                    //         this.$blob = blob;\n                    //     });\n                };\n            };\n            ImgFileUploader.prototype.watchFactory = function () {\n                return {\n                    imgBase64Str: function (newV) {\n                        // 文件头判别，看看是否为图片\n                        var isPic = false;\n                        for (var i in imgHeader) {\n                            if (~newV.indexOf(imgHeader[i])) {\n                                isPic = true;\n                                break;\n                            }\n                        }\n                        if (!isPic) {\n                            var msg_1 = '亲，改了扩展名我还能认得你不是图片哦';\n                            Vue.set(this.errStatus, 2, msg_1);\n                            aj.alert(msg_1);\n                        }\n                        else\n                            Vue.set(this.errStatus, 2, \"\");\n                    },\n                    errMsg: function (newV) {\n                        if (!newV) // 没有任何错误才显示图片\n                            this.readBase64();\n                    }\n                };\n            };\n            ImgFileUploader.prototype.readBase64 = function () {\n                var _this = this;\n                var reader = new FileReader();\n                reader.onload = function (ev) {\n                    var fileReader = ev.target;\n                    _this.imgSrc = fileReader.result;\n                };\n                this.$fileObj && reader.readAsDataURL(this.$fileObj);\n            };\n            return ImgFileUploader;\n        }(xhr_upload.FileUploader));\n        xhr_upload.ImgFileUploader = ImgFileUploader;\n        new ImgFileUploader().register();\n    })(xhr_upload = aj.xhr_upload || (aj.xhr_upload = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n/**\n* 将上传控件嵌入到一个浮出层中\n*/\nVue.component('aj-form-popup-upload', {\n    template: html(__makeTemplateObject([\"\\n        <aj-layer>\\n            <h3>\\u56FE\\u7247\\u4E0A\\u4F20</h3>\\n            <p>\\u4E0A\\u4F20\\u6210\\u529F\\u540E\\u81EA\\u52A8\\u63D2\\u5165\\u5230\\u6B63\\u6587</p>\\n            <aj-img-uploder ref=\\\"uploadControl\\\" :action=\\\"uploadUrl\\\"></aj-img-uploder>\\n        </aj-layer>\\n    \"], [\"\\n        <aj-layer>\\n            <h3>\\u56FE\\u7247\\u4E0A\\u4F20</h3>\\n            <p>\\u4E0A\\u4F20\\u6210\\u529F\\u540E\\u81EA\\u52A8\\u63D2\\u5165\\u5230\\u6B63\\u6587</p>\\n            <aj-img-uploder ref=\\\"uploadControl\\\" :action=\\\"uploadUrl\\\"></aj-img-uploder>\\n        </aj-layer>\\n    \"])),\n    data: function () {\n        return {\n            text: {}\n        };\n    },\n    props: {\n        uploadUrl: { type: String, required: true },\n        imgName: { type: String, required: false },\n        imgId: { type: Number, required: false },\n        imgPlace: String // 图片占位符，用户没有选定图片时候使用的图片\n    },\n    mounted: function () {\n        var obj = this.$refs.uploadControl;\n        this.text = { maxSize: obj.limitSize || 600, maxHeight: obj.imgMaxHeight, maxWidth: obj.imgMaxWidth };\n    },\n    methods: {\n        /**\n         * 显示上传控件\n         *\n         * @param {Function} callback 上传成功之后的回调函数\n         */\n        show: function (callback) {\n            if (callback)\n                this.$refs.uploadControl.uploadOk_callback = callback;\n            this.$children[0].show();\n        }\n    }\n});\n\n\"use strict\";\n// aj.searchPanel = {\n//     methods: {\n//         searchBy(field, clz) {\n//             var param = {};\n//             param[field] = aj(clz).value;\n//             if (!param[field]) {\n//                 aj.alert('请输入搜索的关键字');\n//                 return;\n//             }\n//             aj.apply(this.$refs.pager.extraParam, param);\n//             this.reload();\n//         },\n//         // 选择任意字段\n//         searchAny(field, clz) {\n//             var param = {};\n//             param.filterField = field;\n//             param.filterValue = aj(clz).value;\n//             if (!param.filterValue) {\n//                 aj.alert('请输入搜索的关键字');\n//                 return;\n//             }\n//             aj.apply(this.$refs.pager.extraParam, param);\n//             this.reload();\n//         },\n//         // 清空查询参数\n//         clearSearch() {\n//             this.$refs.pager.extraParam = {};\n//             this.reload();\n//         }\n//     }\n// };\n\n\"use strict\";\n\n/**\n * 下拉列表\n */\nVue.component('aj-form-select', {\n    template: html(__makeTemplateObject([\"\\n        <select :name=\\\"name\\\" class=\\\"aj-form-select\\\">\\n            <template v-for=\\\"value, key, index in options\\\">\\n                <option v-if=\\\"index === selectedIndex\\\" selected :value=\\\"value\\\" >{{key}}</option>\\n                <option v-else :value=\\\"value\\\" >{{key}}</option>\\n            </template>\\n        </select>\\n    \"], [\"\\n        <select :name=\\\"name\\\" class=\\\"aj-form-select\\\">\\n            <template v-for=\\\"value, key, index in options\\\">\\n                <option v-if=\\\"index === selectedIndex\\\" selected :value=\\\"value\\\" >{{key}}</option>\\n                <option v-else :value=\\\"value\\\" >{{key}}</option>\\n            </template>\\n        </select>\\n    \"])),\n    props: {\n        name: { type: String, required: true },\n        options: { type: Object, required: true },\n        selectedIndex: { type: Number } // starts form 0\n    }\n});\n\n\"use strict\";\n/**\n * 表单工具函数\n */\nvar aj;\n(function (aj) {\n    var form;\n    (function (form) {\n        var utils;\n        (function (utils) {\n            /**\n             * 获取表单控件的值\n             *\n             * @param el\n             * @param cssSelector\n             */\n            function getFormFieldValue(_el, cssSelector) {\n                var el = _el.$(cssSelector);\n                if (el)\n                    return el.value;\n                else\n                    throw \"\\u627E\\u4E0D\\u5230\" + cssSelector + \"\\u5143\\u7D20\";\n            }\n            utils.getFormFieldValue = getFormFieldValue;\n            /**\n             * 指定 id 的那个 option 选中\n             *\n             * @param this\n             * @param id\n             */\n            function selectOption(id) {\n                this.$el.$('option', function (i) {\n                    console.log(i.value);\n                    if (i.value == id)\n                        i.selected = true;\n                });\n            }\n            utils.selectOption = selectOption;\n        })(utils = form.utils || (form.utils = {}));\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var form;\n    (function (form_1) {\n        if (!('validity' in document.createElement('input')))\n            window.alert(\"不支持 HTML5 表单验证\");\n        /**\n         * 表单验证器\n         */\n        var Validator = /** @class */ (function () {\n            function Validator(el) {\n                this.errorElements = [];\n                // let isMsgNewLine: boolean = el.dataset.msgNewline === \"true\";\n                el.setAttribute('novalidate', 'true'); // 禁止浏览器原生的错误提示\n                this.checkEveryField();\n            }\n            /**\n             * 对每一个表单元素监听事件，一失去焦点就触发表单验证\n             */\n            Validator.prototype.checkEveryField = function () {\n                var _this = this;\n                document.addEventListener('blur', function (ev) {\n                    var el = ev.target;\n                    if (el.tagName == \"A\" || Validator.isIgnoreEl(el)) // 忽略部分元素；a 元素也有 blur 事件，忽略之\n                        return;\n                    var result = Validator.check(el);\n                    if (result) { // 如果有错误,就把它显示出来\n                        _this.errorElements.push(result);\n                        _this.showError(result);\n                    }\n                    else\n                        _this.removeError(el); // 否则, 移除所有存在的错误信息\n                }, true);\n            };\n            /**\n             *\n             * @param err\n             */\n            Validator.prototype.showError = function (err) {\n                var _a;\n                var el = err.el, id = el.id || el.name; // 获取字段 id 或者 name\n                if (!id)\n                    return;\n                err.el.classList.add('error'); // 将错误类添加到字段\n                // 检查错误消息字段是否已经存在 如果没有, 就创建一个\n                var message = err.el.form.$(\".error-message#error-for-\" + id);\n                if (!message) {\n                    message = document.createElement('div');\n                    message.className = 'error-message';\n                    message.id = 'error-for-' + id;\n                    (_a = el.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(message, el.nextSibling);\n                }\n                el.setAttribute('aria-describedby', 'error-for-' + id); // 添加 ARIA role 到字段\n                message.innerHTML = err.msg; // 更新错误信息\n                // if (!isNewLine)// 显示错误信息\n                //     message.style.display = 'inline-block';\n                message.classList.remove('hide');\n            };\n            /**\n             * 移除所有的错误信息\n             *\n             * @param el\n             */\n            Validator.prototype.removeError = function (el) {\n                var id = el.id || el.name; // 获取字段的 id 或者 name\n                if (!id)\n                    return;\n                el.classList.remove('error'); // 删除字段的错误类\n                el.removeAttribute('aria-describedby'); // 移除字段的 ARIA role\n                var message = el.form.$(\".error-message#error-for-\" + id); // 检查 DOM 中是否有错误消息\n                if (message) {\n                    message.innerHTML = ''; // 如果有错误消息就隐藏它\n                    message.classList.add('hide');\n                }\n            };\n            /**\n             * 是否忽略的表单元素\n             *\n             * @param el\n             */\n            Validator.isIgnoreEl = function (el) {\n                return el.disabled || el.type === 'file' || el.type === 'reset' || el.type === 'submit' || el.type === 'button';\n            };\n            /**\n             * 验证字段\n             *\n             * @param field 表单字段元素\n             * @returns 若验证通过返回 null，否则返回 ErrorElement\n             */\n            Validator.check = function (field) {\n                // if (!field || !field.getAttribute)\n                //     console.log(field);\n                var validity = field.validity; // 获取 validity\n                if (!validity)\n                    throw '浏览器不支持 HTML5 表单验证';\n                if (validity.valid) // 通过验证\n                    return null;\n                else {\n                    var result = {\n                        el: field,\n                        msg: \"无效输入\" // 通用错误讯息 The value you entered for this field is invalid.\n                    };\n                    if (validity.valueMissing) // 如果是必填字段但是字段为空时\n                        result.msg = '该项是必填项';\n                    if (validity.typeMismatch) { // 如果类型不正确\n                        if (field.type === 'email')\n                            result.msg = '请输入有效的邮件地址';\n                        else if (field.type === 'url')\n                            result.msg = '请输入一个有效的网址';\n                        else\n                            result.msg = '请输入正确的类型';\n                    }\n                    if (validity.tooShort)\n                        result.msg = \"\\u8BF7\\u8F93\\u5165\\u81F3\\u5C11\" + field.getAttribute('minLength') + \"\\u4E2A\\u5B57\\u7B26\\u3002\\u5F53\\u524D\\u4F60\\u8F93\\u5165\\u4E86\" + field.value.length + \"\\u4E2A\\u5B57\\u7B26\\u3002\";\n                    // 'Please lengthen this text to ' + field.getAttribute('minLength') + ' characters or more. You are currently using ' + field.value.length + ' characters.'\n                    if (validity.tooLong)\n                        result.msg = \"\\u4F60\\u53EA\\u80FD\\u8F93\\u5165\\u6700\\u591A\" + field.getAttribute('maxLength') + \"\\u4E2A\\u5B57\\u7B26\\u3002\\u5F53\\u524D\\u4F60\\u8F93\\u5165\\u4E86\" + field.value.length + \"\\u4E2A\\u5B57\\u7B26\\u3002\";\n                    // 'Please shorten this text to no more than ' + field.getAttribute('maxLength') + ' characters. You are currently using ' + field.value.length + ' characters.';\n                    if (validity.badInput)\n                        result.msg = '请输入数字';\n                    if (validity.stepMismatch) // 如果数字值与步进间隔不匹配\n                        result.msg = '请选择一个有效值';\n                    if (validity.rangeOverflow) // 如果数字字段的值大于 max 的值\n                        result.msg = \"\\u8BF7\\u9009\\u62E9\\u5C0F\\u4E8E \" + field.getAttribute('max') + \" \\u7684\\u503C\";\n                    // return 'Please select a value that is no more than ' + field.getAttribute('max') + '.';\n                    if (validity.rangeUnderflow)\n                        result.msg = \"\\u8BF7\\u9009\\u62E9\\u5927\\u4E8E \" + field.getAttribute('min') + \" \\u7684\\u503C\";\n                    // return 'Please select a value that is no less than ' + field.getAttribute('min') + '.';\n                    if (validity.patternMismatch)\n                        result.msg = field.getAttribute('title') || '格式要求不正确';\n                    return result;\n                }\n            };\n            /**\n             * 是否通过验证\n             *\n             * @param form\n             */\n            Validator.onSubmit = function (form) {\n                var fields = form.elements; // 获取所有的表单元素\n                // 验证每一个字段\n                // 将具有错误的第一个字段存储到变量中以便稍后我们将其默认获得焦点\n                var error, hasErrors = null;\n                for (var i = 0, j = fields.length; i < j; i++) {\n                    var el = fields[i];\n                    error = this.check(el);\n                    if (error) {\n                        // showError(el);\n                        if (!hasErrors) // 如果有错误,停止提交表单并使出现错误的第一个元素获得焦点\n                            hasErrors = el;\n                    }\n                }\n                if (hasErrors) {\n                    hasErrors.focus();\n                    return false;\n                }\n                return true;\n            };\n            return Validator;\n        }());\n        form_1.Validator = Validator;\n    })(form = aj.form || (aj.form = {}));\n})(aj || (aj = {}));\n// ; (function (window, document, undefined) {  // 确保 ValidityState 全部被支持 (所有的功能) \n//     var supported = function () {\n//         var input = document.createElement('input');\n//         return ('validity' in input && 'badInput' in input.validity && 'patternMismatch' in input.validity && 'rangeOverflow' in input.validity && 'rangeUnderflow' in input.validity && 'stepMismatch' in input.validity && 'tooLong' in input.validity && 'tooShort' in input.validity && 'typeMismatch' in input.validity && 'valid' in input.validity && 'valueMissing' in input.validity);\n//     };\n//     /** \n//      *  Generate the field validity object\n//      *  @param {Node]} field The field to validate \n//      *  @return {Object} The validity object \n//      **/\n//     var getValidityState = function (field) {\n//         // 变量 \n//         var type = field.getAttribute('type') || input.nodeName.toLowerCase(); \n//         var isNum = type === 'number' || type === 'range'; \n//         var length = field.value.length; var valid = true; \n//         //检测支持性\n//         var checkValidity = {\n//             badInput: (isNum && length > 0 && !/[-+]?[0-9]/.test(field.value)),\n//             // 数字字段的值不是数字 \n//             patternMismatch: (field.hasAttribute('pattern') && length > 0 && new RegExp(field.getAttribute('pattern')).test(field.value) === false),\n//             // 输入的值不符合模式 \n//             rangeOverflow: (field.hasAttribute('max') && isNum && field.value > 1 && parseInt(field.value, 10) > parseInt(field.getAttribute('max'), 10)),\n//             // 数字字段的值大于max属性值 \n//             rangeUnderflow: (field.hasAttribute('min') && isNum && field.value > 1 && parseInt(field.value, 10) < parseInt(field.getAttribute('min'), 10)),\n//             // 数字字段的值小于min属性值\n//             stepMismatch: (field.hasAttribute('step') && field.getAttribute('step') !== 'any' && isNum && Number(field.value) % parseFloat(field.getAttribute('step')) !== 0),\n//             // 数字字段的值不符合 stepattribute \n//             tooLong: (field.hasAttribute('maxLength') && field.getAttribute('maxLength') > 0 && length > parseInt(field.getAttribute('maxLength'), 10)),\n//             // 用户在具有maxLength属性的字段中输入的值的长度大于属性值\n//             tooShort: (field.hasAttribute('minLength') && field.getAttribute('minLength') > 0 && length > 0 && length < parseInt(field.getAttribute('minLength'), 10)),\n//             // 用户在具有minLength属性的字段中输入的值的长度小于属性值 \n//             typeMismatch: (length > 0 && ((type === 'email' && !/^([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x22([^\\x0d\\x22\\x5c\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x22))*\\x40([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d)(\\x2e([^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+|\\x5b([^\\x0d\\x5b-\\x5d\\x80-\\xff]|\\x5c[\\x00-\\x7f])*\\x5d))*$/.test(field.value)) || (type === 'url' && !/^(?:(?:https?|HTTPS?|ftp|FTP):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*)(?::\\d{2,5})?(?:[\\/?#]\\S*)?$/.test(field.value)))),\n//             // email 或者 URL 字段的值不是一个 email地址或者 URL \n//             valueMissing: (field.hasAttribute('required') && (((type === 'checkbox' || type === 'radio') && !field.checked) || (type === 'select' && field.options[field.selectedIndex].value < 1) || (type !== 'checkbox' && type !== 'radio' && type !== 'select' && length < 1))) // 必填字段没有值 \n//         };\n//         // 检查是否有错误 \n//         for (var key in checkValidity) {\n//             if (checkValidity.hasOwnProperty(key)) {\n//                 // If there's an error, change valid value \n//                 if (checkValidity[key]) { valid = false; break; }\n//             }\n//         }\n//         // 给 validity 对象添加 valid 属性\n//         checkValidity.valid = valid;\n//         // 返回对象 \n//         return checkValidity;\n//     };\n//     // 如果不支持完整的 ValidityState 功能，则可以使用polyfill \n//     if (!supported()) {\n//         Object.defineProperty(HTMLInputElement.prototype, 'validity', {\n//             get: function ValidityState() {\n//                 return getValidityState(this);\n//             },\n//             configurable: true,\n//         });\n//     }\n// })(window, document);\n"],"names":["aj","Vue","component","template","html","__makeTemplateObject","props","isAjax","type","Boolean","default","methods","valid","ev","grid","start","this","$el","$","value","end","Date","alert","preventDefault","$parent","apply","$refs","pager","extraParam","startDate","endDate","reload","data","date","fieldValue","time","fieldName","String","required","dateOnly","showTime","positionFixed","placeholder","watch","n","mounted","arr","classList","add","split","calendar","recTimeEvent","recEvent","trim","onMouseOver","el","b","currentTarget","getBoundingClientRect","c","style","top","clientHeight","left","form","_super","Calendar","_this","arguments","name","year","getFullYear","month","getMonth","render","day","VueComponent","__extends","prototype","$options","call","getDateArr","frag","document","createDocumentFragment","length","row","createElement","i","d","on","cell","shift","text","title","className","innerHTML","d1","d2","getDate","appendChild","tbody","dateType","nowYear","nowMonth","setMonth","target","Number","selectedOptions","firstDay","getDay","push","monthDay","pickDay","$emit","pickupTime","$event","hour","minute","register","ChinaArea","provinceCode","cityCode","districtCode","provinceName","cityName","districtName","computed","citys","province","addressData","districts","city","district","window","China_AREA","isCreate","uiName","apiUrl","id","info","xhr","j","msg_1","isOk","msg","show","close","load","cb","get","result","_componentTag","history","back","del","utils","getFormFieldValue","showConfirm","dele","xhr_upload","BaseFileUploader","radomId","action","accpectFileType","limitFileType","fileSize","fileName","$fileObj","$blob","buttonBottom","limitSize","progress","errMsg","errStatus","newlyId","$uploadOk_callback","json","imgUrl","defaultCallBack","FileUploader","Math","round","random","newV","ext","pop","RegExp","test","set","msg_2","changeByte","err","onUploadInputChange","fileInput","files","onFileGet","onDrop","_a","dataTransfer","file","size","limit","index","toFixed","indexOf","substr","substring","doUpload","fd","FormData","append","XMLHttpRequest","onreadystatechange","requestHandler","delegate","open","onprogress","p","loaded","total","send","fileUploader","HtmlEditor","uploadImageActionUrl","toolbarEl","body","iframeEl","iframeDoc","sourceEditor","mode","grayImg","isGray","item","color","contentWindow","onload","designMode","addEventListener","items","clipboardData","getAsFile","img","changeBlobImageQuality","newBlob","options","components","extendOptions","uploadOk_callback","format","ajResources","imgPerfix","$fileName","bind","MutationObserver","mutationsList","observer","observe","attributes","childList","subtree","characterData","setIframeBody","oninput","uploadImgMgr","uploadLayer","getValue","cleanWord","encode","replace","encodeURIComponent","setMode","remove","onToolBarClk","clsName","prompt","fullUrl","HtmlSanitizer","SanitizeHtml","querySelectorAll","remotePicArr","Array","srcs","imgEl","src","getAttribute","post","_arr","pics","join","para","execCommand","focus","onFontsizeChoserClk","els","children","onFontColorPicker","onFontBgColorPicker","onFontfamilyChoserClk","menuPanel","parentNode","display","setTimeout","createColorPickerHTML","e","f","cl","h","a","k","imgHeader","ImgFileUploader","imgSrc","imgMaxWidth","imgMaxHeight","jpeg","gif","png","propsFactory","beforeCreate","width","height","watchFactory","imgBase64Str","isPic","readBase64","reader","FileReader","fileReader","readAsDataURL","uploadUrl","imgName","imgId","imgPlace","obj","uploadControl","maxSize","maxHeight","maxWidth","callback","$children","Object","selectedIndex","_el","cssSelector","selectOption","console","log","selected","form_1","Validator","checkEveryField","tagName","isIgnoreEl","check","errorElements","showError","removeError","message","insertBefore","nextSibling","setAttribute","removeAttribute","disabled","field","validity","valueMissing","typeMismatch","tooShort","tooLong","badInput","stepMismatch","rangeOverflow","rangeUnderflow","patternMismatch","onSubmit","fields","elements","hasErrors"],"mappings":"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"}