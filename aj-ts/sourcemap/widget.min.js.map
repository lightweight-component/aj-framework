{"version":3,"file":"../dist/widget.min.js","sources":["widget.min.js"],"sourcesContent":["\"use strict\";\n/**\n * 折叠菜单\n */\n;\n(function () {\n    Vue.component('aj-accordion-menu', {\n        template: '<ul class=\"aj-accordion-menu\" @click=\"onClk\"><slot></slot></ul>',\n        methods: {\n            onClk: function ($event) {\n                this.children = this.$el.children;\n                highlightSubItem($event);\n                var _btn = $event.target;\n                if (_btn && _btn.tagName == 'H3' && _btn.parentNode.tagName == 'LI') {\n                    _btn = $event.target;\n                    _btn = _btn.parentNode;\n                    for (var btn, i = 0, j = this.children.length; i < j; i++) {\n                        btn = this.children[i];\n                        var ul = btn.querySelector('ul');\n                        if (btn == _btn) {\n                            if (btn.className.indexOf('pressed') != -1) {\n                                btn.classList.remove('pressed'); // 再次点击，隐藏！\n                                if (ul)\n                                    ul.style.height = '0px';\n                            }\n                            else {\n                                if (ul)\n                                    ul.style.height = ul.scrollHeight + 'px';\n                                btn.classList.add('pressed');\n                            }\n                        }\n                        else {\n                            btn.classList.remove('pressed');\n                            if (ul)\n                                ul.style.height = '0px';\n                        }\n                    }\n                }\n                else\n                    return;\n            }\n        }\n    });\n    /**\n     * 内部子菜单的高亮\n     *\n     * @param $event\n     */\n    function highlightSubItem($event) {\n        var _a;\n        var li, el = $event.target;\n        if (el.tagName == 'A' && el.getAttribute('target')) {\n            li = el.parentNode;\n            (_a = li.parentNode) === null || _a === void 0 ? void 0 : _a.$('li', function (_el) {\n                if (_el == li)\n                    _el.classList.add('selected');\n                else\n                    _el.classList.remove('selected');\n            });\n        }\n    }\n})();\n\n\"use strict\";\n/**\n * 调整正文字体大小\n */\nVue.component('aj-adjust-font-size', {\n    template: \"\\n        <div class=\\\"aj-adjust-font-size\\\" @click=\\\"onClk\\\">\\n            <span>\\u5B57\\u4F53\\u5927\\u5C0F</span>\\n            <ul>\\n                <li><label><input type=\\\"radio\\\" name=\\\"fontSize\\\" /> \\u5C0F</label></li>\\n                <li><label><input type=\\\"radio\\\" name=\\\"fontSize\\\" /> \\u4E2D</label></li>\\n                <li><label><input type=\\\"radio\\\" name=\\\"fontSize\\\" /> \\u5927</label></li>\\n            </ul>\\n        </div>\\n    \",\n    props: {\n        articleTarget: { type: String, default: 'article p' } // 正文所在的位置，通过 CSS Selector 定位\n    },\n    methods: {\n        onClk: function (e) {\n            var _this = this;\n            var el = e.target, target = el.innerHTML;\n            var setFontSize = function (fontSize) {\n                document.body.$(_this.$props.articleTarget, function (p) { return p.style.fontSize = fontSize; });\n            };\n            if (el.tagName != 'LABEL')\n                el = el.up('label');\n            if (el.innerHTML.indexOf('大') != -1)\n                setFontSize('12pt');\n            else if (el.innerHTML.indexOf('中') != -1)\n                setFontSize('10.5pt');\n            else if (el.innerHTML.indexOf('小') != -1)\n                setFontSize('9pt');\n        }\n    }\n});\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var widget;\n    (function (widget) {\n        var back2topTimerId = 0;\n        /**\n         *  回到顶部  <a href=\"###\" @click=\"go\">回到顶部</a>\n         */\n        function back2top() {\n            var top = 0;\n            var speed = 0;\n            back2topTimerId && window.clearInterval(back2topTimerId);\n            back2topTimerId = window.setInterval(function () {\n                top = document.documentElement.scrollTop || document.body.scrollTop;\n                speed = Math.floor((0 - top) / 8);\n                if (top === 0)\n                    clearInterval(back2topTimerId);\n                else\n                    document.documentElement.scrollTop = document.body.scrollTop = top + speed;\n            }, 20);\n        }\n        widget.back2top = back2top;\n    })(widget = aj.widget || (aj.widget = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nVue.component('aj-widget-baidu-search', {\n    template: \"\\n        <div class=\\\"aj-widget-baidu-search\\\"><form method=\\\"GET\\\" action=\\\"http://www.baidu.com/baidu\\\" onsubmit=\\\"//return g(this);\\\">\\n            <input type=\\\"text\\\" name=\\\"word\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" />\\n            <input name=\\\"tn\\\" value=\\\"bds\\\" type=\\\"hidden\\\" />\\n            <input name=\\\"cl\\\" value=\\\"3\\\" type=\\\"hidden\\\" />\\n            <input name=\\\"ct\\\" value=\\\"2097152\\\" type=\\\"hidden\\\" />\\n            <input name=\\\"si\\\" :value=\\\"getSiteDomainName\\\" type=\\\"hidden\\\" />\\n            <div class=\\\"searchBtn\\\" onclick=\\\"this.parentNode.submit();\\\"></div>\\n        </form></div>\\n    \",\n    props: ['siteDomainName'],\n    computed: {\n        getSiteDomainName: function () {\n            return this.siteDomainName || location.host || document.domain;\n        }\n    }\n});\n\n\"use strict\";\n\n\"use strict\";\nVue.component(\"aj-expander\", {\n    template: \"\\n        <div class=\\\"aj-expander\\\" :style=\\\"'height:' + (expended ? openHeight : closeHeight) + 'px;'\\\">\\n            <div :class=\\\"expended ? 'closeBtn' : 'openBtn'\\\" @click=\\\"expended = !expended;\\\"></div>\\n            <slot></slot>\\n        </div>\\n    \",\n    data: function () {\n        return { expended: false };\n    },\n    props: {\n        openHeight: { type: Number, \"default\": 200 },\n        closeHeight: { type: Number, \"default\": 50 }\n    }\n});\n\n\"use strict\";\nVue.component('aj-process-line', {\n    template: \"\\n        <div class=\\\"aj-process-line\\\">\\n            <div class=\\\"process-line\\\">\\n                <div v-for=\\\"(item, index) in items\\\" :class=\\\"{current: index == current, done: index < current}\\\">\\n                    <span>{{index + 1}}</span><p>{{item}}</p>\\n                </div>\\n            </div>\\n        </div>    \\n    \",\n    props: {\n        items: {\n            type: Array,\n            default: function () {\n                return ['Step 1', 'Step 2', 'Step 3'];\n            }\n        }\n    },\n    data: function () {\n        return {\n            current: 0\n        };\n    },\n    methods: {\n        /**\n         *\n         * @param this\n         * @param i\n         */\n        go: function (i) {\n            this.current = i;\n        },\n        /**\n         *\n         * @param this\n         */\n        perv: function () {\n            var perv = this.current - 1;\n            if (perv < 0)\n                perv = this.items.length - 1;\n            this.go(perv);\n        },\n        /**\n         *\n         * @param this `\n         */\n        next: function () {\n            var next = this.current + 1;\n            if (this.items.length == next)\n                next = 0; // 循环\n            this.go(next);\n        }\n    }\n});\n\n\"use strict\";\n/**\n * Tab 组件\n *\n * 参考：https://vuejs.org/v2/guide/components.html#Content-Distribution-with-Slots\n */\nVue.component('aj-tab', {\n    template: \"\\n        <div :class=\\\"isVertical ? 'aj-simple-tab-vertical' : 'aj-tab' \\\">\\n\\t      <button v-for=\\\"tab in tabs\\\" v-bind:key=\\\"tab.name\\\"\\n\\t        v-bind:class=\\\"['tab-button', { active: currentTab.name === tab.name }]\\\"\\n\\t        v-on:click=\\\"currentTab = tab\\\">{{tab.name}}\\n\\t      </button>\\n\\t      <component v-bind:is=\\\"currentTab.component\\\" class=\\\"tab\\\"></component>\\n        </div>\\n    \",\n    props: {\n        isVertical: Boolean // 是否垂直方向的布局，默认 false,\n    },\n    data: function () {\n        return {\n            tabs: [],\n            currentTab: {}\n        };\n    },\n    mounted: function () {\n        var arr = this.$slots.default;\n        for (var i = 0; i < arr.length; i++) {\n            var el = arr[i];\n            if (el.tag === 'textarea') {\n                this.tabs.push({\n                    name: el.data.attrs['data-title'],\n                    component: {\n                        template: '<div>' + el.children[0].text + \"</div>\"\n                    }\n                });\n            }\n        }\n        this.currentTab = this.tabs[0];\n    }\n});\n// aj.widget.tabable = (() => {\n//     // 按次序选中目标\n//     var select = (_new) => {\n//         var oldSelected = _new.parentNode.$('.selected');\n//         if (_new === oldSelected) // 没变化\n//             return;\n//         oldSelected && oldSelected.classList.remove('selected');\n//         _new.classList.add('selected');\n//     }\n//     return {\n//         mounted(this: Vue) {\n//             var ul = <HTMLElement>this.$el.$('.aj-simple-tab-horizontal > ul');\n//             ul.onclick = (e: Event) => {\n//                 let el = <HTMLElement>e.target;\n//                 select(el);\n//                 let index = Array.prototype.indexOf.call(el.parentElement?.children, el);\n//                 let _new = this.$el.$('.aj-simple-tab-horizontal > div')?.children[index];\n//                 select(_new);\n//             };\n//             // @ts-ignore\n//             ul.onclick({ target: ul.children[0] });\n//             //this.$options.watch.selected.call(this, 0);\n//         }\n//     };\n// })();\n\n\"use strict\";\nVue.component('aj-avatar', {\n    template: \"\\n        <a :href=\\\"avatar\\\" target=\\\"_blank\\\">\\n            <img :src=\\\"avatar\\\" style=\\\"max-width:50px;max-height:60px;vertical-align: middle;\\\" @mouseenter=\\\"mouseEnter\\\" @mouseleave=\\\"mouseLeave\\\" />\\n        </a>\\n    \",\n    props: {\n        avatar: { type: String, required: true }\n    },\n    methods: {\n        mouseEnter: function () {\n            if (aj.img.imageEnlarger)\n                aj.img.imageEnlarger.imgUrl = this.avatar;\n        },\n        mouseLeave: function () {\n            if (aj.img.imageEnlarger)\n                aj.img.imageEnlarger.imgUrl = null;\n        }\n    }\n});\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var img;\n    (function (img) {\n        function initImageEnlarger() {\n            img.imageEnlarger = new Vue({\n                el: document.body.appendChild(document.createElement('div')),\n                template: '<div class=\"aj-image-large-view\"><div><img :src=\"imgUrl\" /></div></div>',\n                data: {\n                    imgUrl: null\n                },\n                mounted: function () {\n                    var _this = this;\n                    // @ts-ignore\n                    document.addEventListener('mousemove', aj.throttle(function (e) {\n                        if (_this.imgUrl) {\n                            var w = 0, imgWidth = _this.$el.$('img').clientWidth;\n                            if (imgWidth > e.pageX)\n                                w = imgWidth;\n                            var el = _this.$el.$('div');\n                            el.style.top = (e.pageY + 20) + 'px';\n                            el.style.left = (e.pageX - el.clientWidth + w) + 'px';\n                        }\n                    }, 50, 5000), false);\n                }\n            });\n            return img.imageEnlarger;\n        }\n        img.initImageEnlarger = initImageEnlarger;\n    })(img = aj.img || (aj.img = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n/**\n * 图片工具库\n */\nvar aj;\n(function (aj) {\n    var img;\n    (function (img_1) {\n        /**\n         * 限制图片大小\n         *\n         * @param originWidth\n         * @param originHeight\n         * @param maxWidth\n         * @param maxHeight\n         */\n        function fitSize(originWidth, originHeight, maxWidth, maxHeight) {\n            // 目标尺寸\n            var targetWidth = originWidth, targetHeight = originHeight;\n            // 图片尺寸超过400x400的限制\n            if (originWidth > maxWidth || originHeight > maxHeight) {\n                if (originWidth / originHeight > maxWidth / maxHeight) {\n                    // 更宽，按照宽度限定尺寸\n                    targetWidth = maxWidth;\n                    targetHeight = Math.round(maxWidth * (originHeight / originWidth));\n                }\n                else {\n                    targetHeight = maxHeight;\n                    targetWidth = Math.round(maxHeight * (originWidth / originHeight));\n                }\n            }\n            return { targetWidth: targetWidth, targetHeight: targetHeight };\n        }\n        img_1.fitSize = fitSize;\n        /**\n         * 图片对象转换为 Canvas\n         *\n         * @param img\n         */\n        function imgObj2Canvas(img) {\n            var _a;\n            var canvas = document.createElement('canvas');\n            canvas.width = img.width;\n            canvas.height = img.height;\n            (_a = canvas.getContext('2d')) === null || _a === void 0 ? void 0 : _a.drawImage(img, 0, 0);\n            return canvas;\n        }\n        img_1.imgObj2Canvas = imgObj2Canvas;\n        /**\n         * 输入图片远程地址，获取成功之后将其转换为 Canvas。\n         * 在回调中得到 Canvas Base64 结果\n         *\n         * @param imgUrl\n         * @param cb\n         * @param format\n         * @param quality\n         */\n        function imageToCanvas(imgUrl, cb, format, quality) {\n            if (format === void 0) { format = 'image/jpeg'; }\n            if (quality === void 0) { quality = .9; }\n            var img = new Image();\n            img.onload = function () {\n                var canvas = imgObj2Canvas(img);\n                cb(canvas.toDataURL(format, quality));\n            };\n            img.src = imgUrl;\n        }\n        img_1.imageToCanvas = imageToCanvas;\n        /**\n         * 输入图片远程地址，获取成功之后将其转换为 Blob。\n         * 在回调中得到 Blob 结果\n         *\n         * @param imgUrl\n         * @param cb\n         */\n        function imageElToBlob(imgUrl, cb) {\n            imageToCanvas(imgUrl, function (canvas) { return cb(dataURLtoBlob(canvas)); });\n        }\n        img_1.imageElToBlob = imageElToBlob;\n        /**\n         * 改变 blob 图片的质量，为考虑兼容性\n         *\n         * @param blob 图片对象\n         * @param callback 转换成功回调，接收一个新的blob对象作为参数\n         * @param format  目标格式，mime格式\n         * @param quality 介于0-1之间的数字，用于控制输出图片质量，仅当格式为jpg和webp时才支持质量，png时quality参数无效\n         */\n        function changeBlobImageQuality(blob, cb, format, quality) {\n            if (format === void 0) { format = 'image/jpeg'; }\n            if (quality === void 0) { quality = .9; }\n            var fr = new FileReader();\n            fr.onload = function (_e) {\n                var e = _e;\n                var dataURL = e.target.result;\n                var img = new Image();\n                img.onload = function () {\n                    var canvas = imgObj2Canvas(img);\n                    cb && cb(dataURLtoBlob(canvas.toDataURL(format, quality)));\n                };\n                img.src = dataURL;\n            };\n            fr.readAsDataURL(blob); // blob 转 dataURL\n        }\n        img_1.changeBlobImageQuality = changeBlobImageQuality;\n        // EXIF {\n        //     getTag(ob: any, ori: string):number;\n        // }\n        /**\n         * 获取图片的方向\n         *\n         * @param img\n         */\n        function getPhotoOrientation(img) {\n            var orient;\n            EXIF.getData(img, function () {\n                //@ts-ignore\n                orient = EXIF.getTag(this, 'Orientation');\n            });\n            //@ts-ignore\n            return orient;\n        }\n        img_1.getPhotoOrientation = getPhotoOrientation;\n        /**\n         * 调整图片方向，返回新图片的 Base64 编码\n         *\n         * @param img\n         * @param orient\n         */\n        function rotate(img, orient) {\n            var width = img.width, height = img.height;\n            var canvas = document.createElement('canvas'), ctx = canvas.getContext(\"2d\");\n            // set proper canvas dimensions before transform & export\n            if ([5, 6, 7, 8].indexOf(orient) > -1) {\n                canvas.width = height;\n                canvas.height = width;\n            }\n            else {\n                canvas.width = width;\n                canvas.height = height;\n            }\n            switch (orient) { // transform context before drawing image\n                case 2:\n                    ctx.transform(-1, 0, 0, 1, width, 0);\n                    break;\n                case 3:\n                    ctx.transform(-1, 0, 0, -1, width, height);\n                    break;\n                case 4:\n                    ctx.transform(1, 0, 0, -1, 0, height);\n                    break;\n                case 5:\n                    ctx.transform(0, 1, 1, 0, 0, 0);\n                    break;\n                case 6:\n                    ctx.transform(0, 1, -1, 0, height, 0);\n                    break;\n                case 7:\n                    ctx.transform(0, -1, -1, 0, height, width);\n                    break;\n                case 8:\n                    ctx.transform(0, -1, 1, 0, 0, width);\n                    break;\n                default:\n                    ctx.transform(1, 0, 0, 1, 0, 0);\n            }\n            ctx.drawImage(img, 0, 0);\n            return canvas.toDataURL('image/jpeg');\n        }\n        img_1.rotate = rotate;\n        /**\n         * 图片压缩\n         *\n         * @param imgObj\n         */\n        function compress(imgObj, vueCmp) {\n            var maxWidth = 1000, maxHeight = 1500;\n            var fitSizeObj = fitSize(imgObj.width, imgObj.height, maxWidth, maxHeight);\n            var targetWidth = fitSizeObj.targetWidth, targetHeight = fitSizeObj.targetHeight;\n            var orient = getPhotoOrientation(imgObj); // 获取照片的拍摄方向\n            if (orient == 6) {\n                targetWidth = fitSizeObj.targetHeight;\n                targetHeight = fitSizeObj.targetWidth;\n            }\n            var comp = new Image();\n            comp.onload = function () {\n                var _a;\n                var canvas = document.createElement('canvas');\n                canvas.width = targetWidth;\n                canvas.height = targetHeight;\n                (_a = canvas.getContext('2d')) === null || _a === void 0 ? void 0 : _a.drawImage(comp, 0, 0, targetWidth, targetHeight); // 图片压缩\n                canvas.toBlob(function (blob) {\n                    vueCmp.$blob = blob;\n                }, vueCmp.$fileType || 'image/jpeg');\n            };\n            comp.src = rotate(imgObj, orient);\n        }\n        img_1.compress = compress;\n        /**\n         *\n         * @param dataurl\n         */\n        function dataURLtoBlob(dataurl) {\n            // @ts-ignore\n            var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1], bstr = atob(arr[1]), len = bstr.length, u8arr = new Uint8Array(len);\n            while (len--)\n                u8arr[len] = bstr.charCodeAt(len);\n            return new Blob([u8arr], { type: mime });\n        }\n    })(img = aj.img || (aj.img = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nVue.component('aj-layer', {\n    template: '<div class=\"aj-modal hide\" @click=\"close\"><div><slot></slot></div></div>',\n    props: {\n        notCloseWhenTap: Boolean,\n        cleanAfterClose: Boolean // 关闭是否清除\n    },\n    methods: {\n        /**\n         * 显示浮层\n         *\n         * @param this\n         * @param cfg\n         */\n        show: function (cfg) {\n            var _this = this;\n            var my = Number(getComputedStyle(this.$el).zIndex); // 保证最后显示的总在最前面\n            document.body.$('.aj-modal', function (i) {\n                if (i != _this.$el) {\n                    var o = Number(getComputedStyle(i).zIndex);\n                    if (o >= my)\n                        _this.$el.style.zIndex = String(o + 1);\n                }\n            });\n            this.$el.classList.remove('hide');\n            this.BUS && this.BUS.$emit('aj-layer-closed', this);\n            if (cfg && cfg.afterClose)\n                this.afterClose = cfg && cfg.afterClose;\n        },\n        /**\n         * 关闭浮层\n         *\n         * @param this\n         * @param e\n         */\n        close: function (e) {\n            var isClosed = false;\n            if (!e) {\n                isClosed = aj.widget.msgbox.$options.methods.close.call(this, {\n                    target: document.body.$('.aj-modal')\n                });\n            }\n            else {\n                // @ts-ignore\n                if (e.isForceClose || !this.notCloseWhenTap)\n                    isClosed = aj.widget.msgbox.$options.methods.close.apply(this, arguments);\n            }\n            if (isClosed && this.cleanAfterClose) {\n                this.$el.parentNode && this.$el.parentNode.removeChild(this.$el);\n                this.$destroy();\n            }\n        }\n    }\n});\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var widget;\n    (function (widget) {\n        document.addEventListener(\"DOMContentLoaded\", function () {\n            var msgEl = document.createElement('div');\n            msgEl.className = 'aj-topMsg';\n            msgEl.setAttribute('v-html', \"showText\");\n            document.body.appendChild(msgEl);\n            aj.msg = new Vue({\n                el: msgEl,\n                data: {\n                    showText: '' // 显示的内容\n                },\n                methods: {\n                    show: function (text, cfg) {\n                        var _this = this;\n                        this.showText = text;\n                        var el = this.$el;\n                        setTimeout(function () {\n                            el.classList.remove('fadeOut');\n                            el.classList.add('fadeIn');\n                        }, 0);\n                        setTimeout(function () {\n                            el.classList.remove('fadeIn');\n                            el.classList.add('fadeOut');\n                            cfg && cfg.afterClose && cfg.afterClose(_this);\n                        }, cfg && cfg.showTime || 3000);\n                    }\n                }\n            });\n        });\n    })(widget = aj.widget || (aj.widget = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n/**\n * 消息框、弹窗、对话框组件\n */\nvar aj;\n(function (aj) {\n    var widget;\n    (function (widget) {\n        var modal;\n        (function (modal) {\n            document.addEventListener(\"DOMContentLoaded\", function () {\n                document.body.appendChild(document.createElement('div')).className = 'alertHolder';\n                // 全屏幕弹窗，居中显示文字。\n                // 不应直接使用该组件，而是执行 aj.showOk\n                modal.msgbox = new Vue({\n                    el: '.alertHolder',\n                    template: \"\\n                <div class=\\\"aj-modal hide\\\" @click=\\\"close\\\">\\n                    <div>\\n                        <div v-html=\\\"showText\\\"></div>\\n                        <div class=\\\"aj-btnsHolder\\\">\\n                            <button v-show=\\\"showOk\\\"  @click=\\\"onBtnClk\\\" class=\\\"ok\\\">\\u786E\\u5B9A</button>\\n                            <button v-show=\\\"showYes\\\" @click=\\\"onBtnClk\\\" class=\\\"yes\\\">{{showSave? '\\u4FDD\\u5B58': '\\u662F'}}</button>\\n                            <button v-show=\\\"showNo\\\"  @click=\\\"onBtnClk\\\" class=\\\"no\\\">{{showSave? '\\u5426': '\\u5426'}}</button>\\n                        </div>\\n                    </div>\\n                </div>\\n            \",\n                    data: {\n                        showText: '',\n                        afterClose: null,\n                        showOk: false,\n                        showYes: false,\n                        showNo: false,\n                        showSave: false // 是否显示“保存”按钮\n                    },\n                    methods: {\n                        /**\n                         * 显示\n                         *\n                         * @param this\n                         * @param text  显示文字，支持 HTML 标签\n                         * @param cfg   配置项，可选的\n                         */\n                        show: function (text, cfg) {\n                            this.showText = text;\n                            this.$el.classList.remove('hide');\n                            cfg && aj.apply(this, cfg);\n                            return this;\n                        },\n                        /**\n                         * 关闭窗体\n                         *\n                         * @param this\n                         * @param ev    事件对象，可选的\n                         */\n                        close: function (ev) {\n                            if (!ev) { // 直接关闭\n                                this.$el.classList.add('hide');\n                                this.afterClose && this.afterClose(null, this);\n                                return true;\n                            }\n                            var div = ev.target; // check if in the box\n                            if (div && div.className.indexOf('modal') != -1) {\n                                this.$el.classList.add('hide');\n                                this.afterClose && this.afterClose(div, this);\n                                return true;\n                            }\n                            return false;\n                        },\n                        onBtnClk: function (ev) {\n                            switch (ev.target.className) {\n                                case 'ok':\n                                    this.onOkClk && this.onOkClk(ev, this);\n                                    break;\n                                case 'no':\n                                    this.onNoClk && this.onNoClk(ev, this);\n                                    break;\n                                case 'yes':\n                                    this.onYesClk && this.onYesClk(ev, this);\n                                    break;\n                            }\n                        }\n                    }\n                });\n            });\n            /**\n             * 顯示確定的對話框\n             *\n             * @param {String} text         显示的文本\n             * @param {Function} callback   回调函数\n             */\n            aj.alert = function (text, callback) {\n                var alertObj = modal.msgbox.show(text, {\n                    showYes: false,\n                    showNo: false,\n                    showOk: true,\n                    onOkClk: function () {\n                        alertObj.$el.classList.add('hide');\n                        callback && callback();\n                    }\n                });\n            };\n            /**\n             * 顯示“是否”選擇的對話框\n             *\n             * @param {String} text         显示的文本\n             * @param {Function} callback   回调函数\n             */\n            aj.showConfirm = function (text, callback, showSave) {\n                var alertObj = modal.msgbox.show(text, {\n                    showYes: true,\n                    showNo: true,\n                    showOk: false,\n                    showSave: false,\n                    onYesClk: function (ev) {\n                        alertObj.$el.classList.add('hide');\n                        callback && callback(alertObj.$el, ev);\n                    },\n                    onNoClk: function () {\n                        alertObj.$el.classList.add('hide');\n                    }\n                });\n            };\n            //----------------------------------------------------------------------------------------\n            /**\n            * 顶部出现，用于后台提示信息多\n            */\n            document.addEventListener(\"DOMContentLoaded\", function () {\n                var msgEl = document.createElement('div');\n                msgEl.className = 'aj-topMsg';\n                msgEl.setAttribute('v-html', \"showText\");\n                document.body.appendChild(msgEl);\n                aj.msg = new Vue({\n                    el: msgEl,\n                    data: { showText: '' },\n                    methods: {\n                        show: function (text, cfg) {\n                            var _this = this;\n                            this.showText = text;\n                            var el = this.$el;\n                            setTimeout(function () {\n                                el.classList.remove('fadeOut');\n                                el.classList.add('fadeIn');\n                            }, 0);\n                            setTimeout(function () {\n                                el.classList.remove('fadeIn');\n                                el.classList.add('fadeOut');\n                                cfg && cfg.afterClose && cfg.afterClose(el, _this);\n                            }, cfg && cfg.showTime || 3000);\n                        }\n                    }\n                });\n            });\n        })(modal = widget.modal || (widget.modal = {}));\n    })(widget = aj.widget || (aj.widget = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n/**\n * 调整正文字体大小\n */\nVue.component('aj-adjust-font-size', {\n    template: \"\\n        <div class=\\\"aj-adjust-font-size\\\">\\n            <span>\\u5B57\\u4F53\\u5927\\u5C0F</span>\\n            <ul @click=\\\"onClk\\\">\\n                <li><label><input type=\\\"radio\\\" name=\\\"fontSize\\\" /> \\u5C0F</label></li>\\n                <li><label><input type=\\\"radio\\\" name=\\\"fontSize\\\" /> \\u4E2D</label></li>\\n                <li><label><input type=\\\"radio\\\" name=\\\"fontSize\\\" /> \\u5927</label></li>\\n            </ul>\\n        </div>\\n    \",\n    props: {\n        articleTarget: { type: String, default: 'article p' } // 正文所在的位置，通过 CSS Selector 定位\n    },\n    methods: {\n        onClk: function (e) {\n            var _this = this;\n            var el = e.target;\n            var setFontSize = function (fontSize) {\n                document.body.$(_this.$props.articleTarget, function (p) { return p.style.fontSize = fontSize; });\n            };\n            if (el.tagName == 'LABEL' || el.tagName == 'input') {\n                if (el.tagName != 'LABEL')\n                    el = el.up('label');\n                if (el.innerHTML.indexOf('大') != -1)\n                    setFontSize('12pt');\n                else if (el.innerHTML.indexOf('中') != -1)\n                    setFontSize('10.5pt');\n                else if (el.innerHTML.indexOf('小') != -1)\n                    setFontSize('9pt');\n            }\n        }\n    }\n});\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var widget;\n    (function (widget) {\n        var back2topTimerId = 0;\n        /**\n         *  回到顶部  <a href=\"###\" @click=\"go\">回到顶部</a>\n         */\n        function back2top() {\n            var top = 0;\n            var speed = 0;\n            back2topTimerId && window.clearInterval(back2topTimerId);\n            back2topTimerId = window.setInterval(function () {\n                top = document.documentElement.scrollTop || document.body.scrollTop;\n                speed = Math.floor((0 - top) / 8);\n                if (top === 0)\n                    clearInterval(back2topTimerId);\n                else\n                    document.documentElement.scrollTop = document.body.scrollTop = top + speed;\n            }, 20);\n        }\n        widget.back2top = back2top;\n        /**\n         * 渲染浮动的按钮\n         */\n        function initBack2top() {\n            var vue = new Vue({\n                el: document.body.appendChild(document.createElement('div')),\n                template: '<div @click=\"clk\" class=\"aj-widget-back2top\" title=\"回到顶部\"><i class=\"fa fa-arrow-up\" aria-hidden=\"true\"></i> </div>',\n                methods: {\n                    clk: back2top\n                }\n            });\n            var handler = aj.throttle(function () {\n                vue.$el.style.top = (document.body.scrollTop + 100) + \"px\";\n            }, 2000, 0);\n            // @ts-ignore\n            window.addEventListener('scroll', handler);\n            handler();\n        }\n        widget.initBack2top = initBack2top;\n    })(widget = aj.widget || (aj.widget = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var widget;\n    (function (widget) {\n        var page;\n        (function (page) {\n            var TraditionalChinese;\n            (function (TraditionalChinese_1) {\n                /*\n                    正体中文\n                    <span>\n                         <a href=\"javascript:;\" onclick=\"aj.widget.page.TraditionalChinese.toSimpleChinese(this);\" class=\"simpleChinese selected\">简体中文</a>\n                        /<a href=\"javascript:;\" onclick=\"aj.widget.page.TraditionalChinese.toChinese(this);\" class=\"Chinese\">正体中文</a>\n                    </span>\n                */\n                var TraditionalChinese = 1, SimpleChinese = 2;\n                /**\n                 *\n                 * 默认是否正体中文：true为正体；false简体。 HTTP\n                 * 头读取：Request.ServerVariables(\"http_accept_language\")\n                 *\n                 * @return {Boolean}\n                 */\n                function getClientLanguage() {\n                    // @ts-ignore\n                    var s = navigator.userLanguage || navigator.language;\n                    switch (s.toLowerCase()) {\n                        case 'zh-tw':\n                            return TraditionalChinese;\n                        case 'zh-cn':\n                            return SimpleChinese;\n                        default:\n                            return 0;\n                    }\n                }\n                var Cookie = {\n                    set: function (name, val) {\n                        var exp = new Date();\n                        exp.setDate(exp.getDate() + 600 * 1000);\n                        document.cookie = name + \"=\" + escape(val) + \";expires=\" + exp.toUTCString();\n                    },\n                    del: function (name) {\n                        document.cookie = name + \"=;expires=\" + (new Date(0)).toUTCString();\n                    },\n                    get: function (name) {\n                        var cookieArray = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]*)(;|$)\"));\n                        return cookieArray != null ? unescape(cookieArray[2]) : \"\";\n                    }\n                };\n                /**\n                 * 转换对象，使用递归，逐层剥到文本\n                 *\n                 * @param {HTMLElement} obj 从document.body开始，\n                 */\n                function walk(el, coverntFn) {\n                    var chidlNodes = el.childNodes;\n                    var node;\n                    for (var i = 0, j = chidlNodes.length; i < j; i++) {\n                        node = chidlNodes.item(i);\n                        // || (node == $$.big5.el)\n                        if ((\"||BR|HR|TEXTAREA|\".indexOf(\"|\" + node.tagName + \"|\")) > 0)\n                            continue;\n                        if (node.title)\n                            node.title = coverntFn(node.title);\n                        // @ts-ignore\n                        else if (node.alt)\n                            // @ts-ignore\n                            node.alt = coverntFn(node.alt);\n                        // @ts-ignore\n                        else if (node.tagName == \"INPUT\" && node.value != \"\" && node.type != \"text\" && node.type != \"hidden\")\n                            // @ts-ignore\n                            node.value = coverntFn(node.value);\n                        else if (node.nodeType == 3)\n                            // @ts-ignore\n                            node.data = coverntFn(node.data);\n                        else\n                            walk(node, coverntFn);\n                    }\n                }\n                /**\n                 * 一对一替换字符\n                 *\n                 * @param text      输入的文本\n                 * @param oldChars  原来所在的字符集\n                 * @param newChars  要替换到的新字符集\n                 */\n                function translateText(text, oldChars, newChars) {\n                    var str = [];\n                    var char, charIndex, result;\n                    for (var i = 0, j = text.length; i < j; i++) {\n                        char = text.charAt(i);\n                        charIndex = oldChars.indexOf(char);\n                        result = newChars.charAt(charIndex);\n                        str.push(charIndex != -1 ? result : char); // 匹配不到，用原来的字符\n                    }\n                    return str.join('');\n                }\n                var isLoaded = false;\n                function loadChars(cb, el) {\n                    var _a;\n                    if (isLoaded)\n                        cb();\n                    else\n                        aj.loadScript(\"https://framework.ajaxjs.com/src/widget/page/ChineseChars.js\", \"\", function () {\n                            isLoaded = true;\n                            cb();\n                        });\n                    ((_a = el.up('span')) === null || _a === void 0 ? void 0 : _a.$(aj.SELECTED_CSS)).classList.remove(aj.SELECTED);\n                    el.classList.add(aj.SELECTED);\n                }\n                var self = aj.widget.page.TraditionalChinese;\n                var currentLanguageState; // 当前语言选择\n                var cookieName = 'ChineseType';\n                currentLanguageState = getClientLanguage();\n                function toSimpleChinese(el) {\n                    if (currentLanguageState === SimpleChinese) // 已经是，无须进行\n                        return;\n                    loadChars(function () {\n                        //@ts-ignore\n                        walk(document.body, translateText.delegate(null, self.正体中文, self.简化中文));\n                        currentLanguageState = SimpleChinese;\n                        Cookie.set(cookieName, currentLanguageState + \"\");\n                    }, el);\n                }\n                TraditionalChinese_1.toSimpleChinese = toSimpleChinese;\n                function toChinese(el) {\n                    if (currentLanguageState === TraditionalChinese) // 已经是，无须进行\n                        return;\n                    loadChars(function () {\n                        //@ts-ignore\n                        walk(document.body, translateText.delegate(null, self.简化中文, self.正体中文));\n                        currentLanguageState = TraditionalChinese;\n                        Cookie.set(cookieName, currentLanguageState + \"\");\n                    }, el);\n                }\n                TraditionalChinese_1.toChinese = toChinese;\n                /**\n                 * 初始化\n                 */\n                function init() {\n                    var valueInCookie = Cookie.get(cookieName);\n                    if (valueInCookie)\n                        valueInCookie = Number(valueInCookie);\n                    // 浏览器是繁体中文的，或者 Cookie 设置了是正体的，进行转换（当然默认文本是简体的）\n                    if (currentLanguageState == TraditionalChinese || valueInCookie == TraditionalChinese)\n                        toChinese(document.querySelector(\".Chinese\"));\n                }\n                TraditionalChinese_1.init = init;\n            })(TraditionalChinese = page.TraditionalChinese || (page.TraditionalChinese = {}));\n        })(page = widget.page || (widget.page = {}));\n    })(widget = aj.widget || (aj.widget = {}));\n})(aj || (aj = {}));\n"],"names":["aj","Vue","component","template","methods","onClk","$event","li","this","children","$el","el","target","tagName","getAttribute","parentNode","_a","$","_el","classList","add","remove","_btn","btn","i","j","length","ul","querySelector","className","indexOf","style","height","scrollHeight","props","articleTarget","type","String","default","e","_this","setFontSize","innerHTML","fontSize","document","body","$props","p","up","back2topTimerId","widget","back2top","top","speed","window","clearInterval","setInterval","documentElement","scrollTop","Math","floor","computed","getSiteDomainName","siteDomainName","location","host","domain","data","expended","openHeight","Number","closeHeight","items","Array","current","go","perv","next","isVertical","Boolean","tabs","currentTab","mounted","arr","$slots","tag","push","name","attrs","text","avatar","required","mouseEnter","img","imageEnlarger","imgUrl","mouseLeave","initImageEnlarger","appendChild","createElement","addEventListener","throttle","w","imgWidth","clientWidth","pageX","pageY","left","fitSize","originWidth","originHeight","maxWidth","maxHeight","targetWidth","targetHeight","round","imgObj2Canvas","canvas","width","getContext","drawImage","imageToCanvas","cb","format","quality","Image","onload","toDataURL","src","getPhotoOrientation","orient","EXIF","getData","getTag","rotate","ctx","transform","dataURLtoBlob","dataurl","split","mime","match","bstr","atob","len","u8arr","Uint8Array","charCodeAt","Blob","img_1","imageElToBlob","changeBlobImageQuality","blob","fr","FileReader","_e","dataURL","result","readAsDataURL","compress","imgObj","vueCmp","fitSizeObj","comp","toBlob","$blob","$fileType","notCloseWhenTap","cleanAfterClose","show","cfg","my","getComputedStyle","zIndex","o","BUS","$emit","afterClose","close","isClosed","isForceClose","msgbox","$options","apply","arguments","call","removeChild","$destroy","msgEl","setAttribute","msg","showText","setTimeout","showTime","modal","showOk","showYes","showNo","showSave","ev","div","onBtnClk","onOkClk","onNoClk","onYesClk","alert","callback","alertObj","showConfirm","initBack2top","vue","clk","handler","TraditionalChinese","Cookie","isLoaded","currentLanguageState","self","cookieName","walk","coverntFn","node","chidlNodes","childNodes","item","title","alt","value","nodeType","translateText","oldChars","newChars","char","charIndex","str","charAt","join","loadChars","loadScript","SELECTED_CSS","SELECTED","toChinese","delegate","简化中文","正体中文","set","TraditionalChinese_1","page","val","exp","Date","setDate","getDate","cookie","escape","toUTCString","del","get","cookieArray","RegExp","unescape","navigator","userLanguage","language","toLowerCase","getClientLanguage","toSimpleChinese","init","valueInCookie"],"mappings":"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"}