{"version":3,"file":"../dist/list.min.js","sources":["list.min.js"],"sourcesContent":["\"use strict\";\n\n/**\n * 相册列表\n */\nVue.component('aj-attachment-picture-list', {\n    template: html(__makeTemplateObject([\"\\n        <table>\\n            <tr>\\n                <td>\\n                    <div class=\\\"label\\\">\\u76F8\\u518C\\u56FE\\uFF1A</div>\\n                    <ul>\\n                        <li v-for=\\\"pic in pics\\\" style=\\\"float:left;margin-right:1%;text-align:center;\\\">\\n                            <a :href=\\\"picCtx + pic.path\\\" target=\\\"_blank\\\"><img :src=\\\"picCtx + pic.path\\\" style=\\\"max-width: 100px;max-height: 100px;\\\" /></a><br />\\n                            <a href=\\\"###\\\" @click=\\\"delPic(pic.id);\\\">\\u5220 \\u9664</a>\\n                        </li>\\n                    </ul>\\n                </td> \\n                <td>\\n                    <aj-xhr-upload ref=\\\"attachmentPictureUpload\\\" :action=\\\"uploadUrl\\\" :is-img-upload=\\\"true\\\" :img-place=\\\"blankBg\\\"></aj-xhr-upload>\\n                </td>\\n            </tr>\\n        </table>\\n    \"], [\"\\n        <table>\\n            <tr>\\n                <td>\\n                    <div class=\\\"label\\\">\\u76F8\\u518C\\u56FE\\uFF1A</div>\\n                    <ul>\\n                        <li v-for=\\\"pic in pics\\\" style=\\\"float:left;margin-right:1%;text-align:center;\\\">\\n                            <a :href=\\\"picCtx + pic.path\\\" target=\\\"_blank\\\"><img :src=\\\"picCtx + pic.path\\\" style=\\\"max-width: 100px;max-height: 100px;\\\" /></a><br />\\n                            <a href=\\\"###\\\" @click=\\\"delPic(pic.id);\\\">\\u5220 \\u9664</a>\\n                        </li>\\n                    </ul>\\n                </td> \\n                <td>\\n                    <aj-xhr-upload ref=\\\"attachmentPictureUpload\\\" :action=\\\"uploadUrl\\\" :is-img-upload=\\\"true\\\" :img-place=\\\"blankBg\\\"></aj-xhr-upload>\\n                </td>\\n            </tr>\\n        </table>\\n    \"])),\n    props: {\n        picCtx: String,\n        uploadUrl: String,\n        blankBg: String,\n        delImgUrl: String,\n        apiUrl: String\n    },\n    data: function () {\n        return {\n            pics: []\n        };\n    },\n    mounted: function () {\n        this.getData();\n        this.$refs.attachmentPictureUpload.uploadOk_callback = this.getData;\n    },\n    methods: {\n        getData: function () {\n            var _this = this;\n            aj.xhr.get(this.apiUrl, function (j) { return _this.pics = j.result; });\n        },\n        delPic: function (picId) {\n            var _this = this;\n            aj.showConfirm(\"确定删除相册图片？\", function () {\n                aj.xhr.dele(_this.delImgUrl + picId + \"/\", function (j) {\n                    if (j.isOk)\n                        _this.getData(); // 刷新\n                });\n            });\n        }\n    }\n});\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var grid;\n    (function (grid) {\n        Vue.component('aj-simple-grid', {\n            template: html(__makeTemplateObject([\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid ajaxjs-borderTable\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"], [\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid ajaxjs-borderTable\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"])),\n            props: {\n                data: Array,\n                columns: Array,\n                filterKey: String\n            },\n            data: function () {\n                var sortOrders = {};\n                this.columns.forEach(function (key) { return sortOrders[key] = 1; });\n                return {\n                    sortKey: '',\n                    sortOrders: sortOrders\n                };\n            },\n            computed: {\n                filteredData: function () {\n                    var sortKey = this.sortKey, filterKey = this.filterKey && this.filterKey.toLowerCase(), order = this.sortOrders[sortKey] || 1, data = this.data;\n                    if (filterKey) {\n                        data = data.filter(function (row) {\n                            return Object.keys(row).some(function (key) { return String(row[key]).toLowerCase().indexOf(filterKey) > -1; });\n                        });\n                    }\n                    if (sortKey) {\n                        data = data.slice().sort(function (a, b) {\n                            a = a[sortKey];\n                            b = b[sortKey];\n                            return (a === b ? 0 : a > b ? 1 : -1) * order;\n                        });\n                    }\n                    return data;\n                }\n            },\n            filters: {\n                capitalize: function (str) {\n                    return str.charAt(0).toUpperCase() + str.slice(1);\n                }\n            },\n            methods: {\n                sortBy: function (key) {\n                    this.sortKey = key;\n                    this.sortOrders[key] = this.sortOrders[key] * -1;\n                }\n            }\n        });\n    })(grid = aj.grid || (aj.grid = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        /**\n         * 本地数据仓库\n         * 一般情况下不会单独使用这个组件\n         */\n        list.datastore = {\n            props: {\n                apiUrl: { type: String, required: true },\n                isPage: { type: Boolean, default: true },\n                initPageSize: { type: Number, required: false, default: 9 },\n                isAutoLoad: { type: Boolean, default: true },\n                baseParam: { type: Object, default: function () { return {}; } },\n                pageParamNames: { type: Array, default: function () { return ['start', 'limit']; } },\n                onLoad: Function\n            },\n            data: function () {\n                return {\n                    result: [],\n                    extraParam: {},\n                    pageSize: this.initPageSize,\n                    total: 0,\n                    totalPage: 0,\n                    pageStart: 0,\n                    currentPage: 0\n                };\n            },\n            methods: {\n                /**\n                 * 分页，跳到第几页，下拉控件传入指定的页码\n                 *\n                 * @param this\n                 * @param ev\n                 */\n                jumpPageBySelect: function (ev) {\n                    var selectEl = ev.target;\n                    var currentPage = selectEl.options[selectEl.selectedIndex].value;\n                    this.pageStart = (Number(currentPage) - 1) * this.pageSize;\n                    this.getData();\n                },\n                /**\n                 * PageSize 改变时候重新分页\n                 *\n                 * @param this\n                 * @param ev\n                 */\n                onPageSizeChange: function (ev) {\n                    this.pageSize = Number(ev.target.value);\n                    this.count();\n                    this.getData();\n                },\n                count: function () {\n                    var totalPage = this.total / this.pageSize, yushu = this.total % this.pageSize;\n                    this.totalPage = parseInt(String(yushu == 0 ? totalPage : totalPage + 1));\n                    //@ts-ignore\n                    this.currentPage = parseInt((this.pageStart / this.pageSize) + 1);\n                },\n                /**\n                 * 前一页\n                 *\n                 * @param this\n                 */\n                previousPage: function () {\n                    this.pageStart -= this.pageSize;\n                    //@ts-ignore\n                    this.currentPage = parseInt((this.pageStart / this.pageSize) + 1);\n                    this.getData();\n                },\n                /**\n                 * 下一页\n                 *\n                 * @param this\n                 */\n                nextPage: function () {\n                    this.pageStart += this.pageSize;\n                    this.currentPage = (this.pageStart / this.pageSize) + 1;\n                    this.getData();\n                }\n            }\n        };\n        Vue.component('aj-list', {\n            mixins: [list.datastore],\n            template: html(__makeTemplateObject([\"\\n\\t\\t\\t<div class=\\\"aj-list\\\">\\n\\t\\t\\t\\t<slot name=\\\"header\\\" v-if=\\\"total != 0\\\"></slot>\\n\\t\\t\\t\\t<ul v-if=\\\"showDefaultUi && (total != 0)\\\">\\n\\t\\t\\t\\t\\t<li v-for=\\\"(item, index) in result\\\">\\n\\t\\t\\t\\t\\t\\t<slot v-bind=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" @click=\\\"show(item.id, index, $event)\\\" :id=\\\"item.id\\\">{{item.name}}</a>\\n\\t\\t\\t\\t\\t\\t</slot>\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t<div class=\\\"no-data\\\" v-show=\\\"total == 0\\\">\\u672A\\u6709\\u4EFB\\u4F55\\u6570\\u636E</div>\\n\\t\\t\\t\\t<footer v-if=\\\"isPage\\\" class=\\\"pager\\\">\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart > 0\\\" href=\\\"#\\\" @click=\\\"previousPage\\\">\\u4E0A\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"(pageStart > 0 ) && (pageStart + pageSize < total)\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-decoration: none;\\\">&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart + pageSize < total\\\" href=\\\"#\\\" @click=\\\"nextPage\\\">\\u4E0B\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a href=\\\"javascript:;\\\" @click=\\\"getData\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i> \\u5237\\u65B0</a>\\n\\t\\t\\t\\t\\t<input type=\\\"hidden\\\" name=\\\"start\\\" :value=\\\"pageStart\\\" />\\n\\t\\t\\t\\t\\t\\u9875\\u6570\\uFF1A{{currentPage}}/{{totalPage}} \\u8BB0\\u5F55\\u6570\\uFF1A{{pageStart}}/{{total}}\\n\\t\\t\\t\\t\\t\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\uFF1A <input size=\\\"2\\\" title=\\\"\\u8F93\\u5165\\u4E00\\u4E2A\\u6570\\u5B57\\u786E\\u5B9A\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\\" type=\\\"text\\\" :value=\\\"pageSize\\\" @change=\\\"onPageSizeChange\\\" />\\n\\t\\t\\t\\t\\t\\u8DF3\\u8F6C\\uFF1A\\n\\t\\t\\t\\t\\t<select @change=\\\"jumpPageBySelect\\\">\\n\\t\\t\\t\\t\\t\\t<option :value=\\\"n\\\" v-for=\\\"n in totalPage\\\">{{n}}</option>\\n\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t</footer>\\n\\t\\t\\t\\t<div v-show=\\\"!!autoLoadWhenReachedBottom\\\" class=\\\"buttom\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\"], [\"\\n\\t\\t\\t<div class=\\\"aj-list\\\">\\n\\t\\t\\t\\t<slot name=\\\"header\\\" v-if=\\\"total != 0\\\"></slot>\\n\\t\\t\\t\\t<ul v-if=\\\"showDefaultUi && (total != 0)\\\">\\n\\t\\t\\t\\t\\t<li v-for=\\\"(item, index) in result\\\">\\n\\t\\t\\t\\t\\t\\t<slot v-bind=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" @click=\\\"show(item.id, index, $event)\\\" :id=\\\"item.id\\\">{{item.name}}</a>\\n\\t\\t\\t\\t\\t\\t</slot>\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t<div class=\\\"no-data\\\" v-show=\\\"total == 0\\\">\\u672A\\u6709\\u4EFB\\u4F55\\u6570\\u636E</div>\\n\\t\\t\\t\\t<footer v-if=\\\"isPage\\\" class=\\\"pager\\\">\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart > 0\\\" href=\\\"#\\\" @click=\\\"previousPage\\\">\\u4E0A\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"(pageStart > 0 ) && (pageStart + pageSize < total)\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"text-decoration: none;\\\">&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart + pageSize < total\\\" href=\\\"#\\\" @click=\\\"nextPage\\\">\\u4E0B\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a href=\\\"javascript:;\\\" @click=\\\"getData\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i> \\u5237\\u65B0</a>\\n\\t\\t\\t\\t\\t<input type=\\\"hidden\\\" name=\\\"start\\\" :value=\\\"pageStart\\\" />\\n\\t\\t\\t\\t\\t\\u9875\\u6570\\uFF1A{{currentPage}}/{{totalPage}} \\u8BB0\\u5F55\\u6570\\uFF1A{{pageStart}}/{{total}}\\n\\t\\t\\t\\t\\t\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\uFF1A <input size=\\\"2\\\" title=\\\"\\u8F93\\u5165\\u4E00\\u4E2A\\u6570\\u5B57\\u786E\\u5B9A\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\\" type=\\\"text\\\" :value=\\\"pageSize\\\" @change=\\\"onPageSizeChange\\\" />\\n\\t\\t\\t\\t\\t\\u8DF3\\u8F6C\\uFF1A\\n\\t\\t\\t\\t\\t<select @change=\\\"jumpPageBySelect\\\">\\n\\t\\t\\t\\t\\t\\t<option :value=\\\"n\\\" v-for=\\\"n in totalPage\\\">{{n}}</option>\\n\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t</footer>\\n\\t\\t\\t\\t<div v-show=\\\"!!autoLoadWhenReachedBottom\\\" class=\\\"buttom\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\"])),\n            props: {\n                showDefaultUi: { type: Boolean, default: true },\n                isShowFooter: { type: Boolean, default: true },\n                hrefStr: { type: String, required: false },\n                autoLoadWhenReachedBottom: { type: String, default: '' },\n                isDataAppend: { type: Boolean, default: false }\n            },\n            mounted: function () {\n                this.isAutoLoad && this.getData();\n                // this.BUS.$on('base-param-change', this.onExtraParamChange.bind(this));\n                if (!!this.autoLoadWhenReachedBottom) {\n                    // var scrollSpy = new aj.scrollSpy({ scrollInElement: aj(this.autoLoadWhenReachedBottom), spyOn: thish.$el.$('.buttom') });\n                    // scrollSpy.onScrollSpyBackInSight = e => this.nextPage();\n                }\n            },\n            methods: {\n                getData: function () {\n                    var _this = this;\n                    this.lastRequestParam = {};\n                    aj.apply(this.lastRequestParam, this.baseParam);\n                    aj.apply(this.lastRequestParam, this.extraParam);\n                    initPageParams.call(this);\n                    aj.xhr.get(this.apiUrl, this.onLoad || (function (j) {\n                        if (j.result) {\n                            if (j.total === undefined)\n                                aj.alert('JSON 缺少 total 字段');\n                            if (j.total == 0 || j.result.length == 0)\n                                aj.alert('没有找到任何记录');\n                            _this.result = j.result;\n                            if (_this.isPage) {\n                                _this.total = j.total;\n                                _this.count();\n                            }\n                        }\n                        _this.$emit('pager-result', _this.result);\n                    }), this.lastRequestParam);\n                },\n                /**\n                 * 复位\n                 *\n                 * @param this\n                 */\n                reset: function () {\n                    this.total = this.totalPage = this.pageStart = this.currentPage = 0;\n                    this.pageSize = this.initPageSize;\n                },\n                onExtraParamChange: function (params) {\n                    aj.apply(this.extraParam, params);\n                    this.pageStart = 0; // 每次 extraParam 被改变，都是从第一笔开始\n                    this.getData();\n                }\n            },\n            watch: {\n                extraParam: function () {\n                    this.getData();\n                }\n            }\n        });\n        /**\n         * 生成分页参数的名字\n         *\n         * @param this\n         */\n        function initPageParams() {\n            var params = {};\n            params[this.pageParamNames[0]] = this.pageStart;\n            params[this.pageParamNames[1]] = this.pageSize;\n            this.isPage && aj.apply(this.lastRequestParam, params);\n        }\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var grid;\n    (function (grid) {\n        Vue.component('aj-simple-grid', {\n            template: html(__makeTemplateObject([\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchclassValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid aj-table\\\" style=\\\"clear: both;width:100%\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"], [\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchclassValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid aj-table\\\" style=\\\"clear: both;width:100%\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"])),\n            props: {\n                data: Array,\n                columns: Array,\n                filterKey: String\n            },\n            data: function () {\n                var sortOrders = {};\n                this.columns.forEach(function (key) { return sortOrders[key] = 1; });\n                return {\n                    sortKey: '',\n                    sortOrders: sortOrders\n                };\n            },\n            computed: {\n                filteredData: function () {\n                    var sortKey = this.sortKey, filterKey = this.filterKey && this.filterKey.toLowerCase(), order = this.sortOrders[sortKey] || 1, data = this.data;\n                    if (filterKey) {\n                        data = data.filter(function (row) {\n                            return Object.keys(row).some(function (key) { return String(row[key]).toLowerCase().indexOf(filterKey) > -1; });\n                        });\n                    }\n                    if (sortKey) {\n                        data = data.slice().sort(function (a, b) {\n                            a = a[sortKey];\n                            b = b[sortKey];\n                            return (a === b ? 0 : a > b ? 1 : -1) * order;\n                        });\n                    }\n                    return data;\n                }\n            },\n            filters: {\n                capitalize: function (str) {\n                    return str.charAt(0).toUpperCase() + str.slice(1);\n                }\n            },\n            methods: {\n                sortBy: function (key) {\n                    this.sortKey = key;\n                    this.sortOrders[key] = this.sortOrders[key] * -1;\n                }\n            }\n        });\n    })(grid = aj.grid || (aj.grid = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n/**\n * 动态组件，可否换为  component？\n */\nVue.component('aj-cell-renderer', {\n    props: {\n        html: { type: String, default: '' },\n        form: Object\n    },\n    render: function (h) {\n        if (this.html.indexOf('<aj-') != -1) {\n            var com = Vue.extend({\n                template: this.html,\n                props: {\n                    form: Object\n                }\n            });\n            return h(com, {\n                props: {\n                    form: this.form\n                }\n            });\n        }\n        else {\n            return this._v(this.html); // html\n        }\n    }\n});\nVue.component('aj-grid-select-row', {\n    template: '<a href=\"#\" @click=\"fireSelect\">选择</a>',\n    props: { type: { type: String, required: true } },\n    methods: {\n        fireSelect: function () {\n            //@ts-ignore\n            this.BUS.$emit('on-' + this.type + '-select', this.$parent.form);\n        }\n    }\n});\nVue.component('aj-grid-open-link', {\n    template: '<a href=\"#\" @click=\"fireSelect\"><i class=\"fa fa-external-link\"></i> 详情</a>',\n    methods: {\n        fireSelect: function () {\n            //@ts-ignore\n            this.BUS.$emit('on-open-link-clk', this.$parent.form);\n        }\n    }\n});\n\n\"use strict\";\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            grid.SectionModel = {\n                data: function () {\n                    return {\n                        isSelectAll: false,\n                        selected: {},\n                        selectedTotal: 0,\n                        maxRows: 0\n                    };\n                },\n                mounted: function () {\n                    this.BUS && this.BUS.$on('on-delete-btn-clk', this.batchDelete);\n                },\n                methods: {\n                    /**\n                     * 批量删除\n                     */\n                    batchDelete: function () {\n                        var _this = this;\n                        if (this.selectedTotal > 0) {\n                            aj.showConfirm('确定批量删除记录？', function () {\n                                for (var id in _this.selected) {\n                                    // @ts-ignore\n                                    aj.xhr.dele(_this.apiUrl + \"/\" + id + \"/\", function (j) {\n                                        console.log(j);\n                                    });\n                                }\n                            });\n                        }\n                        else\n                            aj.alert('未选择记录');\n                    },\n                    /**\n                     * 全选\n                     */\n                    selectAll: function () {\n                        var _this = this;\n                        var checkAll = function (item) {\n                            item.checked = true;\n                            var id = item.dataset.id;\n                            if (!id)\n                                throw '需要提供 id 在 DOM 属性中';\n                            _this.$set(_this.selected, Number(id), true);\n                        }, diskCheckAll = function (item) {\n                            item.checked = false;\n                            var id = item.dataset.id;\n                            if (!id)\n                                throw '需要提供 id 在 DOM 属性中';\n                            _this.$set(_this.selected, Number(id), false);\n                        };\n                        this.$el.$('table .selectCheckbox input[type=checkbox]', this.selectedTotal === this.maxRows ? diskCheckAll : checkAll);\n                    }\n                },\n                watch: {\n                    selected: {\n                        handler: function (_new) {\n                            var j = 0;\n                            // clear falses\n                            for (var i in this.selected) {\n                                if (this.selected[i] === false)\n                                    delete this.selected[i];\n                                else\n                                    j++;\n                            }\n                            this.selectedTotal = j;\n                            if (j === this.maxRows)\n                                this.$el.$('.top-checkbox').checked = true;\n                            else\n                                this.$el.$('.top-checkbox').checked = false;\n                        },\n                        deep: true\n                    }\n                }\n            };\n            /**\n             * 标准表格\n             */\n            var Grid = /** @class */ (function (_super) {\n                __extends(Grid, _super);\n                function Grid() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = \"aj-grid\";\n                    _this.template = '<div class=\"aj-grid\"><slot v-bind:grid=\"this\"></slot></div>';\n                    _this.mixins = [grid.SectionModel];\n                    _this.props = {\n                        apiUrl: { type: String, required: true }\n                    };\n                    /**\n                     * 数据层，控制分页\n                     */\n                    _this.$store = null;\n                    /**\n                     * 工具条 UI\n                     */\n                    _this.$toolbar = null;\n                    /**\n                     * 行 UI\n                     */\n                    _this.$row = null;\n                    /**\n                     *\n                     */\n                    _this.showAddNew = false;\n                    /**\n                     *\n                     */\n                    _this.list = [];\n                    _this.apiUrl = \"\";\n                    _this.maxRows = 0;\n                    _this.selected = {};\n                    return _this;\n                }\n                Grid.prototype.data = function () {\n                    return {\n                        list: [],\n                        updateApi: null,\n                        showAddNew: false\n                    };\n                };\n                Grid.prototype.mounted = function () {\n                    var _this = this;\n                    this.$children.forEach(function (child) {\n                        switch (child.$options._componentTag) {\n                            case 'aj-entity-toolbar':\n                                _this.$toolbar = child;\n                                break;\n                            case 'aj-grid-inline-edit-row':\n                                _this.$row = child;\n                                break;\n                            case 'aj-list':\n                                _this.$store = child;\n                                break;\n                        }\n                    });\n                    this.$store.$on(\"pager-result\", function (result) {\n                        _this.list = result;\n                        _this.maxRows = result.length;\n                    });\n                    // this.$store.autoLoad && this.$store.getDataData();\n                };\n                /**\n                 * 按下【新建】按钮时候触发的事件，你可以覆盖这个方法提供新的事件\n                 */\n                Grid.prototype.onCreateClk = function () {\n                    this.showAddNew = true;\n                };\n                /**\n                 * 重新加载数据\n                 */\n                Grid.prototype.reload = function () {\n                    this.$store.getData();\n                };\n                /**\n                 * 保存脏数据\n                 */\n                Grid.prototype.onDirtySaveClk = function () {\n                    var _this = this;\n                    var dirties = getDirty.call(this);\n                    if (!dirties.length) {\n                        aj.msg.show('没有修改过的记录');\n                        return;\n                    }\n                    dirties.forEach(function (item) {\n                        aj.xhr.put(_this.apiUrl + \"/\" + item.id + \"/\", function (j) {\n                            if (j.isOk) {\n                                _this.list.forEach(function (item) {\n                                    if (item.dirty)\n                                        delete item.dirty;\n                                });\n                                aj.msg.show('修改记录成功');\n                            }\n                        }, item.dirty);\n                    });\n                };\n                return Grid;\n            }(aj.VueComponent));\n            grid.Grid = Grid;\n            new Grid().register();\n            /**\n             * 获取修改过的数据\n             *\n             * @param this\n             */\n            function getDirty() {\n                var dirties = [];\n                this.list.forEach(function (item) {\n                    if (item.dirty) { // 有这个 dirty 就表示修改过的\n                        // item.dirty.id = item.id;\n                        dirties.push(item);\n                    }\n                });\n                return dirties;\n            }\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            /**\n             * 新建记录的行\n             */\n            var EditRowCreate = /** @class */ (function (_super) {\n                __extends(EditRowCreate, _super);\n                function EditRowCreate() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = \"aj-grid-inline-edit-row-create\";\n                    _this.template = html(__makeTemplateObject([\"\\n            <tr class=\\\"aj-grid-inline-edit-row isEditMode\\\">\\n                <td></td>\\n                <td></td>\\n                <td v-for=\\\"key in columns\\\" style=\\\"padding:0\\\" class=\\\"cell\\\">\\n                    <aj-select v-if=\\\"key != null && key.type == 'select'\\\" :name=\\\"key.name\\\" :options=\\\"key.data\\\"\\n                        style=\\\"width: 200px;\\\"></aj-select>\\n                    <input v-if=\\\"key != null && !key.type\\\" type=\\\"text\\\" size=\\\"0\\\" :name=\\\"key\\\" />\\n                </td>\\n                <td class=\\\"control\\\">\\n                    <span @click=\\\"addNew\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#080;\\\"></i> \\u65B0\\u589E</span>\\n                    <span @click=\\\"$parent.showAddNew = false\\\"><i class=\\\"fa fa-undo\\\" style=\\\"color:#bc49eb;\\\"></i> \\u64A4\\u9500</span>\\n                </td>\\n            </tr>\\n        \"], [\"\\n            <tr class=\\\"aj-grid-inline-edit-row isEditMode\\\">\\n                <td></td>\\n                <td></td>\\n                <td v-for=\\\"key in columns\\\" style=\\\"padding:0\\\" class=\\\"cell\\\">\\n                    <aj-select v-if=\\\"key != null && key.type == 'select'\\\" :name=\\\"key.name\\\" :options=\\\"key.data\\\"\\n                        style=\\\"width: 200px;\\\"></aj-select>\\n                    <input v-if=\\\"key != null && !key.type\\\" type=\\\"text\\\" size=\\\"0\\\" :name=\\\"key\\\" />\\n                </td>\\n                <td class=\\\"control\\\">\\n                    <span @click=\\\"addNew\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#080;\\\"></i> \\u65B0\\u589E</span>\\n                    <span @click=\\\"$parent.showAddNew = false\\\"><i class=\\\"fa fa-undo\\\" style=\\\"color:#bc49eb;\\\"></i> \\u64A4\\u9500</span>\\n                </td>\\n            </tr>\\n        \"]));\n                    _this.props = {\n                        columns: { type: Array, required: true },\n                        createApi: { type: String, required: false, default: '.' }\n                    };\n                    /**\n                     * 创建的 API 地址\n                     */\n                    _this.createApi = \"\";\n                    _this.$parent = null;\n                    return _this;\n                }\n                /**\n                 * 新增按钮事件\n                 */\n                EditRowCreate.prototype.addNew = function () {\n                    var _this = this;\n                    var map = {}; // 创建动作的表单数据\n                    this.$el.$('*[name]', function (i) { return map[i.name] = i.value; });\n                    this.BUS.$emit('before-add-new', map);\n                    aj.xhr.post(this.createApi, function (j) {\n                        if (j && j.isOk) {\n                            aj.msg.show('新建实体成功');\n                            _this.$el.$('input[name]', function (i) {\n                                i.value = '';\n                            });\n                            if (_this.$parent) {\n                                _this.$parent.reload();\n                                _this.$parent.showAddNew = false;\n                            }\n                        }\n                        else if (j && j.msg) {\n                            aj.msg.show(j.msg);\n                        }\n                    }, map);\n                };\n                return EditRowCreate;\n            }(aj.VueComponent));\n            new EditRowCreate().register();\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            /**\n             * 行的 UI\n             */\n            var GridEditRow = /** @class */ (function (_super) {\n                __extends(GridEditRow, _super);\n                function GridEditRow() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = \"aj-grid-inline-edit-row\";\n                    _this.template = html(__makeTemplateObject([\"\\n            <tr class=\\\"aj-grid-inline-edit-row\\\" :class=\\\"{editing: isEditMode}\\\">\\n                <td v-if=\\\"showCheckboxCol\\\" class=\\\"selectCheckbox\\\">\\n                    <input type=\\\"checkbox\\\" @change=\\\"selectCheckboxChange\\\" :data-id=\\\"id\\\" />\\n                </td>\\n                <td v-if=\\\"showIdCol\\\">{{id}}</td>\\n                <td v-for=\\\"cellRenderer in columns\\\" :style=\\\"styleModifly\\\" class=\\\"cell\\\" @dblclick=\\\"dbEdit\\\">\\n                    <span v-if=\\\"!isEditMode\\\" v-html=\\\"renderCell(rowData, cellRenderer)\\\"></span>\\n                    <input v-if=\\\"canEdit(cellRenderer)\\\" v-model=\\\"rowData[cellRenderer]\\\" type=\\\"text\\\" size=\\\"0\\\" />\\n                    <aj-cell-renderer v-if=\\\"isEditMode && cellRenderer && cellRenderer.editMode\\\"\\n                        :html=\\\"rendererEditMode(rowData, cellRenderer)\\\" :form=\\\"rowData\\\">\\n                    </aj-cell-renderer>\\n                </td>\\n                <td v-if=\\\"showControl\\\" class=\\\"control\\\">\\n                    <aj-cell-renderer v-if=\\\"controlUi\\\" :html=\\\"controlUi\\\" :form=\\\"rowData\\\"></aj-cell-renderer>\\n                    <span @click=\\\"onEditClk\\\" class=\\\"edit\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i>\\n                        {{!isEditMode ? \\\"\\u7F16\\u8F91\\\" : \\\"\\u786E\\u5B9A\\\"}}</span>\\n                    <span @click=\\\"dele\\\" class=\\\"delete\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i> \\u5220\\u9664</span>\\n                </td>\\n            </tr>\"], [\"\\n            <tr class=\\\"aj-grid-inline-edit-row\\\" :class=\\\"{editing: isEditMode}\\\">\\n                <td v-if=\\\"showCheckboxCol\\\" class=\\\"selectCheckbox\\\">\\n                    <input type=\\\"checkbox\\\" @change=\\\"selectCheckboxChange\\\" :data-id=\\\"id\\\" />\\n                </td>\\n                <td v-if=\\\"showIdCol\\\">{{id}}</td>\\n                <td v-for=\\\"cellRenderer in columns\\\" :style=\\\"styleModifly\\\" class=\\\"cell\\\" @dblclick=\\\"dbEdit\\\">\\n                    <span v-if=\\\"!isEditMode\\\" v-html=\\\"renderCell(rowData, cellRenderer)\\\"></span>\\n                    <input v-if=\\\"canEdit(cellRenderer)\\\" v-model=\\\"rowData[cellRenderer]\\\" type=\\\"text\\\" size=\\\"0\\\" />\\n                    <aj-cell-renderer v-if=\\\"isEditMode && cellRenderer && cellRenderer.editMode\\\"\\n                        :html=\\\"rendererEditMode(rowData, cellRenderer)\\\" :form=\\\"rowData\\\">\\n                    </aj-cell-renderer>\\n                </td>\\n                <td v-if=\\\"showControl\\\" class=\\\"control\\\">\\n                    <aj-cell-renderer v-if=\\\"controlUi\\\" :html=\\\"controlUi\\\" :form=\\\"rowData\\\"></aj-cell-renderer>\\n                    <span @click=\\\"onEditClk\\\" class=\\\"edit\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i>\\n                        {{!isEditMode ? \\\"\\u7F16\\u8F91\\\" : \\\"\\u786E\\u5B9A\\\"}}</span>\\n                    <span @click=\\\"dele\\\" class=\\\"delete\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i> \\u5220\\u9664</span>\\n                </td>\\n            </tr>\"]));\n                    _this.props = {\n                        initRowData: { type: Object, required: true },\n                        showIdCol: { type: Boolean, default: true },\n                        showCheckboxCol: { type: Boolean, default: true },\n                        showControl: { type: Boolean, default: true },\n                        enableInlineEdit: { type: Boolean, default: false },\n                        columns: Array,\n                        filterField: Array,\n                        deleApi: String,\n                        controlUi: String // 自定义“操作”按钮，这里填组件的名字\n                    };\n                    /**\n                     * 固定不可编辑的字段\n                     */\n                    _this.filterField = [];\n                    /**\n                     * 每行记录它的 id\n                     */\n                    _this.id = \"\";\n                    /**\n                     * 输入的数据\n                     */\n                    _this.initRowData = {};\n                    /**\n                     * 每行记录的数据\n                     */\n                    _this.rowData = {};\n                    /**\n                     * 是否处于编辑模式\n                     */\n                    _this.isEditMode = false;\n                    /**\n                     * 表格是否可以被编辑\n                     */\n                    _this.enableInlineEdit = false;\n                    /**\n                     * 单元格渲染器的类型，这是一个有序的数组\n                     */\n                    _this.columns = [];\n                    _this.$parent = null;\n                    _this.computed = {\n                        // filterData(this: GridEditRow) {// dep\n                        //     let data = JSON.parse(JSON.stringify(this.rowData));// 剔除不要的字段\n                        //     delete data.id;\n                        //     delete data.dirty;\n                        //     if (this.filterField && this.filterField.length)\n                        //         this.filterField.forEach(i => delete data[i]);\n                        //     return data;\n                        // },\n                        /**\n                         * 修改样式\n                         *\n                         * @param this\n                         */\n                        styleModifly: function () {\n                            return {\n                                padding: this.isEditMode ? 0 : '',\n                            };\n                        }\n                    };\n                    return _this;\n                }\n                GridEditRow.prototype.data = function () {\n                    return {\n                        id: this.initRowData.id,\n                        rowData: this.initRowData,\n                        isEditMode: false\n                    };\n                };\n                GridEditRow.prototype.mounted = function () {\n                    for (var i in this.rowData) // 监视每个字段\n                        this.$watch('rowData.' + i, makeWatch.call(this, i));\n                };\n                /**\n                 * 选区模型的写入，记录哪一行被选中了\n                 *\n                 * @param ev 事件对象\n                 */\n                GridEditRow.prototype.selectCheckboxChange = function (ev) {\n                    var checkbox = ev.target, parent = this.$parent;\n                    if (parent) {\n                        if (checkbox.checked)\n                            parent.$set(parent.selected, this.id, true);\n                        else\n                            parent.$set(parent.selected, this.id, false);\n                    }\n                };\n                /**\n                 * 渲染单元格\n                 *\n                 * @param data\n                 * @param cellRenderer\n                 */\n                GridEditRow.prototype.renderCell = function (data, cellRenderer) {\n                    var v = \"\";\n                    if (cellRenderer === '')\n                        return v;\n                    if (typeof cellRenderer == 'string')\n                        v = data[cellRenderer] + \"\";\n                    if (typeof cellRenderer == 'function')\n                        v = cellRenderer(data);\n                    if (typeof cellRenderer == 'object') {\n                        var cfg = cellRenderer;\n                        if (!!cfg.renderer)\n                            v = cfg.renderer(data);\n                    }\n                    return v;\n                };\n                /**\n                 * 没有指定编辑器的情况下，使用 input 作为编辑器\n                 *\n                 * @param cellRenderer\n                 */\n                GridEditRow.prototype.canEdit = function (cellRenderer) {\n                    return this.isEditMode && !isFixedField.call(this, cellRenderer) && !(cellRenderer.editMode);\n                };\n                /**\n                 * 渲染编辑模式下的行\n                 *\n                 * @param data\n                 * @param cellRenderer\n                 */\n                GridEditRow.prototype.rendererEditMode = function (data, cellRenderer) {\n                    if (typeof cellRenderer === 'string')\n                        return cellRenderer.toString();\n                    var cfg = cellRenderer;\n                    if (cfg.editMode && typeof cfg.editRenderer === 'function')\n                        return cfg.editRenderer(data);\n                    return \"NULL\";\n                };\n                /**\n                 * 编辑按钮事件\n                 */\n                GridEditRow.prototype.onEditClk = function () {\n                    if (this.enableInlineEdit)\n                        this.isEditMode = !this.isEditMode;\n                    //@ts-ignore    \n                    else if (this.$parent.onEditClk) // 打开另外的编辑界面\n                        //@ts-ignore    \n                        this.$parent.onEditClk(this.id);\n                };\n                /**\n                 * 双击单元格进入编辑\n                 *\n                 * @param ev\n                 */\n                GridEditRow.prototype.dbEdit = function (ev) {\n                    this.onEditClk();\n                    if (this.enableInlineEdit && this.isEditMode) {\n                        var el_1 = ev.target;\n                        if (el_1.tagName !== 'TD')\n                            el_1 = el_1.up('td');\n                        setTimeout(function () {\n                            var _el;\n                            if (el_1.tagName !== 'INPUT')\n                                _el = el_1.$('input');\n                            _el && _el.focus();\n                        }, 200);\n                    }\n                };\n                /**\n                 * 删除记录\n                 */\n                GridEditRow.prototype.dele = function (id) {\n                    var _this = this;\n                    aj.showConfirm(\"\\u786E\\u5B9A\\u5220\\u9664\\u8BB0\\u5F55 id:[\" + this.id + \"] \\u5417\\uFF1F\", function () {\n                        if (_this.$parent)\n                            aj.xhr.dele(_this.$parent.apiUrl + \"/\" + _this.id + \"/\", function (j) {\n                                if (j.isOk) {\n                                    aj.msg.show('删除成功');\n                                    _this.$parent && _this.$parent.reload();\n                                }\n                            });\n                    });\n                };\n                return GridEditRow;\n            }(aj.VueComponent));\n            new GridEditRow().register();\n            /**\n             * 生成该字段的 watch 函数\n             *\n             * @param this\n             * @param field\n             */\n            function makeWatch(field) {\n                return function (_new) {\n                    if (this.$parent) {\n                        var arr = this.$parent.list, data = void 0;\n                        for (var i = 0, j = arr.length; i < j; i++) { // 已知 id 找到原始数据\n                            if (this.id && (String(arr[i].id) == this.id)) {\n                                data = arr[i];\n                                break;\n                            }\n                        }\n                        if (!data)\n                            throw '找不到匹配的实体！目标 id: ' + this.id;\n                        if (!data.dirty)\n                            data.dirty = { id: this.id };\n                        data.dirty[field] = _new; // 保存新的值，key 是字段名\n                    }\n                };\n            }\n            /**\n             * 是否固定的字段，固定的字段不能被编辑\n             *\n             * @param this\n             * @param cellRenderer\n             */\n            function isFixedField(cellRenderer) {\n                if (this.filterField && this.filterField.length) {\n                    for (var i = 0, j = this.filterField.length; i < j; i++) {\n                        if (this.filterField[i] == cellRenderer)\n                            return true;\n                    }\n                }\n                return false;\n            }\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            /**\n             * 工具条\n             */\n            Vue.component('aj-entity-toolbar', {\n                template: html(__makeTemplateObject([\"\\n            <div class=\\\"toolbar\\\">\\n                <form v-if=\\\"search\\\" class=\\\"right\\\">\\n                    <input type=\\\"text\\\" name=\\\"keyword\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57\\\" size=\\\"12\\\" />\\n                    <button @click=\\\"doSearch\\\"><i class=\\\"fa fa-search\\\" style=\\\"color:#417BB5;\\\"></i>\\u641C\\u7D22</button>\\n                </form>\\n                <aj-form-between-date v-if=\\\"betweenDate\\\" class=\\\"right\\\"></aj-form-between-date>\\n                <ul>\\n                    <li v-if=\\\"create\\\" @click=\\\"$emit('on-create-btn-clk')\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#0a90f0;\\\"></i> \\u65B0\\u5EFA</li>\\n                    <li v-if=\\\"save\\\" @click=\\\"$emit('on-save-btn-clk')\\\"><i class=\\\"fa fa-floppy-o\\\"\\n                            style=\\\"color:rgb(205, 162, 4);\\\"></i>\\u4FDD\\u5B58</li>\\n                    <li v-if=\\\"deleBtn\\\" @click=\\\"$emit('on-delete-btn-clk')\\\"><i class=\\\"fa fa-trash-o\\\" style=\\\"color:red;\\\"></i> \\u5220\\u9664</li>\\n                    <li v-if=\\\"excel\\\"><i class=\\\"fa fa-file-excel-o\\\" style=\\\"color:green;\\\"></i> \\u5BFC\\u51FA</li>\\n                    <slot></slot>\\n                </ul>\\n            </div>\\n        \"], [\"\\n            <div class=\\\"toolbar\\\">\\n                <form v-if=\\\"search\\\" class=\\\"right\\\">\\n                    <input type=\\\"text\\\" name=\\\"keyword\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57\\\" size=\\\"12\\\" />\\n                    <button @click=\\\"doSearch\\\"><i class=\\\"fa fa-search\\\" style=\\\"color:#417BB5;\\\"></i>\\u641C\\u7D22</button>\\n                </form>\\n                <aj-form-between-date v-if=\\\"betweenDate\\\" class=\\\"right\\\"></aj-form-between-date>\\n                <ul>\\n                    <li v-if=\\\"create\\\" @click=\\\"$emit('on-create-btn-clk')\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#0a90f0;\\\"></i> \\u65B0\\u5EFA</li>\\n                    <li v-if=\\\"save\\\" @click=\\\"$emit('on-save-btn-clk')\\\"><i class=\\\"fa fa-floppy-o\\\"\\n                            style=\\\"color:rgb(205, 162, 4);\\\"></i>\\u4FDD\\u5B58</li>\\n                    <li v-if=\\\"deleBtn\\\" @click=\\\"$emit('on-delete-btn-clk')\\\"><i class=\\\"fa fa-trash-o\\\" style=\\\"color:red;\\\"></i> \\u5220\\u9664</li>\\n                    <li v-if=\\\"excel\\\"><i class=\\\"fa fa-file-excel-o\\\" style=\\\"color:green;\\\"></i> \\u5BFC\\u51FA</li>\\n                    <slot></slot>\\n                </ul>\\n            </div>\\n        \"])),\n                props: {\n                    betweenDate: { type: Boolean, default: true },\n                    create: { type: Boolean, default: true },\n                    save: { type: Boolean, default: true },\n                    excel: { type: Boolean, default: false },\n                    deleBtn: { type: Boolean, default: true },\n                    search: { type: Boolean, default: true }\n                },\n                methods: {\n                    /**\n                     * 获取关键字进行搜索\n                     *\n                     * @param this\n                     * @param ev\n                     */\n                    doSearch: function (ev) {\n                        ev.preventDefault();\n                        aj.apply(this.$parent.$store.extraParam, { keyword: aj.form.utils.getFormFieldValue(this.$el, 'input[name=keyword]') });\n                        this.$parent.$store.reload();\n                    }\n                }\n            });\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            /**\n             * 下拉分类选择器，异步请求远端获取分类数据\n             */\n            var TreeLikeSelect = /** @class */ (function (_super) {\n                __extends(TreeLikeSelect, _super);\n                function TreeLikeSelect() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = 'aj-tree-like-select';\n                    _this.template = '<select :name=\"fieldName\" class=\"aj-select\" @change=\"onSelected\" style=\"min-width:180px;\"></select>';\n                    _this.props = {\n                        fieldName: { type: String, required: false, default: 'catalogId' },\n                        apiUrl: { type: String, default: function () { return aj.ctx + '/admin/tree-like/'; } },\n                        isAutoLoad: { type: Boolean, default: true },\n                        isAutoJump: Boolean,\n                        initFieldValue: String\n                    };\n                    _this.apiUrl = \"\";\n                    /**\n                     * 是否自动跳转 catalogId\n                     */\n                    _this.isAutoJump = false;\n                    _this.isAutoLoad = false;\n                    _this.fieldName = \"\";\n                    _this.fieldValue = \"\";\n                    _this.initFieldValue = \"\";\n                    return _this;\n                }\n                TreeLikeSelect.prototype.data = function () {\n                    return {\n                        fieldValue: this.initFieldValue\n                    };\n                };\n                TreeLikeSelect.prototype.mounted = function () {\n                    this.isAutoLoad && this.getData();\n                };\n                TreeLikeSelect.prototype.onSelected = function (ev) {\n                    var el = ev.target;\n                    this.fieldValue = el.selectedOptions[0].value;\n                    if (this.isAutoJump)\n                        location.assign('?' + this.fieldName + '=' + this.fieldValue);\n                    else\n                        this.BUS && this.BUS.$emit('aj-tree-catelog-select-change', ev, this);\n                };\n                TreeLikeSelect.prototype.getData = function () {\n                    var _this = this;\n                    var fn = function (j) {\n                        var arr = [{ id: 0, name: \"请选择分类\" }];\n                        tree.rendererOption(arr.concat(j.result), _this.$el, _this.fieldValue, { makeAllOption: false });\n                        if (_this.fieldValue) // 有指定的选中值\n                            //@ts-ignore\n                            aj.form.utils.selectOption.call(_this, _this.fieldValue);\n                    };\n                    // aj.xhr.get(this.ajResources.ctx + this.apiUrl + \"/admin/tree-like/getListAndSubByParentId/\", fn);\n                    aj.xhr.get(this.apiUrl, fn);\n                };\n                return TreeLikeSelect;\n            }(aj.VueComponent));\n            tree.TreeLikeSelect = TreeLikeSelect;\n            new TreeLikeSelect().register();\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            /**\n             * 排序\n             * 父id 必须在子 id 之前，不然下面 findParent() 找不到后面的父节点，故先排序\n             *\n             * @param jsonArray\n             */\n            function makeTree(jsonArray) {\n                var arr = [];\n                for (var i = 0, j = jsonArray.length; i < j; i++) {\n                    var n = jsonArray[i];\n                    if (n.pid === -1)\n                        arr.push(n);\n                    else {\n                        var parentNode = findParentInArray(arr, n.pid);\n                        if (parentNode) {\n                            if (!parentNode.children)\n                                parentNode.children = [];\n                            parentNode.children.push(n);\n                        }\n                        else\n                            console.log('parent not found!');\n                    }\n                }\n                return arr;\n            }\n            tree.makeTree = makeTree;\n            /**\n             * 根据传入 id 在一个数组中查找父亲节点\n             *\n             * @param jsonArray\n             * @param id\n             */\n            function findParentInArray(jsonArray, id) {\n                for (var i = 0, j = jsonArray.length; i < j; i++) {\n                    var map = jsonArray[i];\n                    if (map.id == id)\n                        return map;\n                    if (map.children) {\n                        var result = findParentInArray(map.children, id);\n                        if (result != null)\n                            return result;\n                    }\n                }\n                return null;\n            }\n            tree.findParentInArray = findParentInArray;\n            /**\n             * 根据传入 id 查找父亲节点\n             *\n             * @param map\n             * @param id\n             */\n            function findParentInMap(map, id) {\n                for (var i in map) {\n                    if (i == id)\n                        return map[i];\n                    var c = map[i].children;\n                    if (c) {\n                        for (var q = 0, p = c.length; q < p; q++) {\n                            var result = findParentInMap(c[q], id);\n                            if (result != null)\n                                return result;\n                        }\n                    }\n                }\n                return null;\n            }\n            tree.findParentInMap = findParentInMap;\n            var stack = [];\n            /**\n             * 遍历各个元素，输出\n             *\n             * @param map\n             * @param cb\n             */\n            function output(map, cb) {\n                stack.push(map);\n                for (var i in map) {\n                    map[i].level = stack.length; // 层数，也表示缩进多少个字符\n                    cb(map[i], i);\n                    var c = map[i].children;\n                    if (c) {\n                        for (var q = 0, p = c.length; q < p; q++)\n                            output(c[q], cb);\n                    }\n                }\n                stack.pop();\n            }\n            tree.output = output;\n            /**\n             * 生成树，将扁平化的数组结构 还原为树状的结构\n             * 父id 必须在子id之前，不然下面 findParent() 找不到后面的父节点，故前提条件是，这个数组必须先排序\n             *\n             * @param jsonArray\n             */\n            function toTree(jsonArray) {\n                if (!jsonArray)\n                    return {};\n                var m = {};\n                for (var i = 0, j = jsonArray.length; i < j; i++) {\n                    var n = jsonArray[i], parentNode = findParentInMap(m, n.pid + \"\");\n                    if (parentNode == null) { // 没有父节点，那就表示这是根节点，保存之\n                        m[n.id] = n; // id 是key，value 新建一对象\n                    }\n                    else { // 有父亲节点，作为孩子节点保存\n                        var obj = {};\n                        obj[n.id] = n;\n                        if (!parentNode.children)\n                            parentNode.children = [];\n                        parentNode.children.push(obj);\n                    }\n                }\n                return m;\n            }\n            tree.toTree = toTree;\n            /**\n             * 渲染 Option 标签的 DOM\n             *\n             * @param jsonArray\n             * @param select\n             * @param selectedId\n             * @param cfg\n             */\n            function rendererOption(jsonArray, select, selectedId, cfg) {\n                if (cfg && cfg.makeAllOption) {\n                    var option = document.createElement('option');\n                    option.value = option.innerHTML = \"全部分类\";\n                    select.appendChild(option);\n                }\n                // 生成 option\n                var temp = document.createDocumentFragment();\n                output(toTree(jsonArray), function (node, nodeId) {\n                    var option = document.createElement('option'); // 节点\n                    option.value = nodeId;\n                    if (selectedId && selectedId == nodeId) // 选中的\n                        option.selected = true;\n                    option.dataset['pid'] = node.pid + \"\";\n                    //option.style= \"padding-left:\" + (node.level - 1) +\"rem;\";\n                    option.innerHTML = new Array(node.level * 5).join('&nbsp;') + (node.level == 1 ? '' : '└─') + node.name;\n                    temp.appendChild(option);\n                });\n                select.appendChild(temp);\n            }\n            tree.rendererOption = rendererOption;\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            /**\n             * 注意递归组件的使用\n             */\n            var TreeItem = /** @class */ (function (_super) {\n                __extends(TreeItem, _super);\n                function TreeItem() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = 'aj-tree-item';\n                    _this.template = html(__makeTemplateObject([\"\\n            <li>\\n                <div :class=\\\"{bold: isFolder, node: true}\\\" @click=\\\"toggle\\\">\\n                    <span>\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7</span>{{model.name}}\\n                    <span v-if=\\\"isFolder\\\">[{{open ? '-' : '+'}}]</span>\\n                </div>\\n                <ul v-show=\\\"open\\\" v-if=\\\"isFolder\\\" :class=\\\"{show: open}\\\">\\n                    <aj-tree-item class=\\\"item\\\" v-for=\\\"(model, index) in model.children\\\" :key=\\\"index\\\" :model=\\\"model\\\">\\n                    </aj-tree-item>\\n                    <li v-if=\\\"allowAddNode\\\" class=\\\"add\\\" @click=\\\"addChild\\\">+</li>\\n                </ul>\\n            </li>\\n        \"], [\"\\n            <li>\\n                <div :class=\\\"{bold: isFolder, node: true}\\\" @click=\\\"toggle\\\">\\n                    <span>\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7</span>{{model.name}}\\n                    <span v-if=\\\"isFolder\\\">[{{open ? '-' : '+'}}]</span>\\n                </div>\\n                <ul v-show=\\\"open\\\" v-if=\\\"isFolder\\\" :class=\\\"{show: open}\\\">\\n                    <aj-tree-item class=\\\"item\\\" v-for=\\\"(model, index) in model.children\\\" :key=\\\"index\\\" :model=\\\"model\\\">\\n                    </aj-tree-item>\\n                    <li v-if=\\\"allowAddNode\\\" class=\\\"add\\\" @click=\\\"addChild\\\">+</li>\\n                </ul>\\n            </li>\\n        \"]));\n                    _this.props = {\n                        model: Object,\n                        allowAddNode: { type: Boolean, default: false } // 是否允许添加新节点\n                    };\n                    _this.model = { children: [] };\n                    _this.open = false;\n                    _this.allowAddNode = false;\n                    // isFolder = false;\n                    _this.computed = {\n                        isFolder: function () {\n                            return !!(this.model.children && this.model.children.length);\n                        }\n                    };\n                    return _this;\n                }\n                /**\n                 * 点击节点时的方法\n                 *\n                 * @param this\n                 */\n                TreeItem.prototype.toggle = function () {\n                    //@ts-ignore\n                    if (this.isFolder)\n                        this.open = !this.open;\n                    this.BUS && this.BUS.$emit('tree-node-click', this.model);\n                };\n                /**\n                 * 变为文件夹\n                 *\n                 * @param this\n                 */\n                TreeItem.prototype.changeType = function () {\n                    //@ts-ignore\n                    if (!this.isFolder) {\n                        Vue.set(this.model, 'children', []);\n                        this.addChild();\n                        this.open = true;\n                    }\n                };\n                TreeItem.prototype.addChild = function () {\n                    this.model.children.push({\n                        //@ts-ignore\n                        name: 'new stuff'\n                    });\n                };\n                return TreeItem;\n            }(aj.VueComponent));\n            tree.TreeItem = TreeItem;\n            new TreeItem().register();\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            var Tree = /** @class */ (function (_super) {\n                __extends(Tree, _super);\n                function Tree() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = 'aj-tree';\n                    _this.template = '<ul class=\"aj-tree\"><aj-tree-item :model=\"treeData\"></aj-tree-item></ul>';\n                    _this.props = {\n                        apiUrl: String,\n                        topNodeName: String\n                    };\n                    /**\n                     * 根节点显示名称\n                     */\n                    _this.topNodeName = \"\";\n                    _this.apiUrl = \"\";\n                    _this.isAutoLoad = false;\n                    _this.treeData = { name: _this.topNodeName || 'TOP', children: null };\n                    return _this;\n                }\n                Tree.prototype.getData = function () {\n                    var _this = this;\n                    // @ts-ignore\n                    aj.xhr.get(this.apiUrl, function (j) { return _this.treeData.children = tree.makeTree(j.result); });\n                    // 递归组件怎么事件上报呢？通过事件 bus\n                    this.BUS && this.BUS.$on('treenodeclick', function (data) { return _this.$emit('treenodeclick', data); });\n                };\n                Tree.prototype.mounted = function () {\n                    this.getData();\n                };\n                return Tree;\n            }(aj.VueComponent));\n            tree.Tree = Tree;\n            new Tree().register();\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n"],"names":["aj","Vue","component","template","html","__makeTemplateObject","props","picCtx","String","uploadUrl","blankBg","delImgUrl","apiUrl","data","pics","mounted","this","getData","$refs","attachmentPictureUpload","uploadOk_callback","methods","_this","xhr","get","j","result","delPic","picId","showConfirm","dele","isOk","grid","Array","columns","filterKey","sortOrders","forEach","key","sortKey","computed","filteredData","toLowerCase","order","filter","row","Object","keys","some","indexOf","slice","sort","a","b","filters","capitalize","str","charAt","toUpperCase","sortBy","list","datastore","type","required","isPage","Boolean","default","initPageSize","Number","isAutoLoad","baseParam","pageParamNames","onLoad","Function","extraParam","pageSize","total","totalPage","pageStart","currentPage","jumpPageBySelect","ev","selectEl","target","options","selectedIndex","value","onPageSizeChange","count","yushu","parseInt","previousPage","nextPage","mixins","showDefaultUi","isShowFooter","hrefStr","autoLoadWhenReachedBottom","isDataAppend","lastRequestParam","apply","params","call","undefined","alert","length","$emit","reset","onExtraParamChange","watch","form","render","h","_v","extend","fireSelect","BUS","$parent","SectionModel","isSelectAll","selected","selectedTotal","maxRows","$on","batchDelete","id","console","log","selectAll","$el","$","item","checked","dataset","$set","handler","_new","i","deep","_super","Grid","VueComponent","__extends","prototype","updateApi","showAddNew","$children","child","$options","_componentTag","$toolbar","$row","$store","onCreateClk","reload","onDirtySaveClk","dirties","dirty","push","put","msg","show","arguments","name","register","EditRowCreate","createApi","addNew","map","post","GridEditRow","initRowData","showIdCol","showCheckboxCol","showControl","enableInlineEdit","filterField","deleApi","controlUi","rowData","isEditMode","styleModifly","padding","makeWatch","field","arr","$watch","selectCheckboxChange","checkbox","parent","renderCell","cellRenderer","v","renderer","canEdit","rendererEditMode","toString","editMode","editRenderer","onEditClk","dbEdit","el_1","tagName","up","setTimeout","_el","focus","betweenDate","create","save","excel","deleBtn","search","doSearch","preventDefault","keyword","utils","getFormFieldValue","tree","TreeLikeSelect","fieldName","ctx","isAutoJump","initFieldValue","fieldValue","onSelected","el","selectedOptions","location","assign","rendererOption","concat","makeAllOption","selectOption","findParentInArray","jsonArray","children","findParentInMap","c","q","p","makeTree","parentNode","n","pid","stack","output","cb","level","pop","toTree","m","obj","select","selectedId","cfg","option","document","createElement","innerHTML","appendChild","temp","createDocumentFragment","node","nodeId","join","TreeItem","model","allowAddNode","open","isFolder","toggle","changeType","set","addChild","Tree","topNodeName","treeData"],"mappings":"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"}