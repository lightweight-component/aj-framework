{"version":3,"file":"../dist/list.min.js","sources":["list.min.js"],"sourcesContent":["\"use strict\";\n\n/**\n * 相册列表\n */\nVue.component('aj-attachment-picture-list', {\n    template: html(__makeTemplateObject([\"\\n        <table>\\n            <tr>\\n                <td>\\n                    <div class=\\\"label\\\">\\u76F8\\u518C\\u56FE\\uFF1A</div>\\n                    <ul>\\n                        <li v-for=\\\"pic in pics\\\" style=\\\"float:left;margin-right:1%;text-align:center;\\\">\\n                            <a :href=\\\"picCtx + pic.path\\\" target=\\\"_blank\\\"><img :src=\\\"picCtx + pic.path\\\" style=\\\"max-width: 100px;max-height: 100px;\\\" /></a><br />\\n                            <a href=\\\"###\\\" @click=\\\"delPic(pic.id);\\\">\\u5220 \\u9664</a>\\n                        </li>\\n                    </ul>\\n                </td> \\n                <td>\\n                    <aj-xhr-upload ref=\\\"attachmentPictureUpload\\\" :action=\\\"uploadUrl\\\" :is-img-upload=\\\"true\\\" :img-place=\\\"blankBg\\\"></aj-xhr-upload>\\n                </td>\\n            </tr>\\n        </table>\\n    \"], [\"\\n        <table>\\n            <tr>\\n                <td>\\n                    <div class=\\\"label\\\">\\u76F8\\u518C\\u56FE\\uFF1A</div>\\n                    <ul>\\n                        <li v-for=\\\"pic in pics\\\" style=\\\"float:left;margin-right:1%;text-align:center;\\\">\\n                            <a :href=\\\"picCtx + pic.path\\\" target=\\\"_blank\\\"><img :src=\\\"picCtx + pic.path\\\" style=\\\"max-width: 100px;max-height: 100px;\\\" /></a><br />\\n                            <a href=\\\"###\\\" @click=\\\"delPic(pic.id);\\\">\\u5220 \\u9664</a>\\n                        </li>\\n                    </ul>\\n                </td> \\n                <td>\\n                    <aj-xhr-upload ref=\\\"attachmentPictureUpload\\\" :action=\\\"uploadUrl\\\" :is-img-upload=\\\"true\\\" :img-place=\\\"blankBg\\\"></aj-xhr-upload>\\n                </td>\\n            </tr>\\n        </table>\\n    \"])),\n    props: {\n        picCtx: String,\n        uploadUrl: String,\n        blankBg: String,\n        delImgUrl: String,\n        apiUrl: String\n    },\n    data: function () {\n        return {\n            pics: []\n        };\n    },\n    mounted: function () {\n        this.getData();\n        this.$refs.attachmentPictureUpload.uploadOk_callback = this.getData;\n    },\n    methods: {\n        getData: function () {\n            var _this = this;\n            aj.xhr.get(this.apiUrl, function (j) { return _this.pics = j.result; });\n        },\n        delPic: function (picId) {\n            var _this = this;\n            aj.showConfirm(\"确定删除相册图片？\", function () {\n                aj.xhr.dele(_this.delImgUrl + picId + \"/\", function (j) {\n                    if (j.isOk)\n                        _this.getData(); // 刷新\n                });\n            });\n        }\n    }\n});\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var grid;\n    (function (grid) {\n        Vue.component('aj-simple-grid', {\n            template: html(__makeTemplateObject([\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid ajaxjs-borderTable\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"], [\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid ajaxjs-borderTable\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"])),\n            props: {\n                data: Array,\n                columns: Array,\n                filterKey: String\n            },\n            data: function () {\n                var sortOrders = {};\n                this.columns.forEach(function (key) { return sortOrders[key] = 1; });\n                return {\n                    sortKey: '',\n                    sortOrders: sortOrders\n                };\n            },\n            computed: {\n                filteredData: function () {\n                    var sortKey = this.sortKey, filterKey = this.filterKey && this.filterKey.toLowerCase(), order = this.sortOrders[sortKey] || 1, data = this.data;\n                    if (filterKey) {\n                        data = data.filter(function (row) {\n                            return Object.keys(row).some(function (key) { return String(row[key]).toLowerCase().indexOf(filterKey) > -1; });\n                        });\n                    }\n                    if (sortKey) {\n                        data = data.slice().sort(function (a, b) {\n                            a = a[sortKey];\n                            b = b[sortKey];\n                            return (a === b ? 0 : a > b ? 1 : -1) * order;\n                        });\n                    }\n                    return data;\n                }\n            },\n            filters: {\n                capitalize: function (str) {\n                    return str.charAt(0).toUpperCase() + str.slice(1);\n                }\n            },\n            methods: {\n                sortBy: function (key) {\n                    this.sortKey = key;\n                    this.sortOrders[key] = this.sortOrders[key] * -1;\n                }\n            }\n        });\n    })(grid = aj.grid || (aj.grid = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        /**\n         * 本地数据仓库\n         * 一般情况下不会单独使用这个组件\n         */\n        list.datastore = {\n            props: {\n                apiUrl: { type: String, required: true },\n                isPage: { type: Boolean, default: true },\n                initPageSize: { type: Number, required: false, default: 9 },\n                isAutoLoad: { type: Boolean, default: true },\n                baseParam: { type: Object, default: function () { return {}; } },\n                pageParamNames: { type: Array, default: function () { return ['start', 'limit']; } },\n                onLoad: Function\n            },\n            data: function () {\n                return {\n                    result: [],\n                    extraParam: {},\n                    pageSize: this.initPageSize,\n                    total: 0,\n                    totalPage: 0,\n                    pageStart: 0,\n                    currentPage: 0\n                };\n            },\n            methods: {\n                /**\n                 * 分页，跳到第几页，下拉控件传入指定的页码\n                 *\n                 * @param this\n                 * @param ev\n                 */\n                jumpPageBySelect: function (ev) {\n                    var selectEl = ev.target;\n                    var currentPage = selectEl.options[selectEl.selectedIndex].value;\n                    this.pageStart = (Number(currentPage) - 1) * this.pageSize;\n                    this.getData();\n                },\n                /**\n                 * PageSize 改变时候重新分页\n                 *\n                 * @param this\n                 * @param ev\n                 */\n                onPageSizeChange: function (ev) {\n                    this.pageSize = Number(ev.target.value);\n                    this.count();\n                    this.getData();\n                },\n                count: function () {\n                    var totalPage = this.total / this.pageSize, yushu = this.total % this.pageSize;\n                    this.totalPage = parseInt(String(yushu == 0 ? totalPage : totalPage + 1));\n                    //@ts-ignore\n                    this.currentPage = parseInt((this.pageStart / this.pageSize) + 1);\n                },\n                /**\n                 * 前一页\n                 *\n                 * @param this\n                 */\n                previousPage: function () {\n                    this.pageStart -= this.pageSize;\n                    //@ts-ignore\n                    this.currentPage = parseInt((this.pageStart / this.pageSize) + 1);\n                    this.getData();\n                },\n                /**\n                 * 下一页\n                 *\n                 * @param this\n                 */\n                nextPage: function () {\n                    this.pageStart += this.pageSize;\n                    this.currentPage = (this.pageStart / this.pageSize) + 1;\n                    this.getData();\n                }\n            }\n        };\n        Vue.component('aj-list', {\n            mixins: [list.datastore],\n            template: html(__makeTemplateObject([\"\\n\\t\\t\\t<div class=\\\"aj-list\\\">\\n\\t\\t\\t\\t<slot name=\\\"header\\\" v-if=\\\"total != 0\\\"></slot>\\n\\t\\t\\t\\t<ul v-if=\\\"showDefaultUi && (total != 0)\\\">\\n\\t\\t\\t\\t\\t<li v-for=\\\"(item, index) in result\\\">\\n\\t\\t\\t\\t\\t\\t<slot v-bind=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" @click=\\\"show(item.id, index, $event)\\\" :id=\\\"item.id\\\">{{item.name}}</a>\\n\\t\\t\\t\\t\\t\\t</slot>\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t<div class=\\\"no-data\\\" v-show=\\\"isPage && total == 0\\\">\\u672A\\u6709\\u4EFB\\u4F55\\u6570\\u636E</div>\\n\\t\\t\\t\\t<footer v-if=\\\"isPage\\\" class=\\\"pager\\\">\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart > 0\\\" href=\\\"#\\\" @click=\\\"previousPage\\\">\\u4E0A\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"(pageStart > 0 ) && (pageStart + pageSize < total)\\\" style=\\\"text-decoration: none;\\\">&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart + pageSize < total\\\" href=\\\"#\\\" @click=\\\"nextPage\\\">\\u4E0B\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a href=\\\"javascript:;\\\" @click=\\\"getData\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i> \\u5237\\u65B0</a>\\n\\t\\t\\t\\t\\t<input type=\\\"hidden\\\" name=\\\"start\\\" :value=\\\"pageStart\\\" />\\n\\t\\t\\t\\t\\t\\u9875\\u6570\\uFF1A{{currentPage}}/{{totalPage}} \\u8BB0\\u5F55\\u6570\\uFF1A{{pageStart}}/{{total}}\\n\\t\\t\\t\\t\\t\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\uFF1A <input size=\\\"2\\\" title=\\\"\\u8F93\\u5165\\u4E00\\u4E2A\\u6570\\u5B57\\u786E\\u5B9A\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\\" type=\\\"text\\\" :value=\\\"pageSize\\\" @change=\\\"onPageSizeChange\\\" />\\n\\t\\t\\t\\t\\t\\u8DF3\\u8F6C\\uFF1A\\n\\t\\t\\t\\t\\t<select @change=\\\"jumpPageBySelect\\\">\\n\\t\\t\\t\\t\\t\\t<option :value=\\\"n\\\" v-for=\\\"n in totalPage\\\">{{n}}</option>\\n\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t</footer>\\n\\t\\t\\t\\t<div v-show=\\\"!!autoLoadWhenReachedBottom\\\" class=\\\"buttom\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\"], [\"\\n\\t\\t\\t<div class=\\\"aj-list\\\">\\n\\t\\t\\t\\t<slot name=\\\"header\\\" v-if=\\\"total != 0\\\"></slot>\\n\\t\\t\\t\\t<ul v-if=\\\"showDefaultUi && (total != 0)\\\">\\n\\t\\t\\t\\t\\t<li v-for=\\\"(item, index) in result\\\">\\n\\t\\t\\t\\t\\t\\t<slot v-bind=\\\"item\\\">\\n\\t\\t\\t\\t\\t\\t\\t<a href=\\\"#\\\" @click=\\\"show(item.id, index, $event)\\\" :id=\\\"item.id\\\">{{item.name}}</a>\\n\\t\\t\\t\\t\\t\\t</slot>\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t</ul>\\n\\t\\t\\t\\t<div class=\\\"no-data\\\" v-show=\\\"isPage && total == 0\\\">\\u672A\\u6709\\u4EFB\\u4F55\\u6570\\u636E</div>\\n\\t\\t\\t\\t<footer v-if=\\\"isPage\\\" class=\\\"pager\\\">\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart > 0\\\" href=\\\"#\\\" @click=\\\"previousPage\\\">\\u4E0A\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"(pageStart > 0 ) && (pageStart + pageSize < total)\\\" style=\\\"text-decoration: none;\\\">&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</a>\\n\\t\\t\\t\\t\\t<a v-if=\\\"pageStart + pageSize < total\\\" href=\\\"#\\\" @click=\\\"nextPage\\\">\\u4E0B\\u4E00\\u9875</a>\\n\\t\\t\\t\\t\\t<a href=\\\"javascript:;\\\" @click=\\\"getData\\\"><i class=\\\"fa fa-refresh\\\" aria-hidden=\\\"true\\\"></i> \\u5237\\u65B0</a>\\n\\t\\t\\t\\t\\t<input type=\\\"hidden\\\" name=\\\"start\\\" :value=\\\"pageStart\\\" />\\n\\t\\t\\t\\t\\t\\u9875\\u6570\\uFF1A{{currentPage}}/{{totalPage}} \\u8BB0\\u5F55\\u6570\\uFF1A{{pageStart}}/{{total}}\\n\\t\\t\\t\\t\\t\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\uFF1A <input size=\\\"2\\\" title=\\\"\\u8F93\\u5165\\u4E00\\u4E2A\\u6570\\u5B57\\u786E\\u5B9A\\u6BCF\\u9875\\u8BB0\\u5F55\\u6570\\\" type=\\\"text\\\" :value=\\\"pageSize\\\" @change=\\\"onPageSizeChange\\\" />\\n\\t\\t\\t\\t\\t\\u8DF3\\u8F6C\\uFF1A\\n\\t\\t\\t\\t\\t<select @change=\\\"jumpPageBySelect\\\">\\n\\t\\t\\t\\t\\t\\t<option :value=\\\"n\\\" v-for=\\\"n in totalPage\\\">{{n}}</option>\\n\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t</footer>\\n\\t\\t\\t\\t<div v-show=\\\"!!autoLoadWhenReachedBottom\\\" class=\\\"buttom\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t\"])),\n            props: {\n                showDefaultUi: { type: Boolean, default: true },\n                isShowFooter: { type: Boolean, default: true },\n                hrefStr: { type: String, required: false },\n                autoLoadWhenReachedBottom: { type: String, default: '' },\n                isDataAppend: { type: Boolean, default: false }\n            },\n            mounted: function () {\n                this.isAutoLoad && this.getData();\n                // this.BUS.$on('base-param-change', this.onExtraParamChange.bind(this));\n                if (!!this.autoLoadWhenReachedBottom) {\n                    // var scrollSpy = new aj.scrollSpy({ scrollInElement: aj(this.autoLoadWhenReachedBottom), spyOn: thish.$el.$('.buttom') });\n                    // scrollSpy.onScrollSpyBackInSight = e => this.nextPage();\n                }\n            },\n            methods: {\n                getData: function () {\n                    var _this = this;\n                    this.lastRequestParam = {};\n                    aj.apply(this.lastRequestParam, this.baseParam);\n                    aj.apply(this.lastRequestParam, this.extraParam);\n                    initPageParams.call(this);\n                    aj.xhr.get(this.apiUrl, this.onLoad || (function (j) {\n                        if (j.result) {\n                            if (_this.isPage && j.total === undefined)\n                                aj.alert('JSON 缺少 total 字段');\n                            if (j.total == 0 || j.result.length == 0)\n                                aj.alert('没有找到任何记录');\n                            _this.result = j.result;\n                            if (_this.isPage) {\n                                _this.total = j.total;\n                                _this.count();\n                            }\n                        }\n                        _this.$emit('pager-result', _this.result);\n                    }), this.lastRequestParam);\n                },\n                /**\n                 * 复位\n                 *\n                 * @param this\n                 */\n                reset: function () {\n                    this.total = this.totalPage = this.pageStart = this.currentPage = 0;\n                    this.pageSize = this.initPageSize;\n                },\n                onExtraParamChange: function (params) {\n                    aj.apply(this.extraParam, params);\n                    this.pageStart = 0; // 每次 extraParam 被改变，都是从第一笔开始\n                    this.getData();\n                }\n            },\n            watch: {\n                extraParam: function () {\n                    this.getData();\n                }\n            }\n        });\n        /**\n         * 生成分页参数的名字\n         *\n         * @param this\n         */\n        function initPageParams() {\n            var params = {};\n            params[this.pageParamNames[0]] = this.pageStart;\n            params[this.pageParamNames[1]] = this.pageSize;\n            this.isPage && aj.apply(this.lastRequestParam, params);\n        }\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var grid;\n    (function (grid) {\n        Vue.component('aj-simple-grid', {\n            template: html(__makeTemplateObject([\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchclassValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid aj-table\\\" style=\\\"clear: both;width:100%\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"], [\"\\n            <div>\\n                <form action=\\\"?\\\" method=\\\"GET\\\" style=\\\"float:right;\\\">\\n                    <input type=\\\"hidden\\\" name=\\\"searchField\\\" value=\\\"content\\\" />\\n                    <input type=\\\"text\\\" name=\\\"searchclassValue\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u4E4B\\u5173\\u952E\\u5B57\\\" class=\\\"aj-input\\\" />\\n                    <button style=\\\"margin-top: 0;\\\" class=\\\"aj-btn\\\">\\u641C\\u7D22</button>\\n                </form>\\n                <table class=\\\"aj-grid aj-table\\\" style=\\\"clear: both;width:100%\\\">\\n                    <thead>\\n                        <tr>\\n                            <th v-for=\\\"key in columns\\\" @click=\\\"sortBy(key)\\\" :class=\\\"{ active: sortKey == key }\\\">\\n                                {{ key | capitalize }}\\n                                <span class=\\\"arrow\\\" :class=\\\"sortOrders[key] > 0 ? 'asc' : 'dsc'\\\"></span>\\n                            </th>\\n                        </tr>\\n                    </thead>\\n                    <tbody>\\n                        <tr v-for=\\\"entry in filteredData\\\">\\n                            <td v-for=\\\"key in columns\\\" v-html=\\\"entry[key]\\\"></td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n            </div>\\n        \"])),\n            props: {\n                data: Array,\n                columns: Array,\n                filterKey: String\n            },\n            data: function () {\n                var sortOrders = {};\n                this.columns.forEach(function (key) { return sortOrders[key] = 1; });\n                return {\n                    sortKey: '',\n                    sortOrders: sortOrders\n                };\n            },\n            computed: {\n                filteredData: function () {\n                    var sortKey = this.sortKey, filterKey = this.filterKey && this.filterKey.toLowerCase(), order = this.sortOrders[sortKey] || 1, data = this.data;\n                    if (filterKey) {\n                        data = data.filter(function (row) {\n                            return Object.keys(row).some(function (key) { return String(row[key]).toLowerCase().indexOf(filterKey) > -1; });\n                        });\n                    }\n                    if (sortKey) {\n                        data = data.slice().sort(function (a, b) {\n                            a = a[sortKey];\n                            b = b[sortKey];\n                            return (a === b ? 0 : a > b ? 1 : -1) * order;\n                        });\n                    }\n                    return data;\n                }\n            },\n            filters: {\n                capitalize: function (str) {\n                    return str.charAt(0).toUpperCase() + str.slice(1);\n                }\n            },\n            methods: {\n                sortBy: function (key) {\n                    this.sortKey = key;\n                    this.sortOrders[key] = this.sortOrders[key] * -1;\n                }\n            }\n        });\n    })(grid = aj.grid || (aj.grid = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nVue.component('aj-grid-select-row', {\n    template: '<a href=\"#\" @click=\"fireSelect\">选择</a>',\n    props: { type: { type: String, required: true } },\n    methods: {\n        fireSelect: function () {\n            //@ts-ignore\n            this.BUS.$emit('on-' + this.type + '-select', this.$parent.form);\n        }\n    }\n});\nVue.component('aj-grid-open-link', {\n    template: '<a href=\"#\" @click=\"fireSelect\"><i class=\"fa fa-external-link\"></i> 详情</a>',\n    methods: {\n        fireSelect: function () {\n            //@ts-ignore\n            this.BUS.$emit('on-open-link-clk', this.$parent.form);\n        }\n    }\n});\n\n\"use strict\";\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            grid.SectionModel = {\n                data: function () {\n                    return {\n                        isSelectAll: false,\n                        selected: {},\n                        selectedTotal: 0,\n                        maxRows: 0\n                    };\n                },\n                mounted: function () {\n                    this.BUS && this.BUS.$on('on-delete-btn-clk', this.batchDelete);\n                },\n                methods: {\n                    /**\n                     * 批量删除\n                     */\n                    batchDelete: function () {\n                        var _this = this;\n                        if (this.selectedTotal > 0) {\n                            aj.showConfirm('确定批量删除记录？', function () {\n                                for (var id in _this.selected) {\n                                    // @ts-ignore\n                                    aj.xhr.dele(_this.apiUrl + \"/\" + id + \"/\", function (j) {\n                                        console.log(j);\n                                    });\n                                }\n                            });\n                        }\n                        else\n                            aj.alert('未选择记录');\n                    },\n                    /**\n                     * 全选\n                     */\n                    selectAll: function () {\n                        var _this = this;\n                        var checkAll = function (item) {\n                            item.checked = true;\n                            var id = item.dataset.id;\n                            if (!id)\n                                throw '需要提供 id 在 DOM 属性中';\n                            _this.$set(_this.selected, Number(id), true);\n                        }, diskCheckAll = function (item) {\n                            item.checked = false;\n                            var id = item.dataset.id;\n                            if (!id)\n                                throw '需要提供 id 在 DOM 属性中';\n                            _this.$set(_this.selected, Number(id), false);\n                        };\n                        this.$el.$('table .selectCheckbox input[type=checkbox]', this.selectedTotal === this.maxRows ? diskCheckAll : checkAll);\n                    }\n                },\n                watch: {\n                    selected: {\n                        handler: function (_new) {\n                            var j = 0;\n                            // clear falses\n                            for (var i in this.selected) {\n                                if (this.selected[i] === false)\n                                    delete this.selected[i];\n                                else\n                                    j++;\n                            }\n                            this.selectedTotal = j;\n                            if (j === this.maxRows)\n                                this.$el.$('.top-checkbox').checked = true;\n                            else\n                                this.$el.$('.top-checkbox').checked = false;\n                        },\n                        deep: true\n                    }\n                }\n            };\n            /**\n             * 标准表格\n             */\n            var Grid = /** @class */ (function (_super) {\n                __extends(Grid, _super);\n                function Grid() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = \"aj-grid\";\n                    _this.template = '<div class=\"aj-grid\"><slot v-bind:grid=\"this\"></slot></div>';\n                    _this.mixins = [grid.SectionModel];\n                    _this.props = {\n                        apiUrl: { type: String, required: true },\n                        updateUrl: { type: String, required: false }\n                    };\n                    /**\n                     * 数据层，控制分页\n                     */\n                    _this.$store = null;\n                    /**\n                     * 工具条 UI\n                     */\n                    _this.$toolbar = null;\n                    /**\n                     * 行 UI\n                     */\n                    _this.$row = null;\n                    /**\n                     *\n                     */\n                    _this.showAddNew = false;\n                    /**\n                     *\n                     */\n                    _this.list = [];\n                    _this.apiUrl = \"\";\n                    _this.updateUrl = \"\";\n                    _this.maxRows = 0;\n                    _this.selected = {};\n                    return _this;\n                }\n                Grid.prototype.data = function () {\n                    return {\n                        list: [],\n                        updateApi: null,\n                        showAddNew: false\n                    };\n                };\n                Grid.prototype.mounted = function () {\n                    var _this = this;\n                    this.$children.forEach(function (child) {\n                        switch (child.$options._componentTag) {\n                            case 'aj-entity-toolbar':\n                                _this.$toolbar = child;\n                                break;\n                            case 'aj-grid-inline-edit-row':\n                                _this.$row = child;\n                                break;\n                            case 'aj-list':\n                                _this.$store = child;\n                                break;\n                        }\n                    });\n                    this.$store.$on(\"pager-result\", function (result) {\n                        _this.list = result;\n                        _this.maxRows = result.length;\n                    });\n                    // this.$store.autoLoad && this.$store.getDataData();\n                };\n                /**\n                 * 按下【新建】按钮时候触发的事件，你可以覆盖这个方法提供新的事件\n                 */\n                Grid.prototype.onCreateClk = function () {\n                    this.showAddNew = true;\n                };\n                /**\n                 * 重新加载数据\n                 */\n                Grid.prototype.reload = function () {\n                    this.$store.getData();\n                };\n                /**\n                 * 保存脏数据\n                 */\n                Grid.prototype.onDirtySaveClk = function () {\n                    var _this = this;\n                    var dirties = getDirty.call(this);\n                    if (!dirties.length) {\n                        aj.msg.show('没有修改过的记录');\n                        return;\n                    }\n                    dirties.forEach(function (item) {\n                        aj.xhr.put((_this.updateUrl || _this.apiUrl) + \"/\" + item.id + \"/\", function (j) {\n                            if (j.isOk) {\n                                _this.list.forEach(function (item) {\n                                    if (item.dirty)\n                                        delete item.dirty;\n                                });\n                                aj.msg.show('修改记录成功');\n                            }\n                        }, item.dirty);\n                    });\n                };\n                return Grid;\n            }(aj.VueComponent));\n            grid.Grid = Grid;\n            new Grid().register();\n            /**\n             * 获取修改过的数据\n             *\n             * @param this\n             */\n            function getDirty() {\n                var dirties = [];\n                this.list.forEach(function (item) {\n                    if (item.dirty) { // 有这个 dirty 就表示修改过的\n                        // item.dirty.id = item.id;\n                        dirties.push(item);\n                    }\n                });\n                return dirties;\n            }\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            /**\n             * 新建记录的行\n             */\n            var EditRowCreate = /** @class */ (function (_super) {\n                __extends(EditRowCreate, _super);\n                function EditRowCreate() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = \"aj-grid-inline-edit-row-create\";\n                    _this.template = html(__makeTemplateObject([\"\\n            <tr class=\\\"aj-grid-inline-edit-row isEditMode\\\">\\n                <td></td>\\n                <td></td>\\n                <td v-for=\\\"key in columns\\\" style=\\\"padding:0\\\" class=\\\"cell\\\">\\n                    <aj-select v-if=\\\"key != null && key.type == 'select'\\\" :name=\\\"key.name\\\" :options=\\\"key.data\\\"  style=\\\"width: 200px;\\\"></aj-select>\\n                    <input v-if=\\\"key != null && !key.type\\\" type=\\\"text\\\" size=\\\"0\\\" :name=\\\"key\\\" style=\\\"background-color:white\\\" />\\n                </td>\\n                <td class=\\\"control\\\">\\n                    <span @click=\\\"addNew\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#080;\\\"></i> \\u65B0\\u589E</span>\\n                    <span @click=\\\"$parent.showAddNew = false\\\"><i class=\\\"fa fa-undo\\\" style=\\\"color:#bc49eb;\\\"></i> \\u64A4\\u9500</span>\\n                </td>\\n            </tr>\\n        \"], [\"\\n            <tr class=\\\"aj-grid-inline-edit-row isEditMode\\\">\\n                <td></td>\\n                <td></td>\\n                <td v-for=\\\"key in columns\\\" style=\\\"padding:0\\\" class=\\\"cell\\\">\\n                    <aj-select v-if=\\\"key != null && key.type == 'select'\\\" :name=\\\"key.name\\\" :options=\\\"key.data\\\"  style=\\\"width: 200px;\\\"></aj-select>\\n                    <input v-if=\\\"key != null && !key.type\\\" type=\\\"text\\\" size=\\\"0\\\" :name=\\\"key\\\" style=\\\"background-color:white\\\" />\\n                </td>\\n                <td class=\\\"control\\\">\\n                    <span @click=\\\"addNew\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#080;\\\"></i> \\u65B0\\u589E</span>\\n                    <span @click=\\\"$parent.showAddNew = false\\\"><i class=\\\"fa fa-undo\\\" style=\\\"color:#bc49eb;\\\"></i> \\u64A4\\u9500</span>\\n                </td>\\n            </tr>\\n        \"]));\n                    _this.props = {\n                        columns: { type: Array, required: true },\n                        createApi: { type: String, required: false, default: '.' }\n                    };\n                    /**\n                     * 创建的 API 地址\n                     */\n                    _this.createApi = \"\";\n                    _this.$parent = null;\n                    return _this;\n                }\n                /**\n                 * 新增按钮事件\n                 */\n                EditRowCreate.prototype.addNew = function () {\n                    var _this = this;\n                    var map = {}; // 创建动作的表单数据\n                    this.$el.$('*[name]', function (i) { return map[i.name] = i.value; });\n                    this.BUS.$emit('before-add-new', map);\n                    aj.xhr.post(this.createApi, function (j) {\n                        if (j && j.isOk) {\n                            aj.msg.show('新建实体成功');\n                            _this.$el.$('input[name]', function (i) {\n                                i.value = '';\n                            });\n                            if (_this.$parent) {\n                                _this.$parent.reload();\n                                _this.$parent.showAddNew = false;\n                            }\n                        }\n                        else if (j && j.msg) {\n                            aj.msg.show(j.msg);\n                        }\n                    }, map);\n                };\n                return EditRowCreate;\n            }(aj.VueComponent));\n            new EditRowCreate().register();\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            Vue.component('foo', {\n                template: '<div>foo</div>'\n            });\n            /**\n             * 行的 UI\n             */\n            var GridEditRow = /** @class */ (function (_super) {\n                __extends(GridEditRow, _super);\n                function GridEditRow() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = \"aj-grid-inline-edit-row\";\n                    _this.template = html(__makeTemplateObject([\"\\n            <tr class=\\\"aj-grid-inline-edit-row\\\" :class=\\\"{editing: isEditMode}\\\">\\n                <td v-if=\\\"showCheckboxCol\\\" class=\\\"selectCheckbox\\\">\\n                    <input type=\\\"checkbox\\\" @change=\\\"selectCheckboxChange\\\" :data-id=\\\"id\\\" />\\n                </td>\\n                <td v-if=\\\"showIdCol\\\">{{id}}</td>\\n                <td v-for=\\\"cellRenderer in columns\\\" :style=\\\"styleModifly\\\" class=\\\"cell\\\" @dblclick=\\\"dbEdit\\\">\\n                    <span v-if=\\\"!isEditMode\\\" v-html=\\\"renderCell(rowData, cellRenderer)\\\"></span>\\n                    <input v-if=\\\"canEdit(cellRenderer)\\\" v-model=\\\"rowData[cellRenderer]\\\" type=\\\"text\\\" size=\\\"0\\\" style=\\\"background-color:white;\\\" />\\n                    <span v-if=\\\"cellRenderer && cellRenderer.cmpName\\\">\\n                        <component v-if=\\\"!isEditMode || !cellRenderer.editMode\\\" v-bind:is=\\\"cellRenderer.cmpName\\\" v-bind=\\\"cellRenderer.cmpProps(rowData)\\\"></component>\\n                        <component v-if=\\\"isEditMode && cellRenderer.editMode\\\" v-bind:is=\\\"cellRenderer.editCmpName\\\" v-bind=\\\"cellRenderer.cmpProps(rowData)\\\"></component> \\n                    </span>\\n                </td>\\n                <td v-if=\\\"showControl\\\" class=\\\"control\\\">\\n                    <aj-cell-renderer v-if=\\\"controlUi\\\" :html=\\\"controlUi\\\" :form=\\\"rowData\\\"></aj-cell-renderer>\\n                    <span @click=\\\"onEditClk\\\" class=\\\"edit\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i>\\n                        {{!isEditMode ? \\\"\\u7F16\\u8F91\\\" : \\\"\\u786E\\u5B9A\\\"}}</span>\\n                    <span @click=\\\"dele\\\" class=\\\"delete\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i> \\u5220\\u9664</span>\\n                </td>\\n            </tr>\"], [\"\\n            <tr class=\\\"aj-grid-inline-edit-row\\\" :class=\\\"{editing: isEditMode}\\\">\\n                <td v-if=\\\"showCheckboxCol\\\" class=\\\"selectCheckbox\\\">\\n                    <input type=\\\"checkbox\\\" @change=\\\"selectCheckboxChange\\\" :data-id=\\\"id\\\" />\\n                </td>\\n                <td v-if=\\\"showIdCol\\\">{{id}}</td>\\n                <td v-for=\\\"cellRenderer in columns\\\" :style=\\\"styleModifly\\\" class=\\\"cell\\\" @dblclick=\\\"dbEdit\\\">\\n                    <span v-if=\\\"!isEditMode\\\" v-html=\\\"renderCell(rowData, cellRenderer)\\\"></span>\\n                    <input v-if=\\\"canEdit(cellRenderer)\\\" v-model=\\\"rowData[cellRenderer]\\\" type=\\\"text\\\" size=\\\"0\\\" style=\\\"background-color:white;\\\" />\\n                    <span v-if=\\\"cellRenderer && cellRenderer.cmpName\\\">\\n                        <component v-if=\\\"!isEditMode || !cellRenderer.editMode\\\" v-bind:is=\\\"cellRenderer.cmpName\\\" v-bind=\\\"cellRenderer.cmpProps(rowData)\\\"></component>\\n                        <component v-if=\\\"isEditMode && cellRenderer.editMode\\\" v-bind:is=\\\"cellRenderer.editCmpName\\\" v-bind=\\\"cellRenderer.cmpProps(rowData)\\\"></component> \\n                    </span>\\n                </td>\\n                <td v-if=\\\"showControl\\\" class=\\\"control\\\">\\n                    <aj-cell-renderer v-if=\\\"controlUi\\\" :html=\\\"controlUi\\\" :form=\\\"rowData\\\"></aj-cell-renderer>\\n                    <span @click=\\\"onEditClk\\\" class=\\\"edit\\\"><i class=\\\"fa fa-pencil\\\" aria-hidden=\\\"true\\\"></i>\\n                        {{!isEditMode ? \\\"\\u7F16\\u8F91\\\" : \\\"\\u786E\\u5B9A\\\"}}</span>\\n                    <span @click=\\\"dele\\\" class=\\\"delete\\\"><i class=\\\"fa fa-times\\\" aria-hidden=\\\"true\\\"></i> \\u5220\\u9664</span>\\n                </td>\\n            </tr>\"]));\n                    _this.props = {\n                        initRowData: { type: Object, required: true },\n                        showIdCol: { type: Boolean, default: true },\n                        showCheckboxCol: { type: Boolean, default: true },\n                        showControl: { type: Boolean, default: true },\n                        enableInlineEdit: { type: Boolean, default: false },\n                        columns: Array,\n                        filterField: Array,\n                        deleApi: String,\n                        controlUi: String // 自定义“操作”按钮，这里填组件的名字\n                    };\n                    /**\n                     * 固定不可编辑的字段\n                     */\n                    _this.filterField = [];\n                    /**\n                     * 每行记录它的 id\n                     */\n                    _this.id = \"\";\n                    /**\n                     * 输入的数据\n                     */\n                    _this.initRowData = {};\n                    /**\n                     * 每行记录的数据\n                     */\n                    _this.rowData = {};\n                    /**\n                     * 是否处于编辑模式\n                     */\n                    _this.isEditMode = false;\n                    /**\n                     * 表格是否可以被编辑\n                     */\n                    _this.enableInlineEdit = false;\n                    /**\n                     * 单元格渲染器的类型，这是一个有序的数组\n                     */\n                    _this.columns = [];\n                    _this.$parent = null;\n                    _this.computed = {\n                        // filterData(this: GridEditRow) {// dep\n                        //     let data = JSON.parse(JSON.stringify(this.rowData));// 剔除不要的字段\n                        //     delete data.id;\n                        //     delete data.dirty;\n                        //     if (this.filterField && this.filterField.length)\n                        //         this.filterField.forEach(i => delete data[i]);\n                        //     return data;\n                        // },\n                        /**\n                         * 修改样式\n                         *\n                         * @param this\n                         */\n                        styleModifly: function () {\n                            return {\n                                padding: this.isEditMode ? 0 : '',\n                            };\n                        }\n                    };\n                    return _this;\n                }\n                GridEditRow.prototype.data = function () {\n                    return {\n                        id: this.initRowData.id,\n                        rowData: this.initRowData,\n                        isEditMode: false\n                    };\n                };\n                GridEditRow.prototype.mounted = function () {\n                    for (var i in this.rowData) // 监视每个字段\n                        this.$watch('rowData.' + i, makeWatch.call(this, i));\n                };\n                /**\n                 * 选区模型的写入，记录哪一行被选中了\n                 *\n                 * @param ev 事件对象\n                 */\n                GridEditRow.prototype.selectCheckboxChange = function (ev) {\n                    var checkbox = ev.target, parent = this.$parent;\n                    if (parent) {\n                        if (checkbox.checked)\n                            parent.$set(parent.selected, this.id, true);\n                        else\n                            parent.$set(parent.selected, this.id, false);\n                    }\n                };\n                /**\n                 * 渲染单元格\n                 *\n                 * @param data\n                 * @param cellRenderer\n                 */\n                GridEditRow.prototype.renderCell = function (data, cellRenderer) {\n                    var v = \"\";\n                    if (cellRenderer === '')\n                        return v;\n                    if (typeof cellRenderer == 'string')\n                        v = data[cellRenderer] + \"\";\n                    if (typeof cellRenderer == 'function')\n                        v = cellRenderer(data);\n                    if (typeof cellRenderer == 'object') {\n                        var cfg = cellRenderer;\n                        if (!!cfg.renderer)\n                            v = cfg.renderer(data);\n                    }\n                    return v;\n                };\n                /**\n                 * 没有指定编辑器的情况下，使用 input 作为编辑器\n                 *\n                 * @param cellRenderer\n                 */\n                GridEditRow.prototype.canEdit = function (cellRenderer) {\n                    return this.isEditMode && !isFixedField.call(this, cellRenderer) && !(cellRenderer.editMode);\n                };\n                /**\n                 * 渲染编辑模式下的行\n                 *\n                 * @param data\n                 * @param cellRenderer\n                 */\n                GridEditRow.prototype.rendererEditMode = function (data, cellRenderer) {\n                    if (typeof cellRenderer === 'string')\n                        return cellRenderer.toString();\n                    var cfg = cellRenderer;\n                    if (cfg.editMode && typeof cfg.editRenderer === 'function')\n                        return cfg.editRenderer(data);\n                    return \"NULL\";\n                };\n                /**\n                 * 编辑按钮事件\n                 */\n                GridEditRow.prototype.onEditClk = function () {\n                    if (this.enableInlineEdit)\n                        this.isEditMode = !this.isEditMode;\n                    //@ts-ignore    \n                    else if (this.$parent.onEditClk) // 打开另外的编辑界面\n                        //@ts-ignore    \n                        this.$parent.onEditClk(this.id);\n                    //@ts-ignore  \n                    else if (this.$parent.$parent.onEditClk) // 打开另外的编辑界面\n                        //@ts-ignore    \n                        this.$parent.$parent.onEditClk(this.id);\n                };\n                /**\n                 * 双击单元格进入编辑\n                 *\n                 * @param ev\n                 */\n                GridEditRow.prototype.dbEdit = function (ev) {\n                    this.onEditClk();\n                    if (this.enableInlineEdit && this.isEditMode) {\n                        var el_1 = ev.target;\n                        if (el_1.tagName !== 'TD')\n                            el_1 = el_1.up('td');\n                        setTimeout(function () {\n                            var _el;\n                            if (el_1.tagName !== 'INPUT')\n                                _el = el_1.$('input');\n                            _el && _el.focus();\n                        }, 200);\n                    }\n                };\n                /**\n                 * 删除记录\n                 */\n                GridEditRow.prototype.dele = function (id) {\n                    var _this = this;\n                    aj.showConfirm(\"\\u786E\\u5B9A\\u5220\\u9664\\u8BB0\\u5F55 id:[\" + this.id + \"] \\u5417\\uFF1F\", function () {\n                        if (_this.$parent)\n                            aj.xhr.dele(_this.$parent.apiUrl + \"/\" + _this.id + \"/\", function (j) {\n                                if (j.isOk) {\n                                    aj.msg.show('删除成功');\n                                    _this.$parent && _this.$parent.reload();\n                                }\n                            });\n                    });\n                };\n                return GridEditRow;\n            }(aj.VueComponent));\n            new GridEditRow().register();\n            /**\n             * 生成该字段的 watch 函数\n             *\n             * @param this\n             * @param field\n             */\n            function makeWatch(field) {\n                return function (_new) {\n                    if (this.$parent) {\n                        var arr = this.$parent.list, data = void 0;\n                        for (var i = 0, j = arr.length; i < j; i++) { // 已知 id 找到原始数据\n                            if (this.id && (String(arr[i].id) == this.id)) {\n                                data = arr[i];\n                                break;\n                            }\n                        }\n                        if (!data)\n                            throw '找不到匹配的实体！目标 id: ' + this.id;\n                        if (!data.dirty)\n                            data.dirty = { id: this.id };\n                        data.dirty[field] = _new; // 保存新的值，key 是字段名\n                    }\n                };\n            }\n            /**\n             * 是否固定的字段，固定的字段不能被编辑\n             *\n             * @param this\n             * @param cellRenderer\n             */\n            function isFixedField(cellRenderer) {\n                if (this.filterField && this.filterField.length) {\n                    for (var i = 0, j = this.filterField.length; i < j; i++) {\n                        if (this.filterField[i] == cellRenderer)\n                            return true;\n                    }\n                }\n                return false;\n            }\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var grid;\n        (function (grid) {\n            /**\n             * 工具条\n             */\n            Vue.component('aj-entity-toolbar', {\n                template: html(__makeTemplateObject([\"\\n            <div class=\\\"toolbar\\\">\\n                <form v-if=\\\"search\\\" class=\\\"right\\\">\\n                    <input type=\\\"text\\\" name=\\\"keyword\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57\\\" size=\\\"12\\\" />\\n                    <button @click=\\\"doSearch\\\"><i class=\\\"fa fa-search\\\" style=\\\"color:#417BB5;\\\"></i>\\u641C\\u7D22</button>\\n                </form>\\n                <aj-form-between-date v-if=\\\"betweenDate\\\" class=\\\"right\\\" :is-ajax=\\\"true\\\"></aj-form-between-date>\\n                <ul>\\n                    <li v-if=\\\"create\\\" @click=\\\"$emit('on-create-btn-clk')\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#0a90f0;\\\"></i> \\u65B0\\u5EFA</li>\\n                    <li v-if=\\\"save\\\" @click=\\\"$emit('on-save-btn-clk')\\\"><i class=\\\"fa fa-floppy-o\\\"\\n                            style=\\\"color:rgb(205, 162, 4);\\\"></i>\\u4FDD\\u5B58</li>\\n                    <li v-if=\\\"deleBtn\\\" @click=\\\"$emit('on-delete-btn-clk')\\\"><i class=\\\"fa fa-trash-o\\\" style=\\\"color:red;\\\"></i> \\u5220\\u9664</li>\\n                    <li v-if=\\\"excel\\\"><i class=\\\"fa fa-file-excel-o\\\" style=\\\"color:green;\\\"></i> \\u5BFC\\u51FA</li>\\n                    <slot></slot>\\n                </ul>\\n            </div>\\n        \"], [\"\\n            <div class=\\\"toolbar\\\">\\n                <form v-if=\\\"search\\\" class=\\\"right\\\">\\n                    <input type=\\\"text\\\" name=\\\"keyword\\\" placeholder=\\\"\\u8BF7\\u8F93\\u5165\\u5173\\u952E\\u5B57\\\" size=\\\"12\\\" />\\n                    <button @click=\\\"doSearch\\\"><i class=\\\"fa fa-search\\\" style=\\\"color:#417BB5;\\\"></i>\\u641C\\u7D22</button>\\n                </form>\\n                <aj-form-between-date v-if=\\\"betweenDate\\\" class=\\\"right\\\" :is-ajax=\\\"true\\\"></aj-form-between-date>\\n                <ul>\\n                    <li v-if=\\\"create\\\" @click=\\\"$emit('on-create-btn-clk')\\\"><i class=\\\"fa fa-plus\\\" style=\\\"color:#0a90f0;\\\"></i> \\u65B0\\u5EFA</li>\\n                    <li v-if=\\\"save\\\" @click=\\\"$emit('on-save-btn-clk')\\\"><i class=\\\"fa fa-floppy-o\\\"\\n                            style=\\\"color:rgb(205, 162, 4);\\\"></i>\\u4FDD\\u5B58</li>\\n                    <li v-if=\\\"deleBtn\\\" @click=\\\"$emit('on-delete-btn-clk')\\\"><i class=\\\"fa fa-trash-o\\\" style=\\\"color:red;\\\"></i> \\u5220\\u9664</li>\\n                    <li v-if=\\\"excel\\\"><i class=\\\"fa fa-file-excel-o\\\" style=\\\"color:green;\\\"></i> \\u5BFC\\u51FA</li>\\n                    <slot></slot>\\n                </ul>\\n            </div>\\n        \"])),\n                props: {\n                    betweenDate: { type: Boolean, default: true },\n                    create: { type: Boolean, default: true },\n                    save: { type: Boolean, default: true },\n                    excel: { type: Boolean, default: false },\n                    deleBtn: { type: Boolean, default: true },\n                    search: { type: Boolean, default: true }\n                },\n                methods: {\n                    /**\n                     * 获取关键字进行搜索\n                     *\n                     * @param this\n                     * @param ev\n                     */\n                    doSearch: function (ev) {\n                        ev.preventDefault();\n                        aj.apply(this.$parent.$store.extraParam, { keyword: aj.form.utils.getFormFieldValue(this.$el, 'input[name=keyword]') });\n                        this.$parent.$store.reload();\n                    }\n                }\n            });\n        })(grid = list.grid || (list.grid = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            /**\n             * 寻找节点\n             *\n             * @param obj\n             * @param queen\n             * @returns\n             */\n            function findNodesHolder(obj, queen) {\n                if (!queen.shift)\n                    return null;\n                var first = queen.shift();\n                for (var i in obj) {\n                    if (i === first) {\n                        var target_1 = obj[i];\n                        if (queen.length == 0) // 找到了\n                            return target_1;\n                        else\n                            return findNodesHolder(obj[i], queen);\n                    }\n                }\n                return null;\n            }\n            tree.findNodesHolder = findNodesHolder;\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\nvar aj;\n(function (aj) {\n    var tree;\n    (function (tree) {\n        /**\n         * 下拉分类选择器，异步请求远端获取分类数据\n         */\n        var TreeLikeSelect = /** @class */ (function (_super) {\n            __extends(TreeLikeSelect, _super);\n            function TreeLikeSelect() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = 'aj-tree-like-select';\n                _this.template = '<select :name=\"fieldName\" class=\"aj-select\" @change=\"onSelected\" style=\"min-width:180px;\"></select>';\n                _this.props = {\n                    fieldName: { type: String, required: false, default: 'catalogId' },\n                    apiUrl: { type: String, default: function () { return aj.ctx + '/admin/tree-like/'; } },\n                    isAutoLoad: { type: Boolean, default: true },\n                    isAutoJump: Boolean,\n                    initFieldValue: String\n                };\n                _this.apiUrl = \"\";\n                /**\n                 * 是否自动跳转 catalogId\n                 */\n                _this.isAutoJump = false;\n                _this.isAutoLoad = true;\n                _this.fieldName = \"\";\n                _this.fieldValue = \"\";\n                _this.initFieldValue = \"\";\n                return _this;\n            }\n            TreeLikeSelect.prototype.data = function () {\n                return {\n                    fieldValue: this.initFieldValue\n                };\n            };\n            TreeLikeSelect.prototype.mounted = function () {\n                this.isAutoLoad && this.getData();\n            };\n            TreeLikeSelect.prototype.onSelected = function (ev) {\n                var el = ev.target;\n                this.fieldValue = el.selectedOptions[0].value;\n                if (this.isAutoJump)\n                    location.assign('?' + this.fieldName + '=' + this.fieldValue);\n                else\n                    this.BUS && this.BUS.$emit('aj-tree-catelog-select-change', ev, this);\n            };\n            TreeLikeSelect.prototype.getData = function () {\n                var _this = this;\n                var fn = function (j) {\n                    var arr = [{ id: 0, name: \"请选择分类\" }];\n                    rendererOption(arr.concat(j.result), _this.$el, _this.fieldValue, { makeAllOption: false });\n                    if (_this.fieldValue) // 有指定的选中值\n                        //@ts-ignore\n                        aj.form.utils.selectOption.call(_this, _this.fieldValue);\n                };\n                // aj.xhr.get(this.ajResources.ctx + this.apiUrl + \"/admin/tree-like/getListAndSubByParentId/\", fn);\n                aj.xhr.get(this.apiUrl, fn);\n            };\n            return TreeLikeSelect;\n        }(aj.VueComponent));\n        tree.TreeLikeSelect = TreeLikeSelect;\n        new TreeLikeSelect().register();\n        /**\n         * 渲染 Option 标签的 DOM\n         *\n         * @param jsonArray\n         * @param select\n         * @param selectedId\n         * @param cfg\n         */\n        function rendererOption(jsonArray, select, selectedId, cfg) {\n            if (cfg && cfg.makeAllOption) {\n                var option = document.createElement('option');\n                option.innerHTML = cfg.allOptionName || \"全部分类\";\n                select.appendChild(option);\n            }\n            var treeNode = tree.toTreeMap(jsonArray);\n            if (treeNode) {\n                // 生成 option\n                var temp_1 = document.createDocumentFragment();\n                console.log(treeNode);\n                tree.output(treeNode, function (node, nodeId) {\n                    var option = document.createElement('option'); // 节点\n                    option.value = nodeId;\n                    if (selectedId && selectedId == nodeId) // 选中的\n                        option.selected = true;\n                    option.dataset['pid'] = node.pid + \"\";\n                    //option.style= \"padding-left:\" + (node.level - 1) +\"rem;\";\n                    option.innerHTML = new Array(node.level * 5).join('&nbsp;') + (node.level == 1 ? '' : '└─') + node.name;\n                    temp_1.appendChild(option);\n                });\n                select.appendChild(temp_1);\n            }\n        }\n        tree.rendererOption = rendererOption;\n    })(tree = aj.tree || (aj.tree = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            /**\n             * 排序\n             * 父id 必须在子 id 之前，不然下面 findParent() 找不到后面的父节点，故先排序\n             *\n             * @param jsonArray\n             */\n            function makeTree(jsonArray) {\n                var arr = [];\n                for (var i = 0, j = jsonArray.length; i < j; i++) {\n                    var n = jsonArray[i];\n                    if (n.pid === -1)\n                        arr.push(n);\n                    else {\n                        var parentNode = findParentInArray(arr, n.pid);\n                        if (parentNode) {\n                            if (!parentNode.children)\n                                parentNode.children = [];\n                            parentNode.children.push(n);\n                        }\n                        else\n                            console.log('parent not found!');\n                    }\n                }\n                return arr;\n            }\n            tree.makeTree = makeTree;\n            /**\n             * 根据传入 id 在一个数组中查找父亲节点\n             *\n             * @param jsonArray\n             * @param id\n             */\n            function findParentInArray(jsonArray, id) {\n                for (var i = 0, j = jsonArray.length; i < j; i++) {\n                    var map = jsonArray[i];\n                    if (map.id == id)\n                        return map;\n                    if (map.children) {\n                        var result = findParentInArray(map.children, id);\n                        if (result != null)\n                            return result;\n                    }\n                }\n                return null;\n            }\n            tree.findParentInArray = findParentInArray;\n            /**\n             * 根据传入 id 查找父亲节点\n             *\n             * @param map\n             * @param id\n             */\n            function findParentInMap(map, id) {\n                for (var i in map) {\n                    if (i == id)\n                        return map[i];\n                    var c = map[i].children;\n                    if (c) {\n                        for (var q = 0, p = c.length; q < p; q++) {\n                            var result = findParentInMap(c[q], id);\n                            if (result != null)\n                                return result;\n                        }\n                    }\n                }\n                return null;\n            }\n            tree.findParentInMap = findParentInMap;\n            var stack = [];\n            /**\n             * 遍历各个元素，输出\n             *\n             * @param map\n             * @param cb\n             */\n            function output(map, cb) {\n                stack.push(map);\n                for (var i in map) {\n                    map[i].level = stack.length; // 层数，也表示缩进多少个字符\n                    cb(map[i], i);\n                    var c = map[i].children;\n                    if (c) {\n                        for (var q = 0, p = c.length; q < p; q++)\n                            output(c[q], cb);\n                    }\n                }\n                stack.pop();\n            }\n            tree.output = output;\n            /**\n             * 生成树，将扁平化的数组结构 还原为树状的结构\n             * 父id 必须在子id之前，不然下面 findParent() 找不到后面的父节点，故前提条件是，这个数组必须先排序\n             *\n             * @param jsonArray\n             */\n            function toTree(jsonArray) {\n                if (!jsonArray)\n                    return {};\n                var m = {};\n                for (var i = 0, j = jsonArray.length; i < j; i++) {\n                    var n = jsonArray[i], parentNode = findParentInMap(m, n.pid + \"\");\n                    if (parentNode == null) { // 没有父节点，那就表示这是根节点，保存之\n                        m[n.id] = n; // id 是key，value 新建一对象\n                    }\n                    else { // 有父亲节点，作为孩子节点保存\n                        var obj = {};\n                        obj[n.id] = n;\n                        if (!parentNode.children)\n                            parentNode.children = [];\n                        parentNode.children.push(obj);\n                    }\n                }\n                return m;\n            }\n            tree.toTree = toTree;\n            /**\n             * 渲染 Option 标签的 DOM\n             *\n             * @param jsonArray\n             * @param select\n             * @param selectedId\n             * @param cfg\n             */\n            function rendererOption(jsonArray, select, selectedId, cfg) {\n                if (cfg && cfg.makeAllOption) {\n                    var option = document.createElement('option');\n                    option.value = option.innerHTML = \"全部分类\";\n                    select.appendChild(option);\n                }\n                // 生成 option\n                var temp = document.createDocumentFragment();\n                output(toTree(jsonArray), function (node, nodeId) {\n                    var option = document.createElement('option'); // 节点\n                    option.value = nodeId;\n                    if (selectedId && selectedId == nodeId) // 选中的\n                        option.selected = true;\n                    option.dataset['pid'] = node.pid + \"\";\n                    //option.style= \"padding-left:\" + (node.level - 1) +\"rem;\";\n                    option.innerHTML = new Array(node.level * 5).join('&nbsp;') + (node.level == 1 ? '' : '└─') + node.name;\n                    temp.appendChild(option);\n                });\n                select.appendChild(temp);\n            }\n            tree.rendererOption = rendererOption;\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            /**\n             * 注意递归组件的使用\n             */\n            var TreeItem = /** @class */ (function (_super) {\n                __extends(TreeItem, _super);\n                function TreeItem() {\n                    var _this = _super !== null && _super.apply(this, arguments) || this;\n                    _this.name = 'aj-tree-item';\n                    _this.template = html(__makeTemplateObject([\"\\n            <li>\\n                <div :class=\\\"{bold: isFolder, node: true}\\\" @click=\\\"toggle\\\">\\n                    <span>\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7</span>{{model.name}}\\n                    <span v-if=\\\"isFolder\\\">[{{open ? '-' : '+'}}]</span>\\n                </div>\\n                <ul v-show=\\\"open\\\" v-if=\\\"isFolder\\\" :class=\\\"{show: open}\\\">\\n                    <aj-tree-item class=\\\"item\\\" v-for=\\\"(model, index) in model.children\\\" :key=\\\"index\\\" :model=\\\"model\\\">\\n                    </aj-tree-item>\\n                    <li v-if=\\\"allowAddNode\\\" class=\\\"add\\\" @click=\\\"addChild\\\">+</li>\\n                </ul>\\n            </li>\\n        \"], [\"\\n            <li>\\n                <div :class=\\\"{bold: isFolder, node: true}\\\" @click=\\\"toggle\\\">\\n                    <span>\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7</span>{{model.name}}\\n                    <span v-if=\\\"isFolder\\\">[{{open ? '-' : '+'}}]</span>\\n                </div>\\n                <ul v-show=\\\"open\\\" v-if=\\\"isFolder\\\" :class=\\\"{show: open}\\\">\\n                    <aj-tree-item class=\\\"item\\\" v-for=\\\"(model, index) in model.children\\\" :key=\\\"index\\\" :model=\\\"model\\\">\\n                    </aj-tree-item>\\n                    <li v-if=\\\"allowAddNode\\\" class=\\\"add\\\" @click=\\\"addChild\\\">+</li>\\n                </ul>\\n            </li>\\n        \"]));\n                    _this.props = {\n                        model: Object,\n                        allowAddNode: { type: Boolean, default: false } // 是否允许添加新节点\n                    };\n                    _this.model = { children: [] };\n                    _this.open = false;\n                    _this.allowAddNode = false;\n                    // isFolder = false;\n                    _this.computed = {\n                        isFolder: function () {\n                            return !!(this.model.children && this.model.children.length);\n                        }\n                    };\n                    return _this;\n                }\n                /**\n                 * 点击节点时的方法\n                 *\n                 * @param this\n                 */\n                TreeItem.prototype.toggle = function () {\n                    //@ts-ignore\n                    if (this.isFolder)\n                        this.open = !this.open;\n                    this.BUS && this.BUS.$emit('tree-node-click', this.model);\n                };\n                /**\n                 * 变为文件夹\n                 *\n                 * @param this\n                 */\n                TreeItem.prototype.changeType = function () {\n                    //@ts-ignore\n                    if (!this.isFolder) {\n                        Vue.set(this.model, 'children', []);\n                        this.addChild();\n                        this.open = true;\n                    }\n                };\n                TreeItem.prototype.addChild = function () {\n                    this.model.children.push({\n                        //@ts-ignore\n                        name: 'new stuff'\n                    });\n                };\n                return TreeItem;\n            }(aj.VueComponent));\n            tree.TreeItem = TreeItem;\n            new TreeItem().register();\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\n\n\nvar aj;\n(function (aj) {\n    var tree;\n    (function (tree) {\n        var Tree = /** @class */ (function (_super) {\n            __extends(Tree, _super);\n            function Tree() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = 'aj-tree';\n                _this.template = '<ul class=\"aj-tree\"><aj-tree-item :model=\"treeData\"></aj-tree-item></ul>';\n                _this.props = {\n                    apiUrl: String,\n                    topNodeName: String\n                };\n                /**\n                 * 根节点显示名称\n                 */\n                _this.topNodeName = \"\";\n                _this.apiUrl = \"\";\n                _this.isAutoLoad = false;\n                _this.treeData = {\n                    name: _this.topNodeName || 'TOP',\n                    children: null\n                };\n                return _this;\n            }\n            Tree.prototype.getData = function () {\n                var _this = this;\n                aj.xhr.get(this.apiUrl, function (j) {\n                    // @ts-ignore\n                    _this.treeData.children = tree.toTreeArray(j.result);\n                });\n                // 递归组件怎么事件上报呢？通过事件 bus\n                this.BUS && this.BUS.$on('treenodeclick', function (data) { return _this.$emit('treenodeclick', data); });\n            };\n            Tree.prototype.mounted = function () {\n                this.getData();\n            };\n            return Tree;\n        }(aj.VueComponent));\n        tree.Tree = Tree;\n        new Tree().register();\n        /**\n         * 注意递归组件的使用\n         */\n        var TreeItem = /** @class */ (function (_super) {\n            __extends(TreeItem, _super);\n            function TreeItem() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.name = 'aj-tree-item';\n                _this.template = html(__makeTemplateObject([\"\\n                <li>\\n                    <div :class=\\\"{bold: isFolder, node: true}\\\" @click=\\\"toggle\\\">\\n                        <span>\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7</span>{{model.name}}\\n                        <span v-if=\\\"isFolder\\\">[{{open ? '-' : '+'}}]</span>\\n                    </div>\\n                    <ul v-show=\\\"open\\\" v-if=\\\"isFolder\\\" :class=\\\"{show: open}\\\">\\n                        <aj-tree-item class=\\\"item\\\" v-for=\\\"(model, index) in model.children\\\" :key=\\\"index\\\" :model=\\\"model\\\">\\n                        </aj-tree-item>\\n                        <li v-if=\\\"allowAddNode\\\" class=\\\"add\\\" @click=\\\"addChild\\\">+</li>\\n                    </ul>\\n                </li>\\n            \"], [\"\\n                <li>\\n                    <div :class=\\\"{bold: isFolder, node: true}\\\" @click=\\\"toggle\\\">\\n                        <span>\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7\\u00B7</span>{{model.name}}\\n                        <span v-if=\\\"isFolder\\\">[{{open ? '-' : '+'}}]</span>\\n                    </div>\\n                    <ul v-show=\\\"open\\\" v-if=\\\"isFolder\\\" :class=\\\"{show: open}\\\">\\n                        <aj-tree-item class=\\\"item\\\" v-for=\\\"(model, index) in model.children\\\" :key=\\\"index\\\" :model=\\\"model\\\">\\n                        </aj-tree-item>\\n                        <li v-if=\\\"allowAddNode\\\" class=\\\"add\\\" @click=\\\"addChild\\\">+</li>\\n                    </ul>\\n                </li>\\n            \"]));\n                _this.props = {\n                    model: Object,\n                    allowAddNode: { type: Boolean, default: false } // 是否允许添加新节点\n                };\n                _this.model = { children: [] };\n                _this.open = false;\n                _this.allowAddNode = false;\n                // isFolder = false;\n                _this.computed = {\n                    isFolder: function () {\n                        return !!(this.model.children && this.model.children.length);\n                    }\n                };\n                return _this;\n            }\n            /**\n             * 点击节点时的方法\n             */\n            TreeItem.prototype.toggle = function () {\n                //@ts-ignore\n                if (this.isFolder)\n                    this.open = !this.open;\n                this.BUS && this.BUS.$emit('tree-node-click', this.model);\n            };\n            /**\n             * 变为文件夹\n             */\n            TreeItem.prototype.changeType = function () {\n                //@ts-ignore\n                if (!this.isFolder) {\n                    Vue.set(this.model, 'children', []);\n                    this.addChild();\n                    this.open = true;\n                }\n            };\n            TreeItem.prototype.addChild = function () {\n                this.model.children.push({\n                    //@ts-ignore\n                    name: 'new stuff'\n                });\n            };\n            return TreeItem;\n        }(aj.VueComponent));\n        tree.TreeItem = TreeItem;\n        new TreeItem().register();\n    })(tree = aj.tree || (aj.tree = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var list;\n    (function (list) {\n        var tree;\n        (function (tree) {\n            /**\n             * 寻找配置说明的节点\n             *\n             * @param obj\n             * @param queen\n             * @returns\n             */\n            function findNodesHolder(obj, queen) {\n                if (!queen.shift)\n                    return null;\n                var first = queen.shift();\n                for (var i in obj) {\n                    if (i === first) {\n                        var target_1 = obj[i];\n                        if (queen.length == 0) // 找到了\n                            return target_1;\n                        else\n                            return findNodesHolder(obj[i], queen);\n                    }\n                }\n                return null;\n            }\n            tree.findNodesHolder = findNodesHolder;\n        })(tree = list.tree || (list.tree = {}));\n    })(list = aj.list || (aj.list = {}));\n})(aj || (aj = {}));\n\n\"use strict\";\nvar aj;\n(function (aj) {\n    var tree;\n    (function (tree) {\n        /**\n         * 寻找节点\n         *\n         * @param obj\n         * @param queue\n         * @returns\n         */\n        function findNodesHolder(obj, queue) {\n            if (!queue.shift)\n                return null;\n            var first = queue.shift();\n            for (var i in obj) {\n                if (i === first) {\n                    var target_1 = obj[i];\n                    if (queue.length == 0) // 找到了\n                        return target_1;\n                    else\n                        return findNodesHolder(obj[i], queue);\n                }\n            }\n            return null;\n        }\n        tree.findNodesHolder = findNodesHolder;\n        //------------------------------------------------------------------------------\n        /**\n         * 根据传入 id 在一个数组中查找父亲节点\n         *\n         * @param map\n         * @param id\n         */\n        function findParentInArray(arr, id) {\n            for (var i = 0; i < arr.length; i++) {\n                var n = arr[i];\n                if (id == n.id)\n                    return n;\n                var c = n.children;\n                if (c) {\n                    var result = findParentInArray(c, id);\n                    if (result != null)\n                        return result;\n                }\n            }\n            return null;\n        }\n        tree.findParentInArray = findParentInArray;\n        /**\n         * 生成树，将扁平化的数组结构 还原为树状的 Array结构\n         * 父id 必须在子 id 之前，不然下面 findParent() 找不到后面的父节点，故先排序\n         *\n         * @param jsonArray\n         */\n        function toTreeArray(jsonArray) {\n            var arr = [];\n            for (var i = 0, j = jsonArray.length; i < j; i++) {\n                var n = jsonArray[i];\n                if (n.pid === -1)\n                    arr.push(n);\n                else {\n                    var parentNode = findParentInArray(arr, n.pid);\n                    if (parentNode) {\n                        if (!parentNode.children)\n                            parentNode.children = [];\n                        parentNode.children.push(n);\n                    }\n                    else\n                        console.log('parent not found!');\n                }\n            }\n            return arr;\n        }\n        tree.toTreeArray = toTreeArray;\n        //------------------------------------------------------------------------------\n        /**\n         * 根据传入 id 查找父亲节点\n         *\n         * @param map\n         * @param id\n         */\n        function findParentInMap(map, id) {\n            for (var i in map) {\n                var obj = map[i];\n                if (i == id)\n                    return obj;\n                if (obj === null)\n                    continue;\n                var c = obj.children;\n                if (c) {\n                    var result = findParentInMap(c, id);\n                    if (result != null)\n                        return result;\n                }\n            }\n            return null;\n        }\n        tree.findParentInMap = findParentInMap;\n        /**\n         * 生成树，将扁平化的数组结构 还原为树状的 Map 结构\n         * 父id 必须在子id之前，不然下面 findParent() 找不到后面的父节点，故前提条件是，这个数组必须先排序\n         *\n         * @param jsonArray\n         */\n        function toTreeMap(jsonArray) {\n            if (!jsonArray)\n                return null;\n            var m = {};\n            for (var i = 0, j = jsonArray.length; i < j; i++) {\n                var n = jsonArray[i];\n                if (n.pid === -1)\n                    m[n.id] = n;\n                else {\n                    var parentNode = findParentInMap(m, n.pid + \"\");\n                    if (parentNode) {\n                        if (!parentNode.children)\n                            parentNode.children = {};\n                        parentNode.children[n.id] = n;\n                    }\n                    else\n                        console.log('parent not found!');\n                }\n            }\n            return m;\n        }\n        tree.toTreeMap = toTreeMap;\n        var stack = [];\n        /**\n         * 遍历各个元素，输出\n         *\n         * @param map\n         * @param cb\n         */\n        function output(map, cb) {\n            stack.push(map);\n            for (var i in map) {\n                map[i].level = stack.length; // 层数，也表示缩进多少个字符\n                cb && cb(map[i], i);\n                var c = map[i].children;\n                c && output(c, cb);\n            }\n            stack.pop();\n        }\n        tree.output = output;\n    })(tree = aj.tree || (aj.tree = {}));\n})(aj || (aj = {}));\n"],"names":["aj","Vue","component","template","html","__makeTemplateObject","props","picCtx","String","uploadUrl","blankBg","delImgUrl","apiUrl","data","pics","mounted","this","getData","$refs","attachmentPictureUpload","uploadOk_callback","methods","_this","xhr","get","j","result","delPic","picId","showConfirm","dele","isOk","grid","Array","columns","filterKey","sortOrders","forEach","key","sortKey","computed","filteredData","toLowerCase","order","filter","row","Object","keys","some","indexOf","slice","sort","a","b","filters","capitalize","str","charAt","toUpperCase","sortBy","list","datastore","type","required","isPage","Boolean","default","initPageSize","Number","isAutoLoad","baseParam","pageParamNames","onLoad","Function","extraParam","pageSize","total","totalPage","pageStart","currentPage","jumpPageBySelect","ev","selectEl","target","options","selectedIndex","value","onPageSizeChange","count","yushu","parseInt","previousPage","nextPage","mixins","showDefaultUi","isShowFooter","hrefStr","autoLoadWhenReachedBottom","isDataAppend","lastRequestParam","apply","params","call","undefined","alert","length","$emit","reset","onExtraParamChange","watch","fireSelect","BUS","$parent","form","SectionModel","isSelectAll","selected","selectedTotal","maxRows","$on","batchDelete","id","console","log","selectAll","$el","$","item","checked","dataset","$set","handler","_new","i","deep","_super","Grid","VueComponent","__extends","prototype","updateApi","showAddNew","$children","child","$options","_componentTag","$toolbar","$row","$store","onCreateClk","reload","onDirtySaveClk","dirties","dirty","push","put","updateUrl","msg","show","arguments","name","register","EditRowCreate","createApi","addNew","map","post","GridEditRow","initRowData","showIdCol","showCheckboxCol","showControl","enableInlineEdit","filterField","deleApi","controlUi","rowData","isEditMode","styleModifly","padding","makeWatch","field","arr","$watch","selectCheckboxChange","checkbox","parent","renderCell","cellRenderer","v","renderer","canEdit","rendererEditMode","toString","editMode","editRenderer","onEditClk","dbEdit","el_1","tagName","up","setTimeout","_el","focus","betweenDate","create","save","excel","deleBtn","search","doSearch","preventDefault","keyword","utils","getFormFieldValue","tree","findNodesHolder","obj","queen","shift","first","target_1","TreeLikeSelect","fieldName","ctx","isAutoJump","initFieldValue","fieldValue","rendererOption","jsonArray","select","selectedId","cfg","option","makeAllOption","document","createElement","innerHTML","allOptionName","appendChild","temp_1","treeNode","toTreeMap","createDocumentFragment","output","node","nodeId","pid","level","join","onSelected","el","selectedOptions","location","assign","concat","selectOption","findParentInArray","children","findParentInMap","c","q","p","makeTree","parentNode","n","stack","cb","pop","toTree","m","temp","TreeItem","model","allowAddNode","open","isFolder","toggle","changeType","set","addChild","Tree","treeData","toTreeArray","topNodeName","queue"],"mappings":"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"}