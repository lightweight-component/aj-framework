<html>

<head>
    <meta charset="utf-8" />
    <title>Fast Doc</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.13/vue.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <h1>接口文档</h1>
    <div id="doc">

        <div class="content">
            <h2>概述</h2>
            <p>HTTP v1.1，采用 RESTful 风格，UTF-8 编码，JSON 数据格式。</p>
            <p>参数位置说明：header 指该参数为 HTTP 请求头里的参数；
                path 指该参数为路径参数；
                query 指该参数需在请求 URL 传参，即 QueryString；
                body 指该参数需在请求 Raw Body 中传参，通常为 JSON Body；
                form 指该参数需在标准表单请求中</p>
        </div>
        <ul v-for="item in list">
            <li>
                <h2>{{item.name}}</h2>
                <p>{{item.description}}</p>
                <div class="tag">
                    <div :class="item.httpMethod">
                        {{item.httpMethod}}
                    </div>
                    <div>
                        {{item.url}}
                    </div>
                </div>
                <div class="tag">
                    <div>
                        后端业务方法
                    </div>
                    <div>
                        {{item.methodName}}()
                    </div>
                </div>

                <h3>URL</h3>


                <div class="code">
                    <span :class="item.httpMethod" style="font-weight: bold;">
                        {{item.httpMethod}}
                    </span>
                    {{root}}{{item.url}} <a :href="root + item.url" target="_blank" title="打开连接">&#x1f517;</a>
                </div>

                <h3>请求参数</h3>
                <table class="b" v-if="item.args.length">
                    <tr>
                        <th>参数名称</th>
                        <th>参数位置</th>
                        <th>参数说明</th>
                        <th>是否可选</th>
                        <th>默认值</th>
                    </tr>
                    <tr v-for="arg in item.args">
                        <td>{{arg.name}}</td>
                        <td>{{arg.name}}</td>
                        <td>{{arg.name}}</td>
                        <td>{{arg.name}}</td>
                        <td>{{arg.name}}</td>
                    </tr>
                </table>
                <div v-if="!item.args.length">无</div>

                <h3>返回值</h3>
                <div class="code">
                    <div>{</div>
                    <div style="margin-left: 20px;"> "status": 1/0, <span class="comment">// 1=操作成功，0 = 操作失败</span>
                    </div>
                    <div style="margin-left: 20px;"> "message": "{{item.name}}", </div>
                    <div style="margin-left: 20px;"> "data": {</div>
                    <ul style="margin-left: 25px;">
                        <li v-for="reVal in item.returnValue.values">
                            <div class="block">
                                <span class="key">{{reVal.name}}</span>: <span class="type">{{reVal.type}}</span>,
                            </div>
                            <span class="comment">// {{reVal.desc}}</span>
                        </li>
                    </ul>
                    <div style="margin-left: 20px;">}</div>
                    <div>}</div>
                </div>
            </li>
        </ul>
    </div>
    <script>

        new Vue({
            el: document.getElementById('doc'),
            data: {
                root: 'https://foo.com/api',
                list:
                    [{ "name": "选择任务后返回侦查点", "description": "", "methodName": "getDetectPonintByAipTaskId", "args": [{ "name": "aipTaskId" }, { "name": "taskId" }], "returnValue": { "name": "GeoPoint", "comment": null, "fullName": "com.toway.droneswarm.detect.model.GeoPoint", "isMany": true, "isObject": true, "values": [{ "name": "name", "desc": "名称", "type": "String", "isRequired": false }, { "name": "pointNo", "desc": "序号", "type": "String", "isRequired": false }, { "name": "speed", "desc": "速度", "type": "Float", "isRequired": false }, { "name": "radius", "desc": "圆形半径", "type": "Float", "isRequired": false }, { "name": "distance", "desc": "和上一个点距离", "type": "Float", "isRequired": false }, { "name": "turnMode", "desc": "转弯模式，内切", "type": "String", "isRequired": false }, { "name": "visited", "desc": "是否已访问", "type": "Boolean", "isRequired": false }, { "name": "isImport", "desc": "是否导入", "type": "Boolean", "isRequired": false }, { "name": "payload", "desc": "", "type": "Map", "isRequired": false }, { "name": "longitude", "desc": "经度", "type": "Float", "isRequired": false }, { "name": "latitude", "desc": "维度", "type": "Float", "isRequired": false }, { "name": "altitude", "desc": "海拔", "type": "Float", "isRequired": false }] }, "httpMethod": "GET", "url": "/{taskId}/getDetectPonintByAipTaskId/{aipTaskId}" }, { "name": "创建抵近侦察任务", "description": "", "methodName": "createCloseDetectTask", "args": [], "returnValue": { "name": null, "comment": null, "fullName": null, "isMany": false, "isObject": false, "values": null }, "httpMethod": "POST", "url": "/task" }, { "name": "保存所有侦查点", "description": "", "methodName": "saveAllDetectPoint", "args": [{ "name": "taskId" }, { "name": "detectPoints" }], "returnValue": { "name": "Boolean", "comment": null, "fullName": "java.lang.Boolean", "isMany": false, "isObject": false, "values": null }, "httpMethod": "POST", "url": "/detect_point/{taskId}" }, { "name": "生成资源规划", "description": "", "methodName": "resourcePlan", "args": [{ "name": "taskId" }], "returnValue": { "name": null, "comment": null, "fullName": null, "isMany": false, "isObject": false, "values": null }, "httpMethod": "GET", "url": "/make_resource_plan/{taskId}" }, { "name": "保存资源规划", "description": "", "methodName": "saveResourcePlan", "args": [{ "name": "taskId" }, { "name": "list" }], "returnValue": { "name": "Boolean", "comment": null, "fullName": "java.lang.Boolean", "isMany": false, "isObject": false, "values": null }, "httpMethod": "POST", "url": "/resource_plan/{taskId}" }, { "name": "获取资源规划", "description": "", "methodName": "getResourcePlan", "args": [{ "name": "taskId" }], "returnValue": { "name": "CloseResPlan", "comment": null, "fullName": "com.toway.droneswarm.detect.model.DetectDto$CloseResPlan", "isMany": true, "isObject": true, "values": null }, "httpMethod": "GET", "url": "/resource_plan/{taskId}" }, { "name": "获取侦察任务列表", "description": "", "methodName": "getAllDoneTask", "args": [{ "name": "pageNo" }, { "name": "pageSize" }, { "name": "start_time" }, { "name": "end_time" }], "returnValue": { "name": null, "comment": null, "fullName": null, "isMany": false, "isObject": false, "values": null }, "httpMethod": "GET", "url": "/task_list" }, { "name": "获取图像拼接识别任务（导入侦察点）", "description": "", "methodName": "getAipTask", "args": [{ "name": "pageNo" }, { "name": "pageSize" }], "returnValue": { "name": null, "comment": null, "fullName": null, "isMany": false, "isObject": false, "values": null }, "httpMethod": "GET", "url": "/aip_task_list" }, { "name": "获取任务进度", "description": "", "methodName": "getTaskCurrent", "args": [{ "name": "taskId" }], "returnValue": { "name": null, "comment": null, "fullName": null, "isMany": false, "isObject": false, "values": null }, "httpMethod": "GET", "url": "/progress/{taskId}" }, { "name": "获取抵近任务摘要", "description": "", "methodName": "summaryTask", "args": [{ "name": "taskId" }], "returnValue": { "name": null, "comment": null, "fullName": null, "isMany": false, "isObject": false, "values": null }, "httpMethod": "GET", "url": "/summary/{taskId}" }, { "name": "航路规划", "description": "", "methodName": "routePlan", "args": [{ "name": "taskId" }], "returnValue": { "name": "UAVRouteOutputOfApproach", "comment": null, "fullName": "com.toway.lbsalgo.bean.output.UAVRouteOutputOfApproach", "isMany": true, "isObject": true, "values": null }, "httpMethod": "GET", "url": "/route_plan/{taskId}" }]

            }
        });
    </script>

</body>

</html>